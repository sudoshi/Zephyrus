import{P as t,r as d,j as e,K as Y}from"./app-DNCPaP7U.js";import{A as U}from"./AnalyticsLayout-Dzg-osze.js";import{H as V}from"./HierarchicalFilters-D21C3-_q.js";import{E as F}from"./ErrorBoundary-ti8iig1M.js";import{p as b,H as C,_ as E}from"./PieChart-DNJdnlhf.js";import{P as m}from"./Panel-DEM8HheS.js";import{u as J}from"./AuthenticatedLayout-bVzRFQ8r.js";import{g as X}from"./chartTheme-DgA_-sjg.js";import{u as L}from"./useDarkMode-Cjnn_MHf.js";import{m as N}from"./proxy-nweJ2GES.js";import{T as G}from"./TabNavigation-CocRP9X6.js";import"./FlowbiteThemeProvider-DOyZZW8A.js";import"./ToggleSwitch-wWvkbsAB.js";import"./TopNavigation-BPEMQkzy.js";import"./iconify-CuDxMG-b.js";import"./UserAvatar-DdRArJVQ.js";import"./DarkModeToggle-oH18ZJvw.js";import"./useFocusVisible-KZXt4Cm4.js";import"./portal-B_iHtz37.js";import"./transition-l3QoJGEh.js";import"./uniqueId-S-XtUeLk.js";import"./_baseAssignValue-CSgy8S_V.js";import"./AnalyticsContext-DCNkK6OB.js";import"./format-D9ti-yNI.js";import"./filter-CKwhiPJ7.js";import"./createLucideIcon-Ce72M_cX.js";import"./chevron-down-h_OS1dfS.js";import"./calendar-CYnYG7qc.js";import"./x-DW-vgWTY.js";import"./create-factory-CkrcLOT8.js";import"./create-visual-element-BEDpu-j8.js";const s={sites:{"MARH OR":{averageRoomsRunning:12.4,totalRooms:16,utilizationRate:77.5,totalCases:2345,averageCaseDuration:142,roomsRunningByHour:{"7:00":8,"8:00":14,"9:00":16,"10:00":16,"11:00":15,"12:00":13,"13:00":14,"14:00":15,"15:00":14,"16:00":12,"17:00":9,"18:00":6,"19:00":4,"20:00":2}},"VORH JRI OR":{averageRoomsRunning:7.8,totalRooms:10,utilizationRate:78,totalCases:1876,averageCaseDuration:156,roomsRunningByHour:{"7:00":5,"8:00":9,"9:00":10,"10:00":10,"11:00":9,"12:00":8,"13:00":9,"14:00":9,"15:00":8,"16:00":7,"17:00":6,"18:00":4,"19:00":3,"20:00":1}},"VORH Main OR":{averageRoomsRunning:14.2,totalRooms:18,utilizationRate:78.9,totalCases:2103,averageCaseDuration:138,roomsRunningByHour:{"7:00":10,"8:00":16,"9:00":18,"10:00":18,"11:00":17,"12:00":15,"13:00":16,"14:00":17,"15:00":16,"16:00":14,"17:00":11,"18:00":8,"19:00":5,"20:00":3}}},services:{Orthopedics:{averageRoomsRunning:5.2,utilizationRate:80},"General Surgery":{averageRoomsRunning:6.8,utilizationRate:77.3},Neurosurgery:{averageRoomsRunning:3.5,utilizationRate:83.3},Cardiothoracic:{averageRoomsRunning:2.8,utilizationRate:87.5},ENT:{averageRoomsRunning:4.1,utilizationRate:75.9},Urology:{averageRoomsRunning:3.2,utilizationRate:76.2},Vascular:{averageRoomsRunning:2.4,utilizationRate:80},Plastics:{averageRoomsRunning:1.8,utilizationRate:72}},weekdays:{averageRoomsRunning:[{time:"7:00",value:8},{time:"8:00",value:14},{time:"9:00",value:16},{time:"10:00",value:16},{time:"11:00",value:15},{time:"12:00",value:13},{time:"13:00",value:14},{time:"14:00",value:15},{time:"15:00",value:14},{time:"16:00",value:12},{time:"17:00",value:9},{time:"18:00",value:6},{time:"19:00",value:4},{time:"20:00",value:2}],Monday:[{time:"7:00",value:7},{time:"8:00",value:13},{time:"9:00",value:15},{time:"10:00",value:15},{time:"11:00",value:14},{time:"12:00",value:12},{time:"13:00",value:13},{time:"14:00",value:14},{time:"15:00",value:13},{time:"16:00",value:11},{time:"17:00",value:8},{time:"18:00",value:5},{time:"19:00",value:3},{time:"20:00",value:1}],Tuesday:[{time:"7:00",value:9},{time:"8:00",value:15},{time:"9:00",value:17},{time:"10:00",value:17},{time:"11:00",value:16},{time:"12:00",value:14},{time:"13:00",value:15},{time:"14:00",value:16},{time:"15:00",value:15},{time:"16:00",value:13},{time:"17:00",value:10},{time:"18:00",value:7},{time:"19:00",value:5},{time:"20:00",value:3}],Wednesday:[{time:"7:00",value:8},{time:"8:00",value:14},{time:"9:00",value:16},{time:"10:00",value:16},{time:"11:00",value:15},{time:"12:00",value:13},{time:"13:00",value:14},{time:"14:00",value:15},{time:"15:00",value:14},{time:"16:00",value:12},{time:"17:00",value:9},{time:"18:00",value:6},{time:"19:00",value:4},{time:"20:00",value:2}],Thursday:[{time:"7:00",value:8},{time:"8:00",value:14},{time:"9:00",value:16},{time:"10:00",value:16},{time:"11:00",value:15},{time:"12:00",value:13},{time:"13:00",value:14},{time:"14:00",value:15},{time:"15:00",value:14},{time:"16:00",value:12},{time:"17:00",value:9},{time:"18:00",value:6},{time:"19:00",value:4},{time:"20:00",value:2}],Friday:[{time:"7:00",value:7},{time:"8:00",value:13},{time:"9:00",value:15},{time:"10:00",value:15},{time:"11:00",value:14},{time:"12:00",value:12},{time:"13:00",value:13},{time:"14:00",value:14},{time:"15:00",value:13},{time:"16:00",value:11},{time:"17:00",value:8},{time:"18:00",value:5},{time:"19:00",value:3},{time:"20:00",value:1}]},weekend:[{time:"7:00",value:3},{time:"8:00",value:5},{time:"9:00",value:6},{time:"10:00",value:6},{time:"11:00",value:5},{time:"12:00",value:4},{time:"13:00",value:5},{time:"14:00",value:5},{time:"15:00",value:4},{time:"16:00",value:3},{time:"17:00",value:2},{time:"18:00",value:1},{time:"19:00",value:0},{time:"20:00",value:0}],monthlyTrends:{"MARH OR":[{month:"Jan",value:11.8},{month:"Feb",value:12.1},{month:"Mar",value:12.4},{month:"Apr",value:12.6},{month:"May",value:12.9},{month:"Jun",value:13.2},{month:"Jul",value:12.7},{month:"Aug",value:12.2},{month:"Sep",value:12.5},{month:"Oct",value:12.8},{month:"Nov",value:13.1},{month:"Dec",value:12.6}],"VORH JRI OR":[{month:"Jan",value:7.2},{month:"Feb",value:7.5},{month:"Mar",value:7.8},{month:"Apr",value:8},{month:"May",value:8.3},{month:"Jun",value:8.6},{month:"Jul",value:8.1},{month:"Aug",value:7.6},{month:"Sep",value:7.9},{month:"Oct",value:8.2},{month:"Nov",value:8.5},{month:"Dec",value:8}],"VORH Main OR":[{month:"Jan",value:13.6},{month:"Feb",value:13.9},{month:"Mar",value:14.2},{month:"Apr",value:14.4},{month:"May",value:14.7},{month:"Jun",value:15},{month:"Jul",value:14.5},{month:"Aug",value:14},{month:"Sep",value:14.3},{month:"Oct",value:14.6},{month:"Nov",value:14.9},{month:"Dec",value:14.4}]},memhOR:{filters:{orGroup:"MEMH OR",weekday:["Monday","Tuesday","Wednesday","Thursday","Friday"],metricToShow:"Max Staffing"},dataSeries:{maxStaffing:{id:"Max Staffing",color:"#4169E1",data:[{time:"0",value:0},{time:"1",value:0},{time:"2",value:1.5},{time:"3",value:1.8},{time:"4",value:1.2},{time:"5",value:1},{time:"6",value:.8},{time:"7",value:.5},{time:"7:30",value:9.2},{time:"8",value:11},{time:"9",value:9.8},{time:"10",value:9.2},{time:"11",value:8.8},{time:"12",value:8.6},{time:"13",value:8.5},{time:"14",value:8.6},{time:"15",value:8.4},{time:"15:30",value:6.8},{time:"16",value:5.5},{time:"17",value:4.2},{time:"17:30",value:3},{time:"18",value:2.5},{time:"19",value:2},{time:"20",value:1.9},{time:"21",value:2},{time:"22",value:2},{time:"23",value:1.8},{time:"24",value:0}]},idealStaffing:{id:"Ideal Staffing",color:"#FFA500",data:[{time:"0",value:0},{time:"1",value:0},{time:"2",value:1},{time:"3",value:1.2},{time:"4",value:1},{time:"5",value:.8},{time:"6",value:.6},{time:"7",value:.3},{time:"7:30",value:8.5},{time:"8",value:8.8},{time:"9",value:8.2},{time:"10",value:7.5},{time:"11",value:7.2},{time:"12",value:7},{time:"13",value:6.8},{time:"14",value:6.9},{time:"15",value:6.7},{time:"15:30",value:5.5},{time:"16",value:4.2},{time:"17",value:3.2},{time:"17:30",value:2.5},{time:"18",value:2},{time:"19",value:1.8},{time:"20",value:1.6},{time:"21",value:1.7},{time:"22",value:1.8},{time:"23",value:1.6},{time:"24",value:0}]},avgTotalOccupied:{id:"Avg_TotalOccupied",color:"#FF4500",data:[{time:"0",value:0},{time:"1",value:0},{time:"2",value:.8},{time:"3",value:1},{time:"4",value:.8},{time:"5",value:.6},{time:"6",value:.4},{time:"7",value:.2},{time:"7:30",value:6.8},{time:"8",value:6.5},{time:"9",value:6.2},{time:"10",value:5.8},{time:"11",value:5.6},{time:"12",value:5.5},{time:"13",value:5.3},{time:"14",value:5.4},{time:"15",value:5.2},{time:"15:30",value:4},{time:"16",value:3},{time:"17",value:2.2},{time:"17:30",value:1.8},{time:"18",value:1.5},{time:"19",value:1.3},{time:"20",value:1.2},{time:"21",value:1.3},{time:"22",value:1.4},{time:"23",value:1.2},{time:"24",value:0}]},maxOccupied:{id:"Max Occupied",color:"#20B2AA",data:[{time:"0",value:0},{time:"1",value:0},{time:"2",value:1},{time:"3",value:1.2},{time:"4",value:1},{time:"5",value:.8},{time:"6",value:.6},{time:"7",value:.3},{time:"7:30",value:7},{time:"8",value:7.2},{time:"9",value:7},{time:"10",value:6.5},{time:"11",value:6.2},{time:"12",value:6},{time:"13",value:5.8},{time:"14",value:5.9},{time:"15",value:5.7},{time:"15:30",value:4.5},{time:"16",value:3.5},{time:"17",value:2.8},{time:"17:30",value:2},{time:"18",value:1.7},{time:"19",value:1.5},{time:"20",value:1.4},{time:"21",value:1.5},{time:"22",value:1.6},{time:"23",value:1.4},{time:"24",value:0}]}},statistics:{timeOfDay:"18:30",average:1.382,averagePlus1StdDev:2.295,averagePlus2StdDev:3.21,max:3,sum:55},verticalMarkers:[{time:"7:30",label:"07:30"},{time:"15:30",label:"15:30"},{time:"17:30",label:"17:30"}]}},P=({filters:v})=>{var w,D,T;const{selectedHospital:a,selectedLocation:p,selectedSpecialty:h,dateRange:u}=v,{isDarkMode:i}=J(),o=d.useMemo(()=>s.memhOR,[]),r=d.useMemo(()=>{const c=p||Object.keys(s.sites)[0];return s.sites[c]||s.sites[Object.keys(s.sites)[0]]},[p]),l=d.useMemo(()=>s.weekdays.averageRoomsRunning,[]),n=d.useMemo(()=>[{id:"Rooms Running",data:l.map(c=>({x:c.time,y:c.value}))}],[l]),y=d.useMemo(()=>[{id:"Rooms Running",data:Object.entries(r.roomsRunningByHour).map(([c,f])=>({x:c,y:f}))},{id:"Utilization %",data:Object.entries(r.roomsRunningByHour).map(([c,f])=>({x:c,y:f/r.totalRooms*100}))}],[r]),g=d.useMemo(()=>o.dataSeries?["maxStaffing","idealStaffing","avgTotalOccupied"].map(f=>{const O=o.dataSeries[f];return{id:O.id,color:O.color,data:O.data.map(k=>({x:k.time,y:k.value}))}}):[],[o]),x=d.useMemo(()=>o.statistics||{},[o]),S=d.useMemo(()=>o.verticalMarkers||[],[o]),j=({xScale:c,innerWidth:f,innerHeight:O})=>!S||S.length===0?null:e.jsx("g",{children:S.map((k,I)=>{const z=c(k.time);return e.jsxs("g",{children:[e.jsx("line",{x1:z,y1:0,x2:z,y2:O,stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:1,strokeDasharray:"4 4"}),e.jsx("text",{x:z,y:15,textAnchor:"middle",fontSize:10,fontWeight:"bold",fill:"rgba(255, 255, 255, 0.8)",children:k.label||k.time})]},`marker-${I}`)})}),R=X(i);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:o.title||"Rooms Running Charts"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.subtitle||""}),e.jsxs("p",{className:"text-sm font-medium mt-2",children:["For: ",((w=o.filters)==null?void 0:w.orGroup)||"All OR Groups",e.jsx("br",{}),"Days of Week: ",((T=(D=o.filters)==null?void 0:D.weekday)==null?void 0:T.join(", "))||"All Days"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",defaultValue:"2024-09-01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",defaultValue:"2024-12-31"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"OR Group"}),e.jsxs("select",{className:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("option",{children:"MEMH OR"}),e.jsx("option",{children:"VORH Main OR"}),e.jsx("option",{children:"VORH JRI OR"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"WEEKDAY"}),e.jsxs("select",{className:"w-full rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("option",{children:"(Multiple values)"}),e.jsx("option",{children:"Monday"}),e.jsx("option",{children:"Tuesday"}),e.jsx("option",{children:"Wednesday"}),e.jsx("option",{children:"Thursday"}),e.jsx("option",{children:"Friday"})]})]})]}),e.jsx(m,{title:"Rooms Running by Time of Day",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-192",children:e.jsx(b,{data:g,margin:{top:40,right:20,bottom:60,left:60},xScale:{type:"point",precision:0},yScale:{type:"linear",min:0,max:12},curve:"monotoneX",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time of Day",legendOffset:40,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"# of Rooms Running",legendOffset:-50,legendPosition:"middle"},colors:c=>c.color||{scheme:"category10"},pointSize:6,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,enableSlices:"x",sliceTooltip:({slice:c})=>e.jsxs("div",{style:{background:"rgba(31, 41, 55, 0.9)",color:"#ffffff",padding:"9px 12px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:[e.jsxs("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:["Time: ",c.points[0].data.x]}),c.points.map(f=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"3px"},children:[e.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:f.serieColor,borderRadius:"50%"}}),e.jsxs("div",{children:[f.serieId,": ",f.data.y]})]},f.id)),x&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"11px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",paddingTop:"4px"},children:[e.jsxs("div",{children:["Average: ",x.average]}),e.jsxs("div",{children:["Avg + 1 StDev: ",x.averagePlus1StdDev]}),e.jsxs("div",{children:["Max: ",x.max]})]})]}),gridXValues:["0","4","8","12","16","20","24"],gridYValues:[0,2,4,6,8,10,12],theme:R,legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:50,itemsSpacing:10,itemDirection:"left-to-right",itemWidth:100,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],layers:["grid","markers","axes","areas","lines","points","slices","mesh","legends",j]})})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Additional Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(m,{title:"Avg. Rooms Running",isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.averageRoomsRunning}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",r.totalRooms," total rooms"]})]}),e.jsxs(m,{title:"Utilization Rate",isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.utilizationRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall room utilization"})]}),e.jsxs(m,{title:"Total Cases",isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalCases}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cases performed in selected period"})]}),e.jsxs(m,{title:"Avg. Case Duration",isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.averageCaseDuration," min"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average case duration"})]})]}),e.jsx(m,{title:"Rooms Running by Hour - Weekdays",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80 bg-gray-900 rounded-lg p-4",children:e.jsx(b,{data:n,margin:{top:20,right:20,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Rooms Running",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,enableArea:!0,areaOpacity:.3,theme:R,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:0,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})}),e.jsx(m,{title:`Room Utilization by Hour - ${p||Object.keys(s.sites)[0]}`,isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80 bg-gray-900 rounded-lg p-4",children:e.jsx(b,{data:y,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Hour",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Rooms Running / Utilization (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,theme:R,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})})]})]})};P.propTypes={filters:t.shape({selectedHospital:t.string,selectedLocation:t.string,selectedSpecialty:t.string,selectedSurgeon:t.string,dateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)}),showComparison:t.bool,comparisonDateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)})}).isRequired};const M=({filters:v})=>{const[a]=L(),p=d.useMemo(()=>[{id:"Weekdays",data:s.weekdays.averageRoomsRunning.map(i=>({x:i.time,y:i.value}))},{id:"Weekend",data:s.weekend.map(i=>({x:i.time,y:i.value}))}],[]),h=d.useMemo(()=>[{id:"Monday",data:s.weekdays.Monday.map(i=>({x:i.time,y:i.value}))},{id:"Tuesday",data:s.weekdays.Tuesday.map(i=>({x:i.time,y:i.value}))},{id:"Wednesday",data:s.weekdays.Wednesday.map(i=>({x:i.time,y:i.value}))},{id:"Thursday",data:s.weekdays.Thursday.map(i=>({x:i.time,y:i.value}))},{id:"Friday",data:s.weekdays.Friday.map(i=>({x:i.time,y:i.value}))}],[]),u={axis:{ticks:{text:{fill:a?"#e5e7eb":"#374151"}},legend:{text:{fill:a?"#e5e7eb":"#374151"}}},grid:{line:{stroke:a?"#374151":"#e5e7eb"}},tooltip:{container:{background:a?"#1f2937":"#ffffff",color:a?"#e5e7eb":"#374151"}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{title:"Weekday vs. Weekend Comparison",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(b,{data:p,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Rooms Running",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,theme:u,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})}),e.jsx(m,{title:"Day of Week Comparison",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96",children:e.jsx(b,{data:h,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Time",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Rooms Running",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:4,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,theme:u,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})})]})};M.propTypes={filters:t.shape({selectedHospital:t.string,selectedLocation:t.string,selectedSpecialty:t.string,selectedSurgeon:t.string,dateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)}),showComparison:t.bool,comparisonDateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)})}).isRequired};const B=({filters:v})=>{const{selectedHospital:a,selectedLocation:p,selectedSpecialty:h,dateRange:u}=v,[i]=L(),o=d.useMemo(()=>Object.entries(s.monthlyTrends).map(([n,y])=>({id:n,data:y.map(g=>({x:g.month,y:g.value}))})),[]),r=d.useMemo(()=>a?o.filter(n=>n.id.startsWith(a.toUpperCase())):o,[a,o]),l={axis:{ticks:{text:{fill:i?"#e5e7eb":"#374151"}},legend:{text:{fill:i?"#e5e7eb":"#374151"}}},grid:{line:{stroke:i?"#374151":"#e5e7eb"}},tooltip:{container:{background:i?"#1f2937":"#ffffff",color:i?"#e5e7eb":"#374151"}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{title:"Monthly Trend - Average Rooms Running",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96",children:e.jsx(b,{data:r,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Avg. Rooms Running",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,theme:l,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:120,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})}),e.jsx(m,{title:"Year-over-Year Comparison",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(b,{data:[{id:"Current Year",data:s.yearOverYear.currentYear.map(n=>({x:n.month,y:n.value}))},{id:"Previous Year",data:s.yearOverYear.previousYear.map(n=>({x:n.month,y:n.value}))}],margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Avg. Rooms Running",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,theme:l,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:100,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})})]})};B.propTypes={filters:t.shape({selectedHospital:t.string,selectedLocation:t.string,selectedSpecialty:t.string,selectedSurgeon:t.string,dateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)}),showComparison:t.bool,comparisonDateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)})}).isRequired};const H=({filters:v})=>{const{selectedHospital:a,selectedLocation:p,selectedSpecialty:h,dateRange:u}=v,[i]=L(),o=d.useMemo(()=>{const n=Object.keys(s.sites);return(a?n.filter(g=>g.startsWith(a.toUpperCase())):n).map(g=>{const x=s.sites[g];return{location:g,"Avg. Rooms Running":x.averageRoomsRunning,"Utilization Rate":x.utilizationRate,"Total Rooms":x.totalRooms}})},[a]),r=d.useMemo(()=>{const n=Object.keys(s.sites);return(a?n.filter(g=>g.startsWith(a.toUpperCase())):n).map(g=>{const x=s.sites[g],S=x.roomsRunningByHour,j=Object.entries(S).reduce((R,[w,D])=>D>R.value?{hour:w,value:D}:R,{hour:"0",value:0});return{location:g,"Peak Hour":j.hour,"Peak Rooms Running":j.value,"Peak Utilization":j.value/x.totalRooms*100}})},[a]),l={axis:{ticks:{text:{fill:i?"#e5e7eb":"#374151"}},legend:{text:{fill:i?"#e5e7eb":"#374151"}}},grid:{line:{stroke:i?"#374151":"#e5e7eb"}},tooltip:{container:{background:i?"#1f2937":"#ffffff",color:i?"#e5e7eb":"#374151"}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{title:"Location Comparison - Average Rooms Running",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(C,{data:o,keys:["Avg. Rooms Running"],indexBy:"location",margin:{top:20,right:20,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"category10"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Location",legendPosition:"middle",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Avg. Rooms Running",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},theme:l})})}),e.jsx(m,{title:"Location Comparison - Utilization Rate",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(C,{data:o,keys:["Utilization Rate"],indexBy:"location",margin:{top:20,right:20,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"category10"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Location",legendPosition:"middle",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization Rate (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},theme:l})})}),e.jsx(m,{title:"Peak Hours by Location",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Location"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Peak Hour"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Peak Rooms Running"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Peak Utilization (%)"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:r.map((n,y)=>e.jsxs("tr",{className:y%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:n.location}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[n["Peak Hour"],":00"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:n["Peak Rooms Running"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[n["Peak Utilization"].toFixed(1),"%"]})]},y))})]})})})]})};H.propTypes={filters:t.shape({selectedHospital:t.string,selectedLocation:t.string,selectedSpecialty:t.string,selectedSurgeon:t.string,dateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)}),showComparison:t.bool,comparisonDateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)})}).isRequired};const A=({filters:v})=>{const[a]=L(),p=d.useMemo(()=>Object.entries(s.services).map(([i,o])=>({id:i,label:i,value:o.averageRoomsRunning})),[]),h=d.useMemo(()=>Object.entries(s.services).map(([i,o])=>({service:i,"Avg. Rooms Running":o.averageRoomsRunning,"Utilization Rate":o.utilizationRate,"Avg. Case Duration":o.averageCaseDuration})),[]);d.useMemo(()=>Object.entries(s.services).sort((o,r)=>r[1].averageRoomsRunning-o[1].averageRoomsRunning).slice(0,5).map(([o])=>o).map(o=>{const r=s.services[o];return{id:o,data:Object.entries(r.roomsRunningByHour).map(([l,n])=>({x:l,y:n}))}}),[]);const u={axis:{ticks:{text:{fill:a?"#e5e7eb":"#374151"}},legend:{text:{fill:a?"#e5e7eb":"#374151"}}},grid:{line:{stroke:a?"#374151":"#e5e7eb"}},tooltip:{container:{background:a?"#1f2937":"#ffffff",color:a?"#e5e7eb":"#374151"}},labels:{text:{fill:a?"#e5e7eb":"#374151"}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(m,{title:"Service Distribution - Rooms Running",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(E,{data:p,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:a?"#e5e7eb":"#374151",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},colors:{scheme:"category10"},theme:u,legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:a?"#e5e7eb":"#374151",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:a?"#ffffff":"#000000"}}]}]})})}),e.jsx(m,{title:"Service Comparison - Utilization Rate",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(C,{data:h,keys:["Utilization Rate"],indexBy:"service",margin:{top:20,right:20,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"category10"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Service",legendPosition:"middle",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization Rate (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},theme:u})})})]}),e.jsx(m,{title:"Service Comparison - Average Case Duration",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(C,{data:h,keys:["Avg. Case Duration"],indexBy:"service",margin:{top:20,right:20,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"category10"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Service",legendPosition:"middle",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Case Duration (min)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},theme:u})})}),e.jsx(m,{title:"Top Services - Rooms Running by Hour",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(C,{data:Object.entries(s.services).map(([i,o])=>({service:i,"Avg. Rooms Running":o.averageRoomsRunning})),keys:["Avg. Rooms Running"],indexBy:"service",margin:{top:20,right:20,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"category10"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Service",legendPosition:"middle",legendOffset:40},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Avg. Rooms Running",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},theme:u})})})]})};A.propTypes={filters:t.shape({selectedHospital:t.string,selectedLocation:t.string,selectedSpecialty:t.string,selectedSurgeon:t.string,dateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)}),showComparison:t.bool,comparisonDateRange:t.shape({startDate:t.instanceOf(Date),endDate:t.instanceOf(Date)})}).isRequired};const W=({activeView:v="overview"})=>{const[a,p]=d.useState({selectedHospital:"",selectedLocation:"",selectedSpecialty:"",selectedSurgeon:"",dateRange:{startDate:new Date(new Date().setDate(new Date().getDate()-90)),endDate:new Date},showComparison:!1,comparisonDateRange:{startDate:new Date(new Date().setDate(new Date().getDate()-180)),endDate:new Date(new Date().setDate(new Date().getDate()-91))}}),h=l=>{p(l)},u=()=>Object.keys(s.sites).map(l=>({id:l,name:l,hospitalId:l.split(" ")[0]})),i=()=>Object.entries(s.services).map(([l,n])=>({id:l,name:l})),o={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.3}}},r=()=>{switch(v){case"overview":return e.jsx(P,{filters:a});case"hourly":return e.jsx(M,{filters:a});case"trends":return e.jsx(B,{filters:a});case"location":return e.jsx(H,{filters:a});case"service":return e.jsx(A,{filters:a});default:return e.jsx(P,{filters:a})}};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(V,{locations:u(),services:i(),providers:[],onFilterChange:h,initialFilters:a})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(F,{children:e.jsx(N.div,{initial:"hidden",animate:"visible",variants:o,children:r()},v)})})]})};W.propTypes={activeView:t.string};function De({auth:v}){const{url:a}=Y(),p=()=>new URLSearchParams(window.location.search).get("view")||"overview",[h,u]=d.useState(p);d.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("view")||"overview";u(n)},[a]);const i=l=>{u(l);const n=new URL(window.location);n.searchParams.set("view",l),window.history.pushState({},"",n)},o=[{title:"Analysis Views",items:[{id:"overview",label:"Overview",icon:"carbon:dashboard"},{id:"hourly",label:"Hourly Analysis",icon:"carbon:time"},{id:"trends",label:"Trends",icon:"carbon:chart-line"}]},{title:"Detailed Analysis",items:[{id:"location",label:"Location Comparison",icon:"carbon:location"},{id:"service",label:"Service Analysis",icon:"carbon:data-table"}]}],r={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}};return e.jsx(U,{auth:v,title:"Room Running",children:e.jsxs(N.div,{initial:"hidden",animate:"visible",variants:r,children:[e.jsx(G,{menuGroups:o,activeTab:h,onTabChange:i}),e.jsx(W,{activeView:h})]})})}export{De as default};
