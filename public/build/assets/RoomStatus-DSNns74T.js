import{j as e,r as m,L as p}from"./app-DNCPaP7U.js";import{I as c}from"./iconify-CuDxMG-b.js";import{D as j}from"./DashboardLayout-BfUOEmbm.js";import{P as k}from"./PageContentLayout-DDKRpoW7.js";import{C as h}from"./Card-Bb1H85Wn.js";import{M as o}from"./MetricsCard-DxfLPBHb.js";import{S as x}from"./StatusDot-CpIrd5_q.js";import{M as g}from"./Modal-BRVcqrtZ.js";import"./useDarkMode-Cjnn_MHf.js";import"./TopNavigation-BPEMQkzy.js";import"./UserAvatar-DdRArJVQ.js";import"./DarkModeToggle-oH18ZJvw.js";import"./useFocusVisible-KZXt4Cm4.js";import"./portal-B_iHtz37.js";import"./transition-l3QoJGEh.js";import"./dialog-DfxhGoaS.js";import"./hidden-BGYz94zY.js";const f=({room:a,onClick:n})=>{const d=()=>a.status==="delayed"?"bg-healthcare-error dark:bg-healthcare-error-dark":a.timeRemaining<=30?"bg-healthcare-warning dark:bg-healthcare-warning-dark":"bg-healthcare-success dark:bg-healthcare-success-dark",i=()=>{if(!a.currentCase)return 0;const s=a.currentCase.elapsed,t=a.currentCase.expectedDuration;return Math.min(s/t*100,100)};return e.jsxs("div",{onClick:n,className:"border border-healthcare-border dark:border-healthcare-border-dark rounded-lg p-4 bg-healthcare-surface dark:bg-healthcare-surface-dark hover:border-healthcare-info dark:hover:border-healthcare-info-dark transition-all duration-300 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:["Room ",a.number]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{status:a.status,pulse:a.status==="in_progress"||a.status==="delayed"}),e.jsx("span",{className:`text-xs font-medium ${a.status==="delayed"?"text-healthcare-error dark:text-healthcare-error-dark":"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"}`,children:a.status==="in_progress"?"In Progress":a.status==="turnover"?"Turnover":a.status==="delayed"?"Delayed":"Available"})]})]}),a.currentCase?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsxs("div",{className:"text-sm text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:[e.jsx("p",{className:"font-medium",children:a.currentCase.procedure}),e.jsx("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:a.currentCase.patient})]}),e.jsxs("div",{className:"flex items-center text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsx(c,{icon:"heroicons:user",className:"w-4 h-4 mr-1"}),e.jsx("span",{children:a.currentCase.provider})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Progress"}),e.jsxs("span",{className:a.status==="delayed"?"text-healthcare-error dark:text-healthcare-error-dark":"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[a.timeRemaining," min remaining"]})]}),e.jsx("div",{className:"h-1.5 bg-healthcare-background dark:bg-healthcare-background-dark rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${d()} transition-all duration-300`,style:{width:`${i()}%`}})})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsx(c,{icon:"heroicons:clock",className:"w-4 h-4 mr-1"}),a.nextCase?e.jsxs("span",{children:["Next case: ",a.nextCase.startTime]}):e.jsx("span",{children:"No cases scheduled"})]}),a.status==="turnover"&&e.jsxs("div",{className:"flex items-center text-xs text-healthcare-warning dark:text-healthcare-warning-dark",children:[e.jsx(c,{icon:"heroicons:arrow-path",className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Est. ready in ",a.turnoverTime," min"]})]})]})]})},u=({time:a,isOverdue:n=!1})=>e.jsx("span",{className:`font-mono ${n?"text-healthcare-error dark:text-healthcare-error-dark":"text-healthcare-text-primary dark:text-healthcare-text-primary-dark"}`,children:a}),b=({room:a,onClose:n})=>{var i,s;if(!a)return null;const d=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:["Room ",a.number]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(x,{status:a.status}),e.jsxs("span",{className:"ml-2 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Status: ",a.status==="in_progress"?"In Progress":a.status==="turnover"?"Turnover":a.status==="delayed"?"Delayed":"Available"]})]})]}),a.currentCase&&e.jsx("div",{className:"bg-healthcare-info bg-opacity-10 dark:bg-opacity-20 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("span",{className:"font-medium text-healthcare-info dark:text-healthcare-info-dark",children:"Patient:"}),e.jsx("span",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:a.currentCase.patient}),e.jsx("span",{className:"font-medium text-healthcare-info dark:text-healthcare-info-dark",children:"Procedure:"}),e.jsx("span",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:a.currentCase.procedure})]})})]}),a.currentCase?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-healthcare-background dark:bg-healthcare-background-dark rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center",children:[e.jsx(c,{icon:"heroicons:clock",className:"w-5 h-5 mr-2 text-healthcare-info dark:text-healthcare-info-dark"}),"Timeline"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-2 bg-healthcare-border dark:bg-healthcare-border-dark rounded-full"}),e.jsx("div",{className:`h-2 rounded-full absolute top-0 left-0 ${a.status==="delayed"?"bg-healthcare-error dark:bg-healthcare-error-dark":"bg-healthcare-info dark:bg-healthcare-info-dark"}`,style:{width:`${a.currentCase.elapsed/a.currentCase.expectedDuration*100}%`}}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm font-medium text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Start"}),e.jsx(u,{time:a.currentCase.startTime})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm font-medium text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Expected End"}),e.jsx(u,{time:a.currentCase.expectedEndTime,isOverdue:a.status==="delayed"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-healthcare-background dark:bg-healthcare-background-dark rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center",children:[e.jsx(c,{icon:"heroicons:users",className:"w-5 h-5 mr-2 text-healthcare-info dark:text-healthcare-info-dark"}),"Staff"]}),e.jsx("div",{className:"space-y-3",children:(i=a.currentCase.staff)==null?void 0:i.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:t.name}),e.jsx("span",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:t.role})]},r))})]}),e.jsxs("div",{className:"bg-healthcare-background dark:bg-healthcare-background-dark rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center",children:[e.jsx(c,{icon:"heroicons:cube",className:"w-5 h-5 mr-2 text-healthcare-info dark:text-healthcare-info-dark"}),"Resources"]}),e.jsx("div",{className:"space-y-3",children:(s=a.currentCase.resources)==null?void 0:s.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:t.name}),e.jsx(x,{status:t.status})]},r))})]})]}),(a.currentCase.notes||a.currentCase.alerts)&&e.jsxs("div",{className:"bg-healthcare-background dark:bg-healthcare-background-dark rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Additional Information"}),a.currentCase.notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Notes"}),e.jsx("p",{className:"text-sm text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:a.currentCase.notes})]}),a.currentCase.alerts&&a.currentCase.alerts.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Alerts"}),e.jsx("div",{className:"space-y-2",children:a.currentCase.alerts.map((t,r)=>e.jsxs("div",{className:"flex items-center text-sm text-healthcare-error dark:text-healthcare-error-dark",children:[e.jsx(c,{icon:"heroicons:exclamation-circle",className:"w-4 h-4 mr-2"}),t]},r))})]})]})]}):e.jsxs("div",{className:"text-center py-8 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsx(c,{icon:"heroicons:clipboard-document-list",className:"w-12 h-12 mx-auto mb-4"}),e.jsx("p",{children:"No active case in this room"}),a.nextCase&&e.jsxs("p",{className:"mt-2",children:["Next case scheduled for ",a.nextCase.startTime]})]})]});return e.jsx(g,{open:!!a,onClose:n,showClose:!0,children:d})},O=()=>{const[a,n]=m.useState("all"),[d,i]=m.useState(null),s=Array.from({length:12}).map((r,l)=>({number:l+1,status:l%3===0?"in_progress":l%3===1?"turnover":"available",currentCase:l%3===0?{patient:"John Doe",procedure:"Total Hip Replacement",provider:"Dr. Smith",startTime:"09:30",expectedEndTime:"11:00",expectedDuration:90,elapsed:45,staff:[{name:"Dr. Smith",role:"Surgeon"},{name:"Jane Wilson",role:"Anesthesiologist"},{name:"Mary Johnson",role:"Scrub Nurse"}],resources:[{name:"OR Table",status:"in_progress"},{name:"Anesthesia Machine",status:"in_progress"},{name:"Surgical Tools",status:"in_progress"}],notes:"Patient has latex allergy",alerts:l===3?["Blood pressure elevated","Medication due in 15 minutes"]:[]}:null,nextCase:l%3===1?{startTime:"10:30",procedure:"Knee Arthroscopy"}:null,timeRemaining:l%3===0?45:null,turnoverTime:l%3===1?15:null})),t={total:s.length,inUse:s.filter(r=>r.status==="in_progress").length,available:s.filter(r=>r.status==="available").length,turnover:s.filter(r=>r.status==="turnover").length};return e.jsxs(j,{children:[e.jsx(p,{title:"Room Status - ZephyrusOR"}),e.jsxs(k,{title:"Room Status",subtitle:"Monitor real-time operating room status and activities",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{children:e.jsx(h.Content,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:a,onChange:r=>n(r.target.value),className:"text-sm border-healthcare-border dark:border-healthcare-border-dark rounded-md pl-8 pr-4 py-2 appearance-none bg-healthcare-surface dark:bg-healthcare-surface-dark hover:border-healthcare-info dark:hover:border-healthcare-info-dark transition-colors duration-300",children:[e.jsx("option",{value:"all",children:"All Locations"}),e.jsx("option",{value:"main",children:"Main OR"}),e.jsx("option",{value:"endo",children:"Endoscopy"}),e.jsx("option",{value:"cardiac",children:"Cardiac OR"})]}),e.jsx(c,{icon:"heroicons:building-office",className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark transition-colors duration-300"})]})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{className:"inline-flex items-center text-sm text-healthcare-info dark:text-healthcare-info-dark hover:text-healthcare-info-dark dark:hover:text-healthcare-info font-medium transition-colors duration-300",children:[e.jsx(c,{icon:"heroicons:arrow-path",className:"w-4 h-4 mr-1"}),"Refresh"]})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(o,{title:"Total Rooms",value:t.total.toString(),icon:"heroicons:building-office-2"}),e.jsx(o,{title:"In Use",value:t.inUse.toString(),trend:Math.round(t.inUse/t.total*100),trendLabel:"occupancy",icon:"heroicons:check-circle"}),e.jsx(o,{title:"Available",value:t.available.toString(),trend:Math.round(t.available/t.total*100),trendLabel:"availability",icon:"heroicons:clock"}),e.jsx(o,{title:"Turnovers",value:t.turnover.toString(),icon:"heroicons:arrow-path"})]}),e.jsx(h,{children:e.jsx(h.Content,{children:e.jsxs("div",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark transition-colors duration-300",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Room Status Board"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(r=>e.jsx(f,{room:r,onClick:()=>i(r)},r.number))})]})})})]}),d&&e.jsx(b,{room:d,onClose:()=>i(null)})]})]})};export{O as default};
