import{P as b,j as e,r as v,K as le,L as de}from"./app-DNCPaP7U.js";import{A as me}from"./AnalyticsLayout-Dzg-osze.js";import{S as K,D as Q}from"./ToggleSwitch-wWvkbsAB.js";import{P}from"./Panel-DEM8HheS.js";import{p as H,H as I,_ as ee}from"./PieChart-DNJdnlhf.js";import{g as Y}from"./chartTheme-DgA_-sjg.js";import{u as B}from"./AuthenticatedLayout-bVzRFQ8r.js";import{I as J}from"./iconify-CuDxMG-b.js";import{m as ce}from"./proxy-nweJ2GES.js";import{T as ue}from"./TabNavigation-CocRP9X6.js";import"./FlowbiteThemeProvider-DOyZZW8A.js";import"./uniqueId-S-XtUeLk.js";import"./_baseAssignValue-CSgy8S_V.js";import"./ErrorBoundary-ti8iig1M.js";import"./AnalyticsContext-DCNkK6OB.js";import"./format-D9ti-yNI.js";import"./TopNavigation-BPEMQkzy.js";import"./UserAvatar-DdRArJVQ.js";import"./DarkModeToggle-oH18ZJvw.js";import"./useFocusVisible-KZXt4Cm4.js";import"./portal-B_iHtz37.js";import"./transition-l3QoJGEh.js";import"./create-factory-CkrcLOT8.js";import"./create-visual-element-BEDpu-j8.js";const w={overallMetrics:{primeTimeUtilization:72.8,nonPrimeTimePercentage:15.6,totalCases:4307,casesInPrimeTime:3845,casesInNonPrimeTime:462},utilizationData:[{month:"Jan 23",marhIR:56.16,marhOR:73.89,nonPrimeIR:0,nonPrimeOR:16.43},{month:"Mar 23",marhIR:54.39,marhOR:77.2,nonPrimeIR:0,nonPrimeOR:17.41},{month:"May 23",marhIR:70.33,marhOR:77.46,nonPrimeIR:0,nonPrimeOR:17.25},{month:"Jul 23",marhIR:65.37,marhOR:76.78,nonPrimeIR:0,nonPrimeOR:17.21},{month:"Sep 23",marhIR:73.77,marhOR:66.56,nonPrimeIR:0,nonPrimeOR:17.18},{month:"Nov 23",marhIR:55.08,marhOR:69.47,nonPrimeIR:0,nonPrimeOR:17.14},{month:"Jan 24",marhIR:69.04,marhOR:76.78,nonPrimeIR:.85,nonPrimeOR:15.8},{month:"Mar 24",marhIR:57.71,marhOR:75.3,nonPrimeIR:.53,nonPrimeOR:15.52},{month:"May 24",marhIR:57.25,marhOR:68.04,nonPrimeIR:0,nonPrimeOR:15.5},{month:"Jul 24",marhIR:62.18,marhOR:71.35,nonPrimeIR:.42,nonPrimeOR:15.47},{month:"Sep 24",marhIR:68.92,marhOR:74.82,nonPrimeIR:.38,nonPrimeOR:15.43},{month:"Nov 24",marhIR:65.47,marhOR:73.56,nonPrimeIR:.35,nonPrimeOR:15.4}],sites:{"MARH OR":{primeTimeUtilization:73.6,nonPrimeTimePercentage:15.4,totalCases:1106,casesInPrimeTime:987,casesInNonPrimeTime:119,trends:{primeTimeUtilization:[{month:"Jul 24",value:71.35},{month:"Aug 24",value:72.64},{month:"Sep 24",value:74.82},{month:"Oct 24",value:73.95},{month:"Nov 24",value:73.56},{month:"Dec 24",value:73.89}],nonPrimeTimePercentage:[{month:"Jul 24",value:15.47},{month:"Aug 24",value:15.45},{month:"Sep 24",value:15.43},{month:"Oct 24",value:15.42},{month:"Nov 24",value:15.4},{month:"Dec 24",value:15.38}]}},"MARH IR":{primeTimeUtilization:65.5,nonPrimeTimePercentage:.4,totalCases:287,casesInPrimeTime:285,casesInNonPrimeTime:2,trends:{primeTimeUtilization:[{month:"Jul 24",value:62.18},{month:"Aug 24",value:65.55},{month:"Sep 24",value:68.92},{month:"Oct 24",value:67.2},{month:"Nov 24",value:65.47},{month:"Dec 24",value:66.83}],nonPrimeTimePercentage:[{month:"Jul 24",value:.42},{month:"Aug 24",value:.4},{month:"Sep 24",value:.38},{month:"Oct 24",value:.37},{month:"Nov 24",value:.35},{month:"Dec 24",value:.33}]}},"MEMH OR":{primeTimeUtilization:75.2,nonPrimeTimePercentage:16.8,totalCases:1245,casesInPrimeTime:1098,casesInNonPrimeTime:147,trends:{primeTimeUtilization:[{month:"Jul 24",value:73.45},{month:"Aug 24",value:74.32},{month:"Sep 24",value:75.19},{month:"Oct 24",value:74.87},{month:"Nov 24",value:75.54},{month:"Dec 24",value:76.21}],nonPrimeTimePercentage:[{month:"Jul 24",value:17.12},{month:"Aug 24",value:16.95},{month:"Sep 24",value:16.78},{month:"Oct 24",value:16.61},{month:"Nov 24",value:16.44},{month:"Dec 24",value:16.27}]}},"MEMH MHAS OR":{primeTimeUtilization:68.7,nonPrimeTimePercentage:12.5,totalCases:423,casesInPrimeTime:392,casesInNonPrimeTime:31,trends:{primeTimeUtilization:[{month:"Jul 24",value:66.85},{month:"Aug 24",value:67.78},{month:"Sep 24",value:68.71},{month:"Oct 24",value:69.64},{month:"Nov 24",value:70.57},{month:"Dec 24",value:71.5}],nonPrimeTimePercentage:[{month:"Jul 24",value:13.1},{month:"Aug 24",value:12.8},{month:"Sep 24",value:12.5},{month:"Oct 24",value:12.2},{month:"Nov 24",value:11.9},{month:"Dec 24",value:11.6}]}},"VORH OR":{primeTimeUtilization:71.8,nonPrimeTimePercentage:14.9,totalCases:956,casesInPrimeTime:856,casesInNonPrimeTime:100,trends:{primeTimeUtilization:[{month:"Jul 24",value:69.95},{month:"Aug 24",value:70.88},{month:"Sep 24",value:71.81},{month:"Oct 24",value:72.74},{month:"Nov 24",value:73.67},{month:"Dec 24",value:74.6}],nonPrimeTimePercentage:[{month:"Jul 24",value:15.5},{month:"Aug 24",value:15.3},{month:"Sep 24",value:15.1},{month:"Oct 24",value:14.9},{month:"Nov 24",value:14.7},{month:"Dec 24",value:14.5}]}},"VORH JRI OR":{primeTimeUtilization:76.8,nonPrimeTimePercentage:17.2,totalCases:290,casesInPrimeTime:227,casesInNonPrimeTime:63,trends:{primeTimeUtilization:[{month:"Jul 24",value:74.95},{month:"Aug 24",value:75.88},{month:"Sep 24",value:76.81},{month:"Oct 24",value:77.74},{month:"Nov 24",value:78.67},{month:"Dec 24",value:79.6}],nonPrimeTimePercentage:[{month:"Jul 24",value:17.8},{month:"Aug 24",value:17.6},{month:"Sep 24",value:17.4},{month:"Oct 24",value:17.2},{month:"Nov 24",value:17},{month:"Dec 24",value:16.8}]}}},weekdayData:{"MARH IR":{Monday:{utilization:94.27,nonPrime:0},Tuesday:{utilization:41.46,nonPrime:0},Wednesday:{utilization:36.46,nonPrime:0},Thursday:{utilization:53.75,nonPrime:0},Friday:{utilization:49.11,nonPrime:0}},"MARH OR":{Monday:{utilization:74.2,nonPrime:20.77},Tuesday:{utilization:78.43,nonPrime:15.04},Wednesday:{utilization:77.41,nonPrime:15.17},Thursday:{utilization:69.92,nonPrime:20.08},Friday:{utilization:83.64,nonPrime:16.26}},"MEMH OR":{Monday:{utilization:76.35,nonPrime:21.45},Tuesday:{utilization:80.58,nonPrime:16.72},Wednesday:{utilization:79.56,nonPrime:16.85},Thursday:{utilization:72.07,nonPrime:21.76},Friday:{utilization:85.79,nonPrime:17.94}},"MEMH MHAS OR":{Monday:{utilization:69.85,nonPrime:14.95},Tuesday:{utilization:74.08,nonPrime:10.22},Wednesday:{utilization:73.06,nonPrime:10.35},Thursday:{utilization:65.57,nonPrime:15.26},Friday:{utilization:79.29,nonPrime:11.44}},"VORH OR":{Monday:{utilization:72.05,nonPrime:18.15},Tuesday:{utilization:76.28,nonPrime:13.42},Wednesday:{utilization:75.26,nonPrime:13.55},Thursday:{utilization:67.77,nonPrime:18.46},Friday:{utilization:81.49,nonPrime:14.64}},"VORH JRI OR":{Monday:{utilization:77.05,nonPrime:20.45},Tuesday:{utilization:81.28,nonPrime:15.72},Wednesday:{utilization:80.26,nonPrime:15.85},Thursday:{utilization:72.77,nonPrime:20.76},Friday:{utilization:86.49,nonPrime:16.94}}},services:{Bariatrics:{primeTimeUtilization:76.8,nonPrimeTimePercentage:18.2,totalCases:312,casesInPrimeTime:267,casesInNonPrimeTime:45},"Breast Surgery":{primeTimeUtilization:73.2,nonPrimeTimePercentage:14.6,totalCases:287,casesInPrimeTime:258,casesInNonPrimeTime:29},"Colon and Rectal Surgery":{primeTimeUtilization:78.5,nonPrimeTimePercentage:19.8,totalCases:245,casesInPrimeTime:203,casesInNonPrimeTime:42},"General Surgery":{primeTimeUtilization:75.1,nonPrimeTimePercentage:16.5,totalCases:356,casesInPrimeTime:312,casesInNonPrimeTime:44},"Gynecologic Oncology":{primeTimeUtilization:77.9,nonPrimeTimePercentage:19.2,totalCases:198,casesInPrimeTime:167,casesInNonPrimeTime:31},"Obstetrics and Gynecology":{primeTimeUtilization:72.4,nonPrimeTimePercentage:13.8,totalCases:423,casesInPrimeTime:382,casesInNonPrimeTime:41},"Orthopaedic Surgery":{primeTimeUtilization:79.8,nonPrimeTimePercentage:21.1,totalCases:378,casesInPrimeTime:312,casesInNonPrimeTime:66},Otolaryngology:{primeTimeUtilization:74.3,nonPrimeTimePercentage:15.7,totalCases:256,casesInPrimeTime:227,casesInNonPrimeTime:29},"Plastic Surgery":{primeTimeUtilization:71.6,nonPrimeTimePercentage:13,totalCases:234,casesInPrimeTime:214,casesInNonPrimeTime:20},Urology:{primeTimeUtilization:73.7,nonPrimeTimePercentage:15.1,totalCases:289,casesInPrimeTime:258,casesInNonPrimeTime:31},"Vascular Surgery":{primeTimeUtilization:76.2,nonPrimeTimePercentage:17.6,totalCases:267,casesInPrimeTime:230,casesInNonPrimeTime:37}},providers:{"WASSER, SAMUEL":{service:"Bariatrics",primeTimeUtilization:78.2,nonPrimeTimePercentage:19.6,totalCases:73,casesInPrimeTime:62,casesInNonPrimeTime:11},"VIRTUA BREAST CARE - VOORH":{service:"Breast Surgery",primeTimeUtilization:75.8,nonPrimeTimePercentage:17.2,totalCases:117,casesInPrimeTime:102,casesInNonPrimeTime:15},"VSG COLORECTAL MOORESTOWN":{service:"Colon and Rectal Surgery",primeTimeUtilization:80.1,nonPrimeTimePercentage:21.5,totalCases:89,casesInPrimeTime:73,casesInNonPrimeTime:16},"VIRTUA SURGICAL GROUP - MARLTON":{service:"General Surgery",primeTimeUtilization:76.7,nonPrimeTimePercentage:18.1,totalCases:124,casesInPrimeTime:107,casesInNonPrimeTime:17},"VIRTUA GYNECOLOGIC ONCOLOGY - VOORHEES":{service:"Gynecologic Oncology",primeTimeUtilization:79.5,nonPrimeTimePercentage:20.9,totalCases:82,casesInPrimeTime:68,casesInNonPrimeTime:14},"VIRTUA OB/GYN - VOORHEES":{service:"Obstetrics and Gynecology",primeTimeUtilization:74,nonPrimeTimePercentage:15.4,totalCases:156,casesInPrimeTime:139,casesInNonPrimeTime:17},"VIRTUA RECONSTRUCTIVE ORTHOPEDICS - VOORHEES":{service:"Orthopaedic Surgery",primeTimeUtilization:81.4,nonPrimeTimePercentage:22.8,totalCases:142,casesInPrimeTime:115,casesInNonPrimeTime:27}},serviceAnalysis:{"Grand Total":{primeTimeCurrent:70.52,primeTimePrevious:73.09,workDuringPrimeTimeCurrent:14.8,workDuringPrimeTimePrevious:14.5,numOfCasesCurrent:1110,potentialCases:1263,additionalCasePotential:153,ORsPerWeekAvailable:29.06,ORsPerWeekNeeded:25.55,ORDifference:-3.51,numOfCasesWeekend:22,ORsNeededPerWeekend:.37,percentWeekendWork:38.5},"VSG General / Vascular / Colorectal":{primeTimeCurrent:81.79,primeTimePrevious:85.63,workDuringPrimeTimeCurrent:15.8,workDuringPrimeTimePrevious:12.5,numOfCasesCurrent:626,potentialCases:616,additionalCasePotential:-10,ORsPerWeekAvailable:14.9,ORsPerWeekNeeded:15.37,ORDifference:.48,numOfCasesWeekend:12,ORsNeededPerWeekend:.23,percentWeekendWork:39.3},Urology:{primeTimeCurrent:116.62,primeTimePrevious:115.63,workDuringPrimeTimeCurrent:12.9,workDuringPrimeTimePrevious:12,numOfCasesCurrent:267,potentialCases:202,additionalCasePotential:-65,ORsPerWeekAvailable:3.07,ORsPerWeekNeeded:4.37,ORDifference:1.3,numOfCasesWeekend:8,ORsNeededPerWeekend:.1,percentWeekendWork:24.6},Neurosurgery:{primeTimeCurrent:76.85,primeTimePrevious:54.33,workDuringPrimeTimeCurrent:9.7,workDuringPrimeTimePrevious:15.2,numOfCasesCurrent:46,potentialCases:54,additionalCasePotential:8,ORsPerWeekAvailable:1.56,ORsPerWeekNeeded:1.41,ORDifference:-.15,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:0},Podiatry:{primeTimeCurrent:48.6,primeTimePrevious:56.3,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:30,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:0,ORsPerWeekNeeded:.48,ORDifference:.48,numOfCasesWeekend:1,ORsNeededPerWeekend:.01,percentWeekendWork:0},"Thoracic Surgery":{primeTimeCurrent:46.51,primeTimePrevious:76.02,workDuringPrimeTimeCurrent:15.8,workDuringPrimeTimePrevious:19.7,numOfCasesCurrent:23,potentialCases:38,additionalCasePotential:15,ORsPerWeekAvailable:1.86,ORsPerWeekNeeded:1.09,ORDifference:-.77,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:0},"Colon and Rectal Surgery":{primeTimeCurrent:218.2,primeTimePrevious:128.39,workDuringPrimeTimeCurrent:7.3,workDuringPrimeTimePrevious:22.7,numOfCasesCurrent:37,potentialCases:19,additionalCasePotential:-18,ORsPerWeekAvailable:.51,ORsPerWeekNeeded:1.27,ORDifference:.76,numOfCasesWeekend:1,ORsNeededPerWeekend:.03,percentWeekendWork:100},"Pulmonary Disease":{primeTimeCurrent:68.8,primeTimePrevious:29.74,workDuringPrimeTimeCurrent:7.2,workDuringPrimeTimePrevious:15.1,numOfCasesCurrent:79,potentialCases:101,additionalCasePotential:22,ORsPerWeekAvailable:1.69,ORsPerWeekNeeded:1.49,ORDifference:-.4,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:0},Otolaryngology:{primeTimeCurrent:null,primeTimePrevious:null,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:null,ORsPerWeekNeeded:0,ORDifference:null,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},"Oral Surgery":{primeTimeCurrent:60.9,primeTimePrevious:0,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:2,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:0,ORsPerWeekNeeded:.07,ORDifference:.07,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},"Vascular Surgery":{primeTimeCurrent:null,primeTimePrevious:0,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:null,ORsPerWeekNeeded:0,ORDifference:null,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},"Orthopaedic Surgery":{primeTimeCurrent:100,primeTimePrevious:null,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:0,ORsPerWeekNeeded:0,ORDifference:null,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},Cardiology:{primeTimeCurrent:null,primeTimePrevious:null,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:null,ORsPerWeekNeeded:0,ORDifference:null,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},"Plastic Surgery":{primeTimeCurrent:null,primeTimePrevious:null,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:null,ORsPerWeekNeeded:0,ORDifference:null,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},"Trauma Surgery":{primeTimeCurrent:null,primeTimePrevious:null,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:0,additionalCasePotential:0,ORsPerWeekAvailable:null,ORsPerWeekNeeded:0,ORDifference:null,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null},OPEN:{primeTimeCurrent:0,primeTimePrevious:0,workDuringPrimeTimeCurrent:null,workDuringPrimeTimePrevious:null,numOfCasesCurrent:0,potentialCases:null,additionalCasePotential:null,ORsPerWeekAvailable:5.28,ORsPerWeekNeeded:0,ORDifference:-5.28,numOfCasesWeekend:0,ORsNeededPerWeekend:0,percentWeekendWork:null}},utilizationRanges:{low:{min:0,max:35,color:"#ff9999"},medium:{min:35,max:65,color:"#ffcc99"},high:{min:65,max:100,color:"#99ff99"},noData:{color:"#e6e6e6"}}},te=({hospitals:j,locations:h,specialties:y,selectedHospital:d,selectedLocation:k,selectedSpecialty:o,dateRange:l,onHospitalChange:u,onLocationChange:N,onSpecialtyChange:r,onDateRangeChange:t})=>{const n=d?h.filter(m=>m.startsWith(d)):h,T=m=>{t({...l,start:m})},c=m=>{t({...l,end:m})};return e.jsx(P,{title:"Filters",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hospital-filter",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Hospital"}),e.jsxs(K,{id:"hospital-filter",value:d,onChange:m=>u(m.target.value),children:[e.jsx("option",{value:"",children:"All Hospitals"}),j.map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location-filter",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Location"}),e.jsxs(K,{id:"location-filter",value:k,onChange:m=>N(m.target.value),children:[e.jsx("option",{value:"",children:"All Locations"}),n.map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"specialty-filter",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Specialty"}),e.jsxs(K,{id:"specialty-filter",value:o,onChange:m=>r(m.target.value),children:[e.jsx("option",{value:"",children:"All Specialties"}),y.map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(Q,{value:l.start,onChange:T,placeholder:"Start Date"})}),e.jsx("div",{children:e.jsx(Q,{value:l.end,onChange:c,placeholder:"End Date"})})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"button",className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Apply Filters"})}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"w-full text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-gray-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:()=>{u(""),N(""),r(""),t({start:null,end:null})},children:"Reset Filters"})})]})})};te.propTypes={hospitals:b.arrayOf(b.string).isRequired,locations:b.arrayOf(b.string).isRequired,specialties:b.arrayOf(b.string).isRequired,selectedHospital:b.string,selectedLocation:b.string,selectedSpecialty:b.string,dateRange:b.shape({start:b.instanceOf(Date),end:b.instanceOf(Date)}),onHospitalChange:b.func.isRequired,onLocationChange:b.func.isRequired,onSpecialtyChange:b.func.isRequired,onDateRangeChange:b.func.isRequired};const U={sites:{"MARH OR":{primeTimeCurrent:70.52,primeTimePrevious:73.09,workDuringNonPrimeTimeCurrent:14.8,workDuringNonPrimeTimePrevious:14.5,numOfCasesCurrent:1110,numOfCasesPrevious:1085,potentialCases:1263,additionalCasePotential:153,numOfORsPerWeek:29.06,numOfORsPerWeekPrevious:28.75,numOfORsPerWeekNeeded:25.55,numOfORsPerWeekNeededPrevious:25.12,numOfORDifference:3.51,numOfORDifferencePrevious:3.63,numOfWeekendCases:22,numOfWeekendCasesPrevious:18,numOfORsAvailablePerWeekend:.35,numOfORsAvailablePerWeekendPrevious:.32,numOfORsNeededPerWeekend:.37,numOfORsNeededPerWeekendPrevious:.34,percentWeekendWorkDuringNonPrimeTime:38.5,percentWeekendWorkDuringNonPrimeTimePrevious:42.2,metricStartDate:"11/1/2024",metricEndDate:"1/31/2025",metricPreviousStartDate:"8/1/2024",metricPreviousEndDate:"10/31/2024"},"MARH IR":{primeTimeCurrent:68.45,primeTimePrevious:71.22,workDuringNonPrimeTimeCurrent:12.3,workDuringNonPrimeTimePrevious:13.1,numOfCasesCurrent:845,numOfCasesPrevious:812,potentialCases:980,additionalCasePotential:135,numOfORsPerWeek:24.18,numOfORsPerWeekPrevious:23.85,numOfORsPerWeekNeeded:21.33,numOfORsPerWeekNeededPrevious:20.95,numOfORDifference:2.85,numOfORDifferencePrevious:2.9,numOfWeekendCases:18,numOfWeekendCasesPrevious:15,numOfORsAvailablePerWeekend:.32,numOfORsAvailablePerWeekendPrevious:.28,numOfORsNeededPerWeekend:.34,numOfORsNeededPerWeekendPrevious:.3,percentWeekendWorkDuringNonPrimeTime:35.2,percentWeekendWorkDuringNonPrimeTimePrevious:38.7,metricStartDate:"11/1/2024",metricEndDate:"1/31/2025",metricPreviousStartDate:"8/1/2024",metricPreviousEndDate:"10/31/2024"}},utilizationTrend:{2024:[{month:"January",value:71},{month:"February",value:75},{month:"March",value:76},{month:"April",value:77},{month:"May",value:76},{month:"June",value:72},{month:"July",value:66},{month:"August",value:76},{month:"September",value:78},{month:"October",value:71},{month:"November",value:69},{month:"December",value:69}],2025:[{month:"January",value:78}]},orsPerDayTrend:{2024:[{month:"January",value:4.63},{month:"February",value:5.14},{month:"March",value:5.04},{month:"April",value:4.93},{month:"May",value:4.87},{month:"June",value:5.09},{month:"July",value:5.23},{month:"August",value:5.54},{month:"September",value:5.08},{month:"October",value:5.21},{month:"November",value:5.15},{month:"December",value:6.04}],2025:[{month:"January",value:6.39}]}},ie=({site:j="MARH OR"})=>{const[h,y]=v.useState(j),[d,k]=v.useState(!1),o=U.sites[h]||U.sites["MARH OR"],{isDarkMode:l}=B(),u=c=>{k(!0),y(c),setTimeout(()=>{k(!1)},500)},N=[{id:"Average Prime Time Utilization",data:[...U.utilizationTrend[2024].map(c=>({x:`${c.month} 2024`,y:c.value})),...U.utilizationTrend[2025].map(c=>({x:`${c.month} 2025`,y:c.value}))].sort((c,m)=>{const S=["January","February","March","April","May","June","July","August","September","October","November","December"],[s,f]=c.x.split(" "),[W,D]=m.x.split(" ");return f!==D?parseInt(f)-parseInt(D):S.indexOf(s)-S.indexOf(W)})}],r=[{id:"Average # of 8 Hour ORs per day",data:[...U.orsPerDayTrend[2024].map(c=>({x:`${c.month} 2024`,y:c.value})),...U.orsPerDayTrend[2025].map(c=>({x:`${c.month} 2025`,y:c.value}))].sort((c,m)=>{const S=["January","February","March","April","May","June","July","August","September","October","November","December"],[s,f]=c.x.split(" "),[W,D]=m.x.split(" ");return f!==D?parseInt(f)-parseInt(D):S.indexOf(s)-S.indexOf(W)})}],t=Y(l),n=(c,m)=>{const S=parseFloat(c.replace("%","").replace(",","")),s=parseFloat(m.replace("%","").replace(",",""));if(s===0)return"0%";const f=(S-s)/s*100;return`${f>0?"+":""}${f.toFixed(2)}%`},T=({label:c,value:m,description:S,previousValue:s,isHigherBetter:f})=>{const[W,D]=v.useState(!1),[F,C]=v.useState({top:0,left:0}),R=v.useRef(null),M=v.useRef(null),a=()=>{if(s===void 0)return null;const i=parseFloat(m.replace("%","").replace(",","")),x=parseFloat(s.replace("%","").replace(",","")),O=f?i>x:i<x;return e.jsx("span",{className:`ml-2 ${O?"text-green-500":"text-red-500"}`,children:O?e.jsx(J,{icon:"carbon:arrow-up",className:"inline h-4 w-4"}):e.jsx(J,{icon:"carbon:arrow-down",className:"inline h-4 w-4"})})},g=()=>{if(M.current){const i=M.current.getBoundingClientRect();C({top:i.top,left:i.right+10}),D(!0)}},p=()=>{D(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:M,className:"flex items-center cursor-help",onMouseEnter:g,onMouseLeave:p,children:[e.jsx("span",{className:"font-medium",children:m}),s!==void 0&&a(),e.jsx(J,{icon:"carbon:information",className:"ml-1 text-gray-400 h-4 w-4"})]}),W&&e.jsxs("div",{ref:R,className:"fixed z-[9999] bg-gray-800 text-white dark:bg-gray-700 p-3 rounded shadow-lg w-72",style:{top:`${F.top}px`,left:`${F.left}px`,transform:"translateY(-50%)"},children:[e.jsx("div",{className:"font-bold text-base border-b border-gray-600 pb-1 mb-2 break-words",children:c}),e.jsx("div",{className:"text-sm mb-2 break-words",children:S}),s!==void 0&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Current:"}),e.jsx("span",{className:"font-semibold",children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Previous:"}),e.jsx("span",{className:"font-semibold",children:s})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{children:"Change:"}),e.jsx("span",{className:`font-semibold ${f?parseFloat(m)>parseFloat(s)?"text-green-400":"text-red-400":parseFloat(m)<parseFloat(s)?"text-green-400":"text-red-400"}`,children:n(m,s)})]})]}),e.jsx("div",{className:"text-xs mt-2 bg-gray-700 dark:bg-gray-600 p-2 rounded",children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsx("div",{className:"text-gray-300",children:"Current Period:"}),e.jsxs("div",{children:[o.metricStartDate," - ",o.metricEndDate]}),e.jsx("div",{className:"text-gray-300",children:"Previous Period:"}),e.jsxs("div",{children:[o.metricPreviousStartDate," - ",o.metricPreviousEndDate]})]})})]})]})};return e.jsx(P,{title:"Prime Time Capacity Review",className:"mb-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:["Site: ",h]}),e.jsx("div",{children:e.jsx("select",{className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md px-3 py-1 text-sm",value:h,onChange:c=>u(c.target.value),disabled:d,children:Object.keys(U.sites).map(c=>e.jsx("option",{value:c,children:c},c))})})]}),d?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 border border-gray-200 dark:border-gray-700",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["Prime Time",e.jsx("br",{}),"Util",e.jsx("br",{}),"CURRENT"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["Prime Time",e.jsx("br",{}),"Util",e.jsx("br",{}),"PREVIOUS"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["% Work",e.jsx("br",{}),"During Non",e.jsx("br",{}),"Prime Time",e.jsx("br",{}),"CURRENT"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["% Work",e.jsx("br",{}),"During Non",e.jsx("br",{}),"Prime Time",e.jsx("br",{}),"PREVIOUS"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["Num of",e.jsx("br",{}),"Cases",e.jsx("br",{}),"CURRENT"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["Potential",e.jsx("br",{}),"Cases"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["Additional",e.jsx("br",{}),"Case",e.jsx("br",{}),"Potential"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["# of ORs",e.jsx("br",{}),"per",e.jsx("br",{}),"week"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["# of ORs",e.jsx("br",{}),"per week",e.jsx("br",{}),"needed"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["# of OR",e.jsx("br",{}),"Difference"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["Num of",e.jsx("br",{}),"Weekend",e.jsx("br",{}),"Cases"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["# of ORs",e.jsx("br",{}),"available",e.jsx("br",{}),"per",e.jsx("br",{}),"Weekend"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700",children:["# of ORs",e.jsx("br",{}),"needed per",e.jsx("br",{}),"Weekend"]}),e.jsxs("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:["% Weekend",e.jsx("br",{}),"Work During",e.jsx("br",{}),"Non Prime",e.jsx("br",{}),"Time"]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"Prime Time Util - CURRENT",value:`${o.primeTimeCurrent}%`,description:"Current prime time utilization percentage",previousValue:`${o.primeTimePrevious}%`,isHigherBetter:!0})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"Prime Time Util - PREVIOUS",value:`${o.primeTimePrevious}%`,description:"Previous prime time utilization percentage"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"% Work During Non Prime Time - CURRENT",value:`${o.workDuringNonPrimeTimeCurrent}%`,description:"Current percentage of work during non-prime time",previousValue:`${o.workDuringNonPrimeTimePrevious}%`,isHigherBetter:!1})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"% Work During Non Prime Time - PREVIOUS",value:`${o.workDuringNonPrimeTimePrevious}%`,description:"Previous percentage of work during non-prime time"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"Num of Cases - CURRENT",value:o.numOfCasesCurrent.toLocaleString(),description:"Current number of cases",previousValue:o.numOfCasesPrevious.toLocaleString(),isHigherBetter:!0})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"Potential Cases",value:o.potentialCases.toLocaleString(),description:"Potential cases possible with current block"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"Additional Case Potential",value:o.additionalCasePotential.toLocaleString(),description:"Additional case potential"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"# of ORs per week",value:o.numOfORsPerWeek.toFixed(2),description:"Number of ORs per week",previousValue:o.numOfORsPerWeekPrevious.toFixed(2),isHigherBetter:!0})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"# of ORs per week needed",value:o.numOfORsPerWeekNeeded.toFixed(2),description:"Number of ORs per week needed"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"# of OR Difference",value:o.numOfORDifference.toFixed(2),description:"Difference between available and needed ORs"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"Num of Weekend Cases",value:o.numOfWeekendCases.toLocaleString(),description:"Number of weekend cases",previousValue:o.numOfWeekendCasesPrevious.toLocaleString(),isHigherBetter:!0})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"# of ORs available per Weekend",value:o.numOfORsAvailablePerWeekend.toFixed(2),description:"Number of ORs available per weekend"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200 dark:border-gray-700",children:e.jsx(T,{label:"# of ORs needed per Weekend",value:o.numOfORsNeededPerWeekend.toFixed(2),description:"Number of ORs needed per weekend"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:e.jsx(T,{label:"% Weekend Work During Non Prime Time",value:`${o.percentWeekendWorkDuringNonPrimeTime}%`,description:"Percentage of weekend work during non-prime time",previousValue:`${o.percentWeekendWorkDuringNonPrimeTimePrevious}%`,isHigherBetter:!1})})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"h-80 bg-gray-900 p-4 rounded-lg border border-gray-700",children:[e.jsx("div",{className:"text-lg font-bold mb-2 text-white",children:"Average Prime Time Utilization"}),e.jsx(H,{data:N,margin:{top:20,right:20,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:60,max:85,stacked:!1},curve:"monotoneX",axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"",legendOffset:36,legendPosition:"middle",format:c=>c.split(" ")[0].substring(0,3)},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Prime Time Utilization",legendOffset:-50,legendPosition:"middle"},colors:["#3182ce"],pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,enableSlices:"x",theme:t,gridYValues:[65,70,75,80],enableArea:!0,areaOpacity:.1,lineWidth:3,legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:50,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})]}),e.jsxs("div",{className:"h-80 bg-gray-900 p-4 rounded-lg border border-gray-700",children:[e.jsx("div",{className:"text-lg font-bold mb-2 text-white",children:"Average # of 8 Hour ORs per day trend"}),e.jsx(H,{data:r,margin:{top:20,right:20,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:4.5,max:6.5,stacked:!1},curve:"monotoneX",axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"",legendOffset:36,legendPosition:"middle",format:c=>c.split(" ")[0].substring(0,3)},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average # of 8 Hour ORs per day",legendOffset:-50,legendPosition:"middle"},colors:["#38a169"],pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,enableSlices:"x",theme:t,gridYValues:[4.5,5,5.5,6,6.5],enableArea:!0,areaOpacity:.1,lineWidth:3,legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:50,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})]})]})]})]})})};ie.propTypes={site:b.string};const Z=({filters:j})=>{var T,c,m,S;const{selectedHospital:h,selectedLocation:y,selectedSpecialty:d,dateRange:k}=j,{isDarkMode:o}=B(),l=v.useMemo(()=>y&&w.sites[y]?{locationData:w.sites[y],utilizationData:w.utilizationData.map(s=>({month:s.month,value:y==="MARH IR"?s.marhIR:s.marhOR})),nonPrimeData:w.utilizationData.map(s=>({month:s.month,value:y==="MARH IR"?s.nonPrimeIR:s.nonPrimeOR}))}:{locationData:w.overallMetrics,utilizationData:w.utilizationData.map(s=>({month:s.month,value:(s.marhIR+s.marhOR)/2})),nonPrimeData:w.utilizationData.map(s=>({month:s.month,value:(s.nonPrimeIR+s.nonPrimeOR)/2}))},[h,y,d,k]),u=[{id:"Prime Time Utilization",data:l.utilizationData.map(s=>({x:s.month,y:s.value}))}],N=[{id:"Non-Prime Time Percentage",data:l.nonPrimeData.map(s=>({x:s.month,y:s.value}))}],r=Y(o),t=Object.entries(w.weekdayData).filter(([s])=>s!=="Saturday"&&s!=="Sunday").map(([s,f])=>({name:s,utilization:(f==null?void 0:f.utilization)||0})),n=Object.entries(w.sites).map(([s,f])=>({name:s,nonPrimeTimePercentage:(f==null?void 0:f.nonPrimeTimePercentage)||0,nonPrimeCases:(f==null?void 0:f.casesInNonPrimeTime)||0}));return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ie,{site:y||"MARH OR"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(P,{isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsx("h5",{className:"text-xl font-bold tracking-tight",children:"Prime Time Utilization"}),e.jsxs("div",{className:"text-2xl font-bold",children:[((T=l.locationData)==null?void 0:T.primeTimeUtilization)||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Utilization during prime hours"})]}),e.jsxs(P,{isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsx("h5",{className:"text-xl font-bold tracking-tight",children:"Non-Prime Time %"}),e.jsxs("div",{className:"text-2xl font-bold",children:[((c=l.locationData)==null?void 0:c.nonPrimeTimePercentage)||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of cases in non-prime time"})]}),e.jsxs(P,{isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsx("h5",{className:"text-xl font-bold tracking-tight",children:"Total Cases"}),e.jsx("div",{className:"text-2xl font-bold",children:((m=l.locationData)==null?void 0:m.totalCases)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cases performed in selected period"})]}),e.jsxs(P,{isSubpanel:!0,dropLightIntensity:"medium",children:[e.jsx("h5",{className:"text-xl font-bold tracking-tight",children:"Non-Prime Time Cases"}),e.jsx("div",{className:"text-2xl font-bold",children:((S=l.locationData)==null?void 0:S.casesInNonPrimeTime)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cases performed in non-prime hours"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Prime Time Utilization Trend",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80 bg-gray-900 rounded-lg p-4",children:e.jsx(H,{data:u,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:30,max:100,stacked:!1},axisBottom:{legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{legend:"Utilization (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enableSlices:"x",theme:r,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})})}),e.jsx(P,{title:"Non-Prime Time Percentage Trend",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80 bg-gray-900 rounded-lg p-4",children:e.jsx(H,{data:N,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:40,stacked:!1},axisBottom:{legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{legend:"Percentage (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enableSlices:"x",theme:r,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})})})]}),e.jsx(P,{title:"Prime Time Utilization by Day of Week",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:t,keys:["utilization"],indexBy:"name",margin:{top:20,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"category10"},axisBottom:{legend:"Day of Week",legendPosition:"middle",legendOffset:32},axisLeft:{legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,theme:r,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}]})})}),e.jsx(P,{title:"Non-Prime Time Percentage by Location",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:n,keys:["nonPrimeTimePercentage"],indexBy:"name",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"category10"},axisBottom:{tickRotation:-45,legend:"Location",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Percentage (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,theme:r,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}]})})})]})},he=({filters:j})=>{const{selectedHospital:h,selectedLocation:y,selectedSpecialty:d,dateRange:k}=j,{isDarkMode:o}=B(),l=Y(o),u=v.useMemo(()=>{if(y&&w.sites[y]){const n=w.sites[y];return{primeTimeTrend:n.trends.primeTimeUtilization,nonPrimeTimeTrend:n.trends.nonPrimeTimePercentage}}const t=Object.values(w.sites)[0];return{primeTimeTrend:t.trends.primeTimeUtilization,nonPrimeTimeTrend:t.trends.nonPrimeTimePercentage}},[h,y,d,k]),N=[{id:"Prime Time Utilization",data:u.primeTimeTrend.map(t=>({x:t.month,y:t.value}))}],r=[{id:"Non-Prime Time %",data:u.nonPrimeTimeTrend.map(t=>({x:t.month,y:t.value}))}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Prime Time Utilization Trend (6 Months)",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(H,{data:N,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:30,max:100,stacked:!1},axisBottom:{legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{legend:"Utilization (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"category10"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enableSlices:"x",enableArea:!0,areaOpacity:.1,useMesh:!0,theme:l,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})})}),e.jsx(P,{title:"Non-Prime Time Percentage Trend (6 Months)",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(H,{data:r,margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:25,stacked:!1},axisBottom:{legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{legend:"Non-Prime Time (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"accent"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enableSlices:"x",enableArea:!0,areaOpacity:.1,useMesh:!0,theme:l,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})})}),e.jsx(P,{title:"Yearly Comparison",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(H,{data:[{id:"2024",data:w.utilizationData.filter(t=>t.month.includes("24")).map(t=>({x:t.month.replace(" 24",""),y:(t.marhIR+t.marhOR)/2}))},{id:"2023",data:w.utilizationData.filter(t=>t.month.includes("23")).map(t=>({x:t.month.replace(" 23",""),y:(t.marhIR+t.marhOR)/2}))}],margin:{top:20,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:30,max:100,stacked:!1},axisBottom:{legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{legend:"Utilization (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"paired"},pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},enableSlices:"x",theme:l,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})})})]})},pe=({xLabels:j,yLabels:h,data:y,cellStyle:d,cellRender:k,title:o,xLabelsStyle:l,yLabelsStyle:u,xLabelWidth:N=100,yLabelWidth:r=60,onClick:t})=>{const{isDarkMode:n}=B(),T={fontSize:"12px",textAnchor:"middle",fill:n?"#e5e7eb":"#374151",paddingTop:"10px",paddingBottom:"10px",lineHeight:"1.5"},c={fontSize:"12px",textAnchor:"end",fill:n?"#e5e7eb":"#374151",paddingRight:"10px",paddingLeft:"5px",lineHeight:"1.5"},m=C=>({fontSize:"11px",color:"#374151",cursor:"pointer"}),S=C=>({...T,...l?l(C):{}}),s=C=>({...c,...u?u(C):{}}),f=(C,R,M)=>({...m(),...d?d(C,R,M):{}}),W=C=>k?k(C):C,D=(C,R)=>o?o(C,R):"",F=(C,R)=>{t&&t(C,R)};return e.jsxs("div",{className:"custom-heatmap",children:[e.jsx("div",{className:"flex",style:{marginLeft:`${r}px`},children:j.map((C,R)=>e.jsx("div",{className:"flex-1 text-center",style:S(R),children:C},`x-label-${R}`))}),e.jsx("div",{className:"flex flex-col",children:h.map((C,R)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 text-right pr-2",style:{width:`${r}px`,...s(R)},children:C}),e.jsx("div",{className:"flex flex-1",children:j.map((M,a)=>{var i;const g=((i=y.find(x=>x.x===a&&x.y===R))==null?void 0:i.value)||null,p=f(a,R,g);return e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 m-px transition-colors",style:p,title:D(a,R),onClick:()=>F(a,R),role:"button",tabIndex:0,children:W(g)},`cell-${a}-${R}`)})})]},`row-${R}`))})]})},ge=({filters:j})=>{var R,M;const[h,y]=v.useState(!1),[d,k]=v.useState(null),{isDarkMode:o}=B(),l=Y(o),{selectedHospital:u,selectedLocation:N,selectedSpecialty:r,dateRange:t}=j,n=v.useMemo(()=>{const a=N||"MARH OR",g=w.weekdayData[a]||w.weekdayData["MARH OR"];return Object.entries(g).map(([p,i])=>({day:p,utilization:i.utilization||0,cases:Math.round(i.utilization*5)||0}))},[u,N,r,t]),T=a=>a<60?"rgb(239, 68, 68)":a<75?"rgb(234, 179, 8)":"rgb(34, 197, 94)",c={Orthopedics:{avgDuration:120,variability:30,morningPreference:.7,afternoonPreference:.5,procedures:[{name:"Total Knee Replacement",duration:"2.5 hrs",complexity:"high"},{name:"ACL Reconstruction",duration:"1.5 hrs",complexity:"medium"},{name:"Hip Replacement",duration:"3 hrs",complexity:"high"},{name:"Shoulder Arthroscopy",duration:"1 hr",complexity:"medium"},{name:"Carpal Tunnel Release",duration:"45 min",complexity:"low"}]},"General Surgery":{avgDuration:90,variability:40,morningPreference:.6,afternoonPreference:.6,procedures:[{name:"Laparoscopic Cholecystectomy",duration:"1 hr",complexity:"medium"},{name:"Appendectomy",duration:"45 min",complexity:"medium"},{name:"Hernia Repair",duration:"1.5 hrs",complexity:"medium"},{name:"Colon Resection",duration:"3 hrs",complexity:"high"},{name:"Breast Biopsy",duration:"30 min",complexity:"low"}]},Neurosurgery:{avgDuration:180,variability:60,morningPreference:.8,afternoonPreference:.3,procedures:[{name:"Craniotomy",duration:"4 hrs",complexity:"high"},{name:"Spinal Fusion",duration:"3.5 hrs",complexity:"high"},{name:"Laminectomy",duration:"2 hrs",complexity:"medium"},{name:"Brain Tumor Resection",duration:"5 hrs",complexity:"high"},{name:"Microdiscectomy",duration:"1.5 hrs",complexity:"medium"}]},Cardiothoracic:{avgDuration:240,variability:60,morningPreference:.9,afternoonPreference:.2,procedures:[{name:"CABG",duration:"4 hrs",complexity:"high"},{name:"Valve Replacement",duration:"3.5 hrs",complexity:"high"},{name:"Lung Resection",duration:"3 hrs",complexity:"high"},{name:"Aortic Aneurysm Repair",duration:"5 hrs",complexity:"high"},{name:"Pacemaker Insertion",duration:"1 hr",complexity:"medium"}]},ENT:{avgDuration:60,variability:30,morningPreference:.5,afternoonPreference:.7,procedures:[{name:"Tonsillectomy",duration:"45 min",complexity:"low"},{name:"Septoplasty",duration:"1.5 hrs",complexity:"medium"},{name:"Thyroidectomy",duration:"2 hrs",complexity:"medium"},{name:"Mastoidectomy",duration:"2.5 hrs",complexity:"high"},{name:"Endoscopic Sinus Surgery",duration:"1 hr",complexity:"medium"}]},Ophthalmology:{avgDuration:45,variability:15,morningPreference:.6,afternoonPreference:.6,procedures:[{name:"Cataract Surgery",duration:"30 min",complexity:"low"},{name:"Vitrectomy",duration:"1.5 hrs",complexity:"medium"},{name:"Glaucoma Surgery",duration:"1 hr",complexity:"medium"},{name:"Corneal Transplant",duration:"2 hrs",complexity:"high"},{name:"Strabismus Correction",duration:"1 hr",complexity:"medium"}]},Urology:{avgDuration:75,variability:30,morningPreference:.5,afternoonPreference:.7,procedures:[{name:"TURP",duration:"1 hr",complexity:"medium"},{name:"Nephrectomy",duration:"3 hrs",complexity:"high"},{name:"Cystoscopy",duration:"30 min",complexity:"low"},{name:"Prostatectomy",duration:"2.5 hrs",complexity:"high"},{name:"Ureteroscopy",duration:"1 hr",complexity:"medium"}]},"Plastic Surgery":{avgDuration:120,variability:60,morningPreference:.4,afternoonPreference:.8,procedures:[{name:"Breast Reconstruction",duration:"3 hrs",complexity:"high"},{name:"Rhinoplasty",duration:"2 hrs",complexity:"medium"},{name:"Facial Reconstruction",duration:"4 hrs",complexity:"high"},{name:"Skin Grafting",duration:"1.5 hrs",complexity:"medium"},{name:"Liposuction",duration:"2 hrs",complexity:"medium"}]}},m=(a,g)=>{const p=c[a];if(!p)return[];const i=[];let x=g;return p.procedures.forEach(O=>{let z;O.complexity==="high"?z=Math.floor(x*.15):O.complexity==="medium"?z=Math.floor(x*.3):z=Math.floor(x*.55),z=Math.max(1,Math.min(z,x)),x-=z,z>0&&i.push({name:O.name,count:z,duration:O.duration})}),x>0&&i.length>0&&(i[0].count+=x),i},S=(a,g,p)=>{const i=a.includes("Main")?6:a.includes("Satellite")?3:2,x=[];let O=g,z=p*i;for(let L=1;L<=i;L++){const G=Math.random()*20-10;let E=Math.min(100,Math.max(10,p+G));const A=Math.floor(E/z*g);O-=A,x.push({number:L,utilization:Math.round(E),cases:A})}if(O>0)for(let L=0;L<O;L++)x[L%x.length].cases+=1;return x},s=()=>{const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["06:00","06:20","06:40","07:00","07:20","07:40","08:00","08:20","08:40","09:00","09:20","09:40","10:00","10:20","10:40","11:00","11:20","11:40","12:00","12:20","12:40","13:00","13:20","13:40","14:00","14:20","14:40","15:00","15:20","15:40","16:00","16:20","16:40","17:00","17:20","17:40","18:00","18:20","18:40","19:00"];return a.map(p=>g.map(i=>{let x;const O=p==="Monday"||p==="Friday"?.9:1;i==="06:00"||i==="06:20"||i==="06:40"?x=65*O:i==="07:00"||i==="07:20"||i==="07:40"||i==="08:00"||i==="08:20"||i==="08:40"?x=85*O:i==="09:00"||i==="09:20"||i==="09:40"||i==="10:00"||i==="10:20"||i==="10:40"?x=75*O:i==="11:00"||i==="11:20"||i==="11:40"||i==="12:00"||i==="12:20"||i==="12:40"?x=70*O:i==="13:00"||i==="13:20"||i==="13:40"||i==="14:00"||i==="14:20"||i==="14:40"?x=65*O:i==="15:00"||i==="15:20"||i==="15:40"||i==="16:00"||i==="16:20"||i==="16:40"?x=60*O:i==="17:00"||i==="17:20"||i==="17:40"||i==="18:00"||i==="18:20"||i==="18:40"?x=55*O:x=50*O;const z=Math.min(100,Math.max(30,x+(Math.random()*20-10))),L=Math.floor(Math.random()*3)+2,G=[],E=Object.keys(c),A=[];for(;A.length<L&&A.length<E.length;){const $=E[Math.floor(Math.random()*E.length)];A.includes($)||A.push($)}return A.forEach($=>{const q=c[$];let _;i==="06:00"||i==="06:20"||i==="06:40"||i==="07:00"||i==="07:20"||i==="07:40"||i==="08:00"||i==="08:20"||i==="08:40"?_=q.morningPreference:_=q.afternoonPreference;const V=Math.min(100,Math.max(20,z*_+(Math.random()*15-7.5))),ne=20,se=q.avgDuration*(1+(Math.random()*.2-.1)),X=Math.max(1,Math.round(V/100*(ne/se)*5)),oe=[{name:"Main OR",utilization:Math.round(V*(.8+Math.random()*.4)),rooms:S("Main OR",Math.ceil(X*.7),V)},{name:"Satellite OR",utilization:Math.round(V*(.7+Math.random()*.3)),rooms:S("Satellite OR",Math.floor(X*.3),V*.8)}];G.push({service:$,utilization:Math.round(V),cases:X,locations:oe,procedures:m($,X)})}),{day:p,timeSlot:i,utilization:Math.round(z),services:G}})).flat()},f=v.useMemo(()=>["06:00","06:20","06:40","07:00","07:20","07:40","08:00","08:20","08:40","09:00","09:20","09:40","10:00","10:20","10:40","11:00","11:20","11:40","12:00","12:20","12:40","13:00","13:20","13:40","14:00","14:20","14:40","15:00","15:20","15:40","16:00","16:20","16:40","17:00","17:20","17:40","18:00","18:20","18:40","19:00"],[]),W=v.useMemo(()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[]),D=v.useMemo(()=>s(),[f,W]),F=v.useMemo(()=>{const a=[],g={};return D.forEach(p=>{g[`${p.day}-${p.timeSlot}`]=p.utilization}),f.forEach((p,i)=>{W.forEach((x,O)=>{const z=`${x}-${p}`,L=g[z]||0;a.push({x:O,y:i,value:L})})}),a},[D,f,W]),C=(a,g)=>{const p=D.find(i=>i.day===W[a]&&i.timeSlot===f[g]);p&&(k({day:p.day,time:p.timeSlot,utilization:p.utilization,services:p.services}),y(!0))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Time of Day Utilization",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"h-auto min-h-[500px] flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-full h-full py-8 px-4",children:e.jsx(pe,{xLabels:W,yLabels:f,data:F,cellStyle:(a,g,p)=>({background:T(p),fontSize:"11px",color:"#fff",opacity:a===0||a===6?.8:1,cursor:"pointer"}),cellRender:a=>a&&`${a}%`,title:(a,g)=>g<D.length&&a<D[0].length?`${f[g]} on ${W[a]}: ${D[g][a]}% utilization`:"",xLabelsStyle:()=>({fontSize:"12px",textAnchor:"middle",fill:"currentColor",paddingTop:"10px",paddingBottom:"10px",lineHeight:"1.5"}),yLabelsStyle:()=>({fontSize:"12px",textAnchor:"end",fill:"currentColor",paddingRight:"10px",paddingLeft:"5px",lineHeight:"1.5"}),xLabelWidth:100,yLabelWidth:60,onClick:C})}),e.jsxs("div",{className:"flex flex-col items-center mt-4 text-sm text-gray-500 dark:text-gray-400 space-y-2",children:[e.jsx("div",{children:"Click Time Block for Details"}),e.jsxs("div",{className:"flex space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-1 rounded bg-red-500"}),e.jsx("span",{children:"Low (<60%)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-1 rounded bg-yellow-500"}),e.jsx("span",{children:"Medium (60-75%)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 mr-1 rounded bg-green-500"}),e.jsx("span",{children:"High (>75%)"})]})]})]})]})}),e.jsx(P,{title:"Prime Time Utilization by Day of Week",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:n,keys:["utilization"],indexBy:"day",margin:{top:20,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"category10"},axisBottom:{legend:"Day of Week",legendPosition:"middle",legendOffset:32},axisLeft:{legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,theme:l,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}]})})}),e.jsx(P,{title:"Cases by Day of Week",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:n,keys:["cases"],indexBy:"day",margin:{top:20,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"accent"},axisBottom:{legend:"Day of Week",legendPosition:"middle",legendOffset:32},axisLeft:{legend:"Number of Cases",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,theme:l,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}]})})}),h&&d&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 transition-opacity"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:`relative w-full max-w-6xl ${o?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl transform transition-all`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{icon:"heroicons:chart-bar",className:"w-6 h-6 text-healthcare-primary dark:text-healthcare-primary-dark"}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:[d.day," at ",d.time," - ",d.utilization,"% Utilization"]})]}),e.jsxs("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(J,{icon:"heroicons:x-mark",className:"w-6 h-6"})]})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-2",children:"Service Utilization"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Utilization"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cases"})]})}),e.jsx("tbody",{children:d.services.map((a,g)=>e.jsxs("tr",{className:`border-b dark:border-gray-700 ${g%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700"}`,children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap",children:a.service}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"mr-2",children:[a.utilization,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx("div",{className:`h-2.5 rounded-full ${a.utilization<60?"bg-red-500":a.utilization<75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a.utilization}%`}})})]})}),e.jsx("td",{className:"px-6 py-4",children:a.cases})]},g))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-2",children:"Location Utilization"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Location"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Utilization"})]})}),e.jsx("tbody",{children:(R=d.services[0])==null?void 0:R.locations.map((a,g)=>e.jsxs("tr",{className:`border-b dark:border-gray-700 ${g%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700"}`,children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap",children:a.name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"mr-2",children:[a.utilization,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx("div",{className:`h-2.5 rounded-full ${a.utilization<60?"bg-red-500":a.utilization<75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a.utilization}%`}})})]})})]},g))})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-2",children:"Procedure Details"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Procedure"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Count"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Duration"})]})}),e.jsx("tbody",{children:d.services.flatMap((a,g)=>a.procedures.map((p,i)=>e.jsxs("tr",{className:`border-b dark:border-gray-700 ${(g+i)%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700"}`,children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap",children:a.service}),e.jsx("td",{className:"px-6 py-4",children:p.name}),e.jsx("td",{className:"px-6 py-4",children:p.count}),e.jsx("td",{className:"px-6 py-4",children:p.duration})]},`${g}-${i}`)))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-2",children:"Room Utilization"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(M=d.services[0])==null?void 0:M.locations.map((a,g)=>{var p;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:a.name}),e.jsx("div",{className:"space-y-3",children:(p=a.rooms)==null?void 0:p.map((i,x)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Room ",i.number]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:[i.utilization,"%"]}),e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:e.jsx("div",{className:`h-2 rounded-full ${i.utilization<60?"bg-red-500":i.utilization<75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${i.utilization}%`}})}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:[i.cases," cases"]})]})]},x))})]},g)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-2",children:"Opportunities for Improvement"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:["Optimize scheduling for ",d.utilization<60?"underutilized":"highly utilized"," time blocks"]}),e.jsxs("li",{children:["Consider ",d.utilization<60?"increasing":"maintaining"," case volume during this time period"]}),e.jsx("li",{children:"Review staffing levels to ensure appropriate coverage"}),d.utilization>85&&e.jsx("li",{children:"Monitor for potential overutilization that could lead to delays or overtime"}),d.services.some(a=>a.utilization<50)&&e.jsx("li",{children:"Evaluate low-utilization services for potential block time reallocation"})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Data updated: ",new Date().toLocaleDateString()]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("button",{onClick:()=>y(!1),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-healthcare-primary hover:bg-healthcare-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-healthcare-primary",children:"Close"})})]})]})})]})]})},xe=({filters:j})=>{const{selectedHospital:h,selectedLocation:y,selectedSpecialty:d,dateRange:k}=j,{isDarkMode:o}=B(),l=Y(o),u=v.useMemo(()=>(h?Object.entries(w.sites).filter(([t])=>t.startsWith(h)):Object.entries(w.sites)).map(([t,n])=>({name:t,primeTimeUtilization:(n==null?void 0:n.primeTimeUtilization)||0,nonPrimeTimePercentage:(n==null?void 0:n.nonPrimeTimePercentage)||0,totalCases:(n==null?void 0:n.totalCases)||0,casesInPrimeTime:(n==null?void 0:n.casesInPrimeTime)||0,casesInNonPrimeTime:(n==null?void 0:n.casesInNonPrimeTime)||0})),[h,y,d,k]),N=v.useMemo(()=>{const r=u.reduce((t,n)=>t+n.totalCases,0);return u.map(t=>({id:t.name,label:t.name,value:t.totalCases,percentage:(t.totalCases/r*100).toFixed(1)}))},[u]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Prime Time Utilization by Location",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:u,keys:["primeTimeUtilization"],indexBy:"name",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"category10"},axisBottom:{tickRotation:-45,legend:"Location",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}],theme:l})})}),e.jsx(P,{title:"Non-Prime Time Percentage by Location",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:u,keys:["nonPrimeTimePercentage"],indexBy:"name",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"accent"},axisBottom:{tickRotation:-45,legend:"Location",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Non-Prime Time (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}],theme:l})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Total Cases by Location",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(ee,{data:N,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"paired"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom",direction:"row",translateY:56,itemWidth:100,itemHeight:18,itemTextColor:"#999",symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}],theme:l})})}),e.jsx(P,{title:"Cases in Non-Prime Time by Location",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:u,keys:["casesInNonPrimeTime"],indexBy:"name",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"red_blue"},axisBottom:{tickRotation:-45,legend:"Location",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Number of Cases",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}],theme:l})})})]}),e.jsx(P,{title:"Location Comparison Table",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",children:"Location"}),e.jsx("th",{className:"p-2 border text-center",children:"Prime Time Utilization"}),e.jsx("th",{className:"p-2 border text-center",children:"Non-Prime Time %"}),e.jsx("th",{className:"p-2 border text-center",children:"Total Cases"}),e.jsx("th",{className:"p-2 border text-center",children:"Cases in Prime Time"}),e.jsx("th",{className:"p-2 border text-center",children:"Cases in Non-Prime Time"})]})}),e.jsx("tbody",{children:u.map(r=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"p-2 border",children:r.name}),e.jsxs("td",{className:"p-2 border text-center",children:[r.primeTimeUtilization.toFixed(1),"%"]}),e.jsxs("td",{className:"p-2 border text-center",children:[r.nonPrimeTimePercentage.toFixed(1),"%"]}),e.jsx("td",{className:"p-2 border text-center",children:r.totalCases}),e.jsx("td",{className:"p-2 border text-center",children:r.casesInPrimeTime}),e.jsx("td",{className:"p-2 border text-center",children:r.casesInNonPrimeTime})]},r.name))})]})})})]})},ye=({filters:j})=>{const{selectedHospital:h,selectedLocation:y,selectedSpecialty:d,dateRange:k}=j,{isDarkMode:o}=B(),l=Y(o),u=v.useMemo(()=>Object.entries(w.providers).filter(([r,t])=>!(d&&t.service!==d)).map(([r,t])=>({id:r,service:t.service,primeTimeUtilization:t.primeTimeUtilization,nonPrimeTimePercentage:t.nonPrimeTimePercentage,totalCases:t.totalCases||0,casesInPrimeTime:t.casesInPrimeTime||0,casesInNonPrimeTime:t.casesInNonPrimeTime||0})),[h,y,d,k]),N=v.useMemo(()=>{const r={};return u.forEach(t=>{r[t.service]||(r[t.service]=0),r[t.service]+=t.totalCases}),Object.entries(r).map(([t,n])=>({id:t,label:t,value:n}))},[u]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Prime Time Utilization by Provider",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:u.slice(0,10),keys:["primeTimeUtilization"],indexBy:"id",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"category10"},axisBottom:{tickRotation:-45,legend:"Provider",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}],theme:l})})}),e.jsx(P,{title:"Non-Prime Time Percentage by Provider",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:u.slice(0,10),keys:["nonPrimeTimePercentage"],indexBy:"id",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"accent"},axisBottom:{tickRotation:-45,legend:"Provider",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Non-Prime Time (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}],theme:l})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Specialty Distribution",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(ee,{data:N,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"paired"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom",direction:"row",translateY:56,itemWidth:100,itemHeight:18,itemTextColor:"#999",symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}],theme:l})})}),e.jsx(P,{title:"Cases in Non-Prime Time by Provider",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96 bg-gray-900 rounded-lg p-4",children:e.jsx(I,{data:u.slice(0,10),keys:["casesInNonPrimeTime"],indexBy:"id",margin:{top:20,right:130,bottom:70,left:60},padding:.3,colors:{scheme:"red_blue"},axisBottom:{tickRotation:-45,legend:"Provider",legendPosition:"middle",legendOffset:50},axisLeft:{legend:"Number of Cases",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20}],theme:l})})})]}),e.jsx(P,{title:"Provider Analysis Table",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",children:"Provider"}),e.jsx("th",{className:"p-2 border",children:"Specialty"}),e.jsx("th",{className:"p-2 border text-center",children:"Prime Time Utilization"}),e.jsx("th",{className:"p-2 border text-center",children:"Non-Prime Time %"}),e.jsx("th",{className:"p-2 border text-center",children:"Total Cases"}),e.jsx("th",{className:"p-2 border text-center",children:"Cases in Non-Prime Time"})]})}),e.jsx("tbody",{children:u.map(r=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"p-2 border",children:r.id}),e.jsx("td",{className:"p-2 border",children:r.service}),e.jsxs("td",{className:"p-2 border text-center",children:[r.primeTimeUtilization.toFixed(1),"%"]}),e.jsxs("td",{className:"p-2 border text-center",children:[r.nonPrimeTimePercentage.toFixed(1),"%"]}),e.jsx("td",{className:"p-2 border text-center",children:r.totalCases}),e.jsx("td",{className:"p-2 border text-center",children:r.casesInNonPrimeTime})]},r.id))})]})})})]})},re=({filters:j})=>{const{selectedHospital:h,selectedLocation:y,selectedSpecialty:d,dateRange:k}=j,o=v.useMemo(()=>Object.entries(w.serviceAnalysis).filter(([t,n])=>!(d&&t!==d&&t!=="Grand Total")).map(([t,n])=>({service:t,...n})),[h,y,d,k]),l=t=>t==null?"":`${t.toFixed(1)}%`,u=t=>t==null?"":t.toFixed(2),N=(t,n)=>t==null?"":t<50?"bg-red-100 dark:bg-red-900/20":t<70?"bg-yellow-100 dark:bg-yellow-900/20":t<90?"bg-green-100 dark:bg-green-900/20":"bg-blue-100 dark:bg-blue-900/20",r=(t,n=!1)=>t==null?"":n?t<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400":"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Prime Time Capacity Review by Service",dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prime Time Util - Current"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Prime Time Util - Previous"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"% Work During Non Prime Time - Current"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"% Work During Non Prime Time - Previous"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Num of Cases - Current"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Potential Cases possible with Current"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Additional Case Potential"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"# of ORs per week Available"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"# of ORs per week needed"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"# of OR Difference along Cell"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Num of Cases - Weekend"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"# of ORs needed per Weekend"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"% Weekend Work During Non Prime Time..."})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700",children:o.map((t,n)=>e.jsxs("tr",{className:t.service==="Grand Total"?"font-bold bg-gray-50 dark:bg-gray-800":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.service}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white ${N(t.primeTimeCurrent)}`,children:l(t.primeTimeCurrent)}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white ${N(t.primeTimePrevious)}`,children:l(t.primeTimePrevious)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:l(t.workDuringPrimeTimeCurrent)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:l(t.workDuringPrimeTimePrevious)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.numOfCasesCurrent}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.potentialCases}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${r(t.additionalCasePotential,!0)} dark:text-white`,children:t.additionalCasePotential}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:u(t.ORsPerWeekAvailable)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:u(t.ORsPerWeekNeeded)}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${r(t.ORDifference,!0)} dark:text-white`,children:u(t.ORDifference)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.numOfCasesWeekend}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:u(t.ORsNeededPerWeekend)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:l(t.percentWeekendWork)})]},n))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{title:"Service Utilization Comparison",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"p-4 text-center text-gray-600 dark:text-gray-400",children:e.jsx("p",{children:"This panel would contain a bar chart comparing prime time utilization across services."})})}),e.jsx(P,{title:"Weekend Utilization by Service",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"p-4 text-center text-gray-600 dark:text-gray-400",children:e.jsx("p",{children:"This panel would contain a visualization of weekend utilization patterns by service."})})})]}),e.jsx(P,{title:"Utilization Trend by Service",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"p-4 text-center text-gray-600 dark:text-gray-400",children:e.jsx("p",{children:"This panel would contain a line chart showing utilization trends over time for selected services."})})})]})};re.propTypes={filters:b.shape({selectedHospital:b.string,selectedLocation:b.string,selectedSpecialty:b.string,dateRange:b.shape({start:b.object,end:b.object})})};const ae=({activeView:j="overview"})=>{const[h,y]=v.useState({selectedHospital:"",selectedLocation:"",selectedSpecialty:"",dateRange:{start:null,end:null}}),d=(r,t)=>{y(n=>({...n,[r]:t}))},k=["MARH","MASH","MACH"],o=Object.keys(w.sites),l=["Orthopedics","General Surgery","Cardiology","Neurosurgery","Urology"],u={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.3}}},N=()=>{switch(j){case"overview":return e.jsx(Z,{filters:h});case"trends":return e.jsx(he,{filters:h});case"dayOfWeek":return e.jsx(ge,{filters:h});case"location":return e.jsx(xe,{filters:h});case"provider":return e.jsx(ye,{filters:h});case"service":return e.jsx(re,{filters:h});default:return e.jsx(Z,{filters:h})}};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(te,{hospitals:k,locations:o,specialties:l,selectedHospital:h.selectedHospital,selectedLocation:h.selectedLocation,selectedSpecialty:h.selectedSpecialty,dateRange:h.dateRange,onHospitalChange:r=>d("selectedHospital",r),onLocationChange:r=>d("selectedLocation",r),onSpecialtyChange:r=>d("selectedSpecialty",r),onDateRangeChange:r=>d("dateRange",r)})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(ce.div,{initial:"hidden",animate:"visible",variants:u,children:N()},j)})]})};ae.propTypes={activeView:b.string};function fe({auth:j}){const{url:h}=le(),d=new URLSearchParams(window.location.search).get("view")||"overview",[k,o]=v.useState(d),[l,u]=v.useState(!1);v.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("view")||"overview";o(n)},[h]);const N=t=>{o(t);const n=new URL(window.location);n.searchParams.set("view",t),window.history.pushState({},"",n)},r=[{title:"Analysis Views",items:[{id:"overview",label:"Overview",icon:"carbon:dashboard"},{id:"trends",label:"Utilization Trends",icon:"carbon:chart-line"},{id:"dayOfWeek",label:"Day of Week Analysis",icon:"carbon:calendar-heat-map"}]},{title:"Detailed Analysis",items:[{id:"location",label:"Location Comparison",icon:"carbon:location"},{id:"provider",label:"Provider Analysis",icon:"carbon:user-profile"},{id:"service",label:"Service Analysis",icon:"carbon:data-table"}]}];return e.jsxs(me,{auth:j,title:"Primetime Utilization",header:null,children:[e.jsx(de,{title:"Primetime Utilization"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-4 cursor-default",onDoubleClick:()=>u(!l),children:l&&e.jsx("div",{className:"flex items-center py-4 mb-2 border-b border-healthcare-border dark:border-healthcare-border-dark",children:e.jsx("h2",{className:"text-xl font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Primetime Utilization (Dev Mode)"})})}),e.jsx(ue,{menuGroups:r,activeTab:k,onTabChange:N}),e.jsx(ae,{activeView:k})]})]})}fe.propTypes={auth:b.shape({user:b.shape({id:b.number,name:b.string,email:b.string})})};export{fe as default};
