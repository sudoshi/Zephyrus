import{r as p,j as e,e as ve,R as Y}from"./app-DNCPaP7U.js";import{X as ee}from"./x-DW-vgWTY.js";import{C as je,R as Ne}from"./refresh-cw-D_7-zI1F.js";import{T as z}from"./triangle-alert-LJX56qae.js";import{c as T}from"./createLucideIcon-Ce72M_cX.js";import{C as Z}from"./circle-alert-aHEkhLu9.js";import{C as ue}from"./circle-check-big-BCZ6Q16e.js";import{U as F}from"./users-C4ziYTDi.js";import{T as G}from"./trending-up-CsRcKsV0.js";import{T as ae}from"./trending-down-C5tGC1Jc.js";import{R as we,C as Ce,X as Se,Y as Me,T as $e,a as Ae,B as I,L as te,b as B}from"./LineChart-BiJvPHt8.js";import{C as P,T as Te}from"./target-nI30E0SG.js";import{B as X}from"./BarChart-BfzQ1Suh.js";import{A as pe}from"./AreaChart-CLiXbhtt.js";import{A as fe}from"./Area-Cf-Jitxr.js";import{A as O}from"./activity-mHS_QB-I.js";import{A as re}from"./arrow-right-xdyR-px0.js";import{t as Le,c as De,f as J}from"./format-D9ti-yNI.js";import{C as ze}from"./calendar-CYnYG7qc.js";import{C as ye}from"./chevron-right-BJBpZWeq.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Re=T("ArrowDownRight",Pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ge=T("ArrowUpRight",Ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],q=T("Brain",Ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],qe=T("CalendarClock",_e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],he=T("ChartBar",Oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],He=T("ChevronLeft",Ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ke=T("CircleHelp",Be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],de=T("CircleX",Ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],K=T("DoorOpen",We);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Q=T("Lightbulb",Fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ge=T("LoaderCircle",Ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Ye=T("OctagonAlert",Xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],oe=T("RotateCcw",Qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ke=T("Share2",Je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xe=T("Shield",ea);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],ta=T("Stethoscope",aa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sa=T("UserPlus",ra);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ia=T("Zap",ca);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],na=T("ZoomIn",la);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],da=T("ZoomOut",ha);function W(a,t,r){const o=Le(a,r==null?void 0:r.in);return isNaN(t)?De(a,NaN):(t&&o.setDate(o.getDate()+t),o)}function me(a,t,r){return W(a,-1,r)}const oa=({isOpen:a,onClose:t,onConfirm:r,title:o,message:k,confirmLabel:m="Confirm",cancelLabel:x="Cancel",type:n="warning"})=>{const i=p.useRef(null),l=p.useRef(null);if(p.useEffect(()=>{var b,j,y;if(a){(b=i.current)==null||b.showModal(),(j=l.current)==null||j.focus();const h=g=>{g.key==="Escape"&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)}else(y=i.current)==null||y.close()},[a,t]),!a)return null;const s=(()=>{switch(n){case"danger":return{icon:z,iconClass:"text-healthcare-critical",buttonClass:"bg-healthcare-critical hover:bg-healthcare-critical-hover"};case"warning":return{icon:z,iconClass:"text-healthcare-warning",buttonClass:"bg-healthcare-warning hover:bg-healthcare-warning-hover"};default:return{icon:je,iconClass:"text-healthcare-success",buttonClass:"bg-healthcare-success hover:bg-healthcare-success-hover"}}})(),d=s.icon;return e.jsx("dialog",{ref:i,className:"bg-transparent p-0",onClick:b=>{b.target===i.current&&t()},children:e.jsxs("div",{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-healthcare-background-dark p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`rounded-full p-2 ${n==="danger"?"bg-healthcare-critical/10":"bg-healthcare-warning/10"}`,children:e.jsx(d,{className:`h-6 w-6 ${s.iconClass}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:o}),e.jsx("p",{className:"mt-2 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:k})]}),e.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-healthcare-surface dark:hover:bg-healthcare-surface-dark healthcare-transition","aria-label":"Close dialog",children:e.jsx(ee,{className:"h-5 w-5 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"})})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark rounded-md healthcare-transition focus:outline-none focus:ring-2 focus:ring-healthcare-primary focus:ring-offset-2 dark:focus:ring-offset-healthcare-background-dark",children:x}),e.jsx("button",{type:"button",ref:l,onClick:()=>{r(),t()},className:`px-4 py-2 text-sm font-medium text-white rounded-md healthcare-transition focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-healthcare-background-dark ${s.buttonClass}`,children:m})]})]})})},xa=({type:a,message:t,onDismiss:r,position:o="top-right"})=>{p.useEffect(()=>()=>{a==="loading"&&(r==null||r())},[a,r]);const k=()=>{switch(a){case"success":return{icon:ue,bgColor:"bg-healthcare-success/10",textColor:"text-healthcare-success",borderColor:"border-healthcare-success/20"};case"error":return{icon:de,bgColor:"bg-healthcare-critical/10",textColor:"text-healthcare-critical",borderColor:"border-healthcare-critical/20"};case"loading":return{icon:Ge,bgColor:"bg-healthcare-primary/10",textColor:"text-healthcare-primary",borderColor:"border-healthcare-primary/20"};default:return{icon:Z,bgColor:"bg-healthcare-warning/10",textColor:"text-healthcare-warning",borderColor:"border-healthcare-warning/20"}}},m=()=>{switch(o){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 -translate-x-1/2";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},x=k(),n=x.icon,i=m();return e.jsx("div",{role:"status","aria-live":a==="loading"?"polite":"assertive",className:`fixed ${i} z-50 pointer-events-auto`,children:e.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${x.bgColor} ${x.borderColor}`,children:[e.jsx(n,{className:`h-5 w-5 ${x.textColor} ${a==="loading"?"animate-spin":""}`,"aria-hidden":"true"}),e.jsx("p",{className:`text-sm font-medium ${x.textColor}`,children:t}),a!=="loading"&&e.jsx("button",{onClick:r,className:`ml-2 p-1 rounded-full hover:${x.bgColor} healthcare-transition`,"aria-label":"Dismiss notification",children:e.jsx(de,{className:`h-4 w-4 ${x.textColor}`})})]})})},_=({children:a,content:t,position:r="top",delay:o=200,maxWidth:k=250})=>{const[m,x]=p.useState(!1),[n,i]=p.useState({top:0,left:0}),l=p.useRef(null),c=p.useRef(null),s=p.useRef(null),d=p.useRef(null),b=()=>{if(!l.current||!c.current)return;const h=l.current.getBoundingClientRect(),g=c.current.getBoundingClientRect(),S=window.scrollX,u=window.scrollY;let v=0,f=0;switch(r){case"top":v=h.top+u-g.height-8,f=h.left+S+(h.width-g.width)/2;break;case"bottom":v=h.bottom+u+8,f=h.left+S+(h.width-g.width)/2;break;case"left":v=h.top+u+(h.height-g.height)/2,f=h.left+S-g.width-8;break;case"right":v=h.top+u+(h.height-g.height)/2,f=h.right+S+8;break}const N=8,C=window.innerWidth,$=window.innerHeight;f<N?f=N:f+g.width>C-N&&(f=C-g.width-N),v<N?v=N:v+g.height>$-N&&(v=$-g.height-N),i({top:v,left:f})},j=()=>{clearTimeout(d.current),s.current=setTimeout(()=>{x(!0),requestAnimationFrame(b)},o)},y=()=>{clearTimeout(s.current),d.current=setTimeout(()=>{x(!1)},100)};return p.useEffect(()=>{if(m){const h=()=>b(),g=()=>b();return window.addEventListener("scroll",h),window.addEventListener("resize",g),()=>{window.removeEventListener("scroll",h),window.removeEventListener("resize",g)}}},[m]),p.useEffect(()=>()=>{clearTimeout(s.current),clearTimeout(d.current)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,onMouseEnter:j,onMouseLeave:y,onFocus:j,onBlur:y,children:a}),m&&ve.createPortal(e.jsxs("div",{ref:c,role:"tooltip",className:`fixed z-50 px-3 py-2 text-sm font-medium text-white bg-healthcare-text-primary dark:bg-healthcare-text-primary-dark rounded-md shadow-lg max-w-[${k}px] animate-fadeIn`,style:{top:n.top,left:n.left},children:[t,e.jsx("div",{className:`absolute w-2 h-2 bg-healthcare-text-primary dark:bg-healthcare-text-primary-dark transform rotate-45 ${r==="top"?"bottom-[-4px]":r==="bottom"?"top-[-4px]":r==="left"?"right-[-4px]":"left-[-4px]"}`,style:{left:r==="top"||r==="bottom"?"50%":void 0,top:r==="left"||r==="right"?"50%":void 0,marginLeft:r==="top"||r==="bottom"?"-4px":void 0,marginTop:r==="left"||r==="right"?"-4px":void 0}})]}),document.body)]})},ma=()=>{const[a,t]=p.useState(null),[r,o]=p.useState(null),k=p.useCallback(c=>{t(c)},[]),m=p.useCallback(async()=>{if(a)try{o({type:"loading",message:`Processing ${a.label.toLowerCase()}...`}),await new Promise(c=>setTimeout(c,1e3)),o({type:"success",message:`Successfully ${a.label.toLowerCase()}`,autoHide:!0}),await a.handler()}catch(c){o({type:"error",message:`Failed to ${a.label.toLowerCase()}: ${c.message}`,autoHide:!0})}finally{t(null),r!=null&&r.autoHide&&setTimeout(()=>o(null),3e3)}},[a]),x=p.useCallback(()=>{t(null)},[]),n=p.useCallback(()=>{o(null)},[]),i=p.useCallback(()=>a?{isOpen:!0,onClose:x,onConfirm:m,title:a.confirmTitle||`Confirm ${a.label}`,message:a.confirmMessage||`Are you sure you want to ${a.label.toLowerCase()}?`,confirmLabel:a.confirmLabel||"Confirm",cancelLabel:a.cancelLabel||"Cancel",type:a.confirmType||"warning"}:null,[a,x,m]),l=p.useCallback(()=>r?{type:r.type,message:r.message,onDismiss:n}:null,[r,n]);return{confirmAction:k,executeAction:m,cancelAction:x,clearFeedback:n,getConfirmationProps:i,getFeedbackProps:l,isActionPending:!!a,hasFeedback:!!r}},ua=(a,t,r)=>{const o=p.useRef(-1);return p.useEffect(()=>{const k=a.current;if(!k)return;const m=n=>{const i=Array.from(k.querySelectorAll(t));if(i.length)switch(n.key){case"ArrowRight":case"ArrowDown":n.preventDefault(),o.current=(o.current+1)%i.length,i[o.current].focus();break;case"ArrowLeft":case"ArrowUp":n.preventDefault(),o.current=o.current-1<0?i.length-1:o.current-1,i[o.current].focus();break;case"Home":n.preventDefault(),o.current=0,i[0].focus();break;case"End":n.preventDefault(),o.current=i.length-1,i[i.length-1].focus();break;case"Enter":case" ":n.preventDefault(),o.current>=0&&(r==null||r(i[o.current]));break}},x=n=>{const i=Array.from(k.querySelectorAll(t));o.current=i.indexOf(n.target)};return k.addEventListener("keydown",m),k.addEventListener("focusin",x),()=>{k.removeEventListener("keydown",m),k.removeEventListener("focusin",x)}},[a,t,r]),{resetFocus:()=>{o.current=-1}}},pa=(a,t)=>{const r={status:{critical:"Resource is critically overutilized. Immediate action required.",high:"Resource utilization is approaching critical levels. Consider preventive actions.",medium:"Resource utilization is elevated but manageable.",normal:"Resource utilization is within normal operating range."},trend:{increasing:"Utilization is projected to increase in the next hour based on current patterns.",decreasing:"Utilization is projected to decrease in the next hour based on current patterns."}},o={nurses:{utilization:"Current nursing staff allocation relative to required coverage.",actions:{request:"Request additional nursing staff from the staffing pool or agency resources.",adjust:"Modify current shift assignments to optimize coverage."}},physicians:{utilization:"Current physician coverage relative to service requirements.",actions:{page:"Send immediate alert to on-call physician for urgent support.",view:"Review detailed physician coverage schedule and availability."}},rooms:{utilization:"Current room occupancy relative to total capacity.",actions:{view:"View detailed status of all rooms including cleaning and preparation status.",expedite:"Prioritize room turnover to increase available capacity."}}};return{status:r.status[t.status],trend:r.trend[t.trend.label.toLowerCase()],utilization:o[a.key].utilization,actions:o[a.key].actions}},fa=({resourceData:a,predictions:t,onAction:r})=>{const{confirmAction:o,getConfirmationProps:k,getFeedbackProps:m}=ma(),x=p.useRef(null);ua(x,"button[data-action]",s=>{const d=parseInt(s.getAttribute("data-action-index")),b=s.getAttribute("data-resource-key"),j=i.find(y=>y.key===b);j&&j.quickActions[d]&&o(j.quickActions[d])});const n=(s,d)=>{var y;const b=s==="space"?d.occupied/d.capacity:d.assigned/d.required,j=a[s].thresholds;return{status:b>=j.critical?"critical":b>=j.high?"high":b>=j.medium?"medium":"normal",percentage:Math.round(b*100),trend:((y=t.resourceUtilization.nextHour[d.key])==null?void 0:y.assigned)>d.assigned?{icon:G,label:"Increasing",color:"text-healthcare-critical"}:{icon:ae,label:"Decreasing",color:"text-healthcare-success"}}},i=[{key:"nurses",type:"staffing",label:"Nursing Staff",icon:F,data:a.staffing.current.nurses,quickActions:[{label:"Request Additional Staff",handler:()=>r==null?void 0:r("request_staff"),confirmTitle:"Request Additional Staff",confirmMessage:"This will notify the staffing coordinator to allocate additional nursing staff. Continue?",confirmType:"warning"},{label:"Adjust Shift Schedule",handler:()=>r==null?void 0:r("adjust_schedule"),confirmTitle:"Adjust Shift Schedule",confirmMessage:"This will modify the current shift assignments. Are you sure?",confirmType:"warning"}]},{key:"physicians",type:"staffing",label:"Physicians",icon:ta,data:a.staffing.current.physicians,quickActions:[{label:"Page On-Call Doctor",handler:()=>r==null?void 0:r("page_doctor"),confirmTitle:"Page On-Call Doctor",confirmMessage:"This will send an immediate alert to the on-call physician. Proceed?",confirmType:"warning"},{label:"View Coverage Schedule",handler:()=>r==null?void 0:r("view_schedule"),confirmTitle:"View Coverage Schedule",confirmMessage:"Open the physician coverage schedule?"}]},{key:"rooms",type:"space",label:"Patient Rooms",icon:K,data:a.space.current.rooms,quickActions:[{label:"View Room Status",handler:()=>r==null?void 0:r("view_rooms"),confirmTitle:"View Room Status",confirmMessage:"Open detailed room status view?"},{label:"Expedite Turnover",handler:()=>r==null?void 0:r("expedite_turnover"),confirmTitle:"Expedite Room Turnover",confirmMessage:"This will prioritize cleaning and preparation of available rooms. Continue?",confirmType:"warning"}]}],l=k(),c=m();return e.jsxs(e.Fragment,{children:[l&&e.jsx(oa,{...l}),c&&e.jsx(xa,{...c}),e.jsx("div",{className:"grid grid-cols-3 gap-6",ref:x,children:i.map(s=>{const d=n(s.type,{...s.data,key:s.key}),b=s.icon,j=d.trend.icon,y=pa(s,d);return e.jsxs("div",{className:"healthcare-card p-6",role:"region","aria-label":`${s.label} status and actions`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{content:y.status,children:e.jsx("div",{className:`rounded-full p-3 ${d.status==="critical"?"bg-healthcare-critical/10 text-healthcare-critical":d.status==="high"?"bg-healthcare-warning/10 text-healthcare-warning":"bg-healthcare-success/10 text-healthcare-success"}`,children:e.jsx(b,{className:"h-6 w-6","aria-hidden":"true"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:s.label}),e.jsx(_,{content:y.utilization,children:e.jsx(Ke,{className:"h-4 w-4 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-sm font-medium ${d.status==="critical"?"text-healthcare-critical":d.status==="high"?"text-healthcare-warning":"text-healthcare-success"}`,children:[d.percentage,"% Utilized"]}),e.jsx(_,{content:y.trend,children:e.jsxs("div",{className:`flex items-center gap-1 ${d.trend.color}`,role:"status",children:[e.jsx(j,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{className:"text-xs",children:d.trend.label})]})})]})]})]}),d.status==="critical"&&e.jsx("div",{className:"rounded-full bg-healthcare-critical/10 p-2",role:"alert","aria-label":"Critical utilization level",children:e.jsx(Z,{className:"h-5 w-5 text-healthcare-critical"})})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsx("span",{children:"Current"}),e.jsxs("span",{children:[s.type==="space"?s.data.occupied:s.data.assigned," / ",s.type==="space"?s.data.capacity:s.data.required]})]}),e.jsx("div",{className:"h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",role:"progressbar","aria-valuenow":d.percentage,"aria-valuemin":"0","aria-valuemax":"100","aria-label":`${s.label} utilization`,children:e.jsx("div",{className:`h-full rounded-full transition-all ${d.status==="critical"?"bg-healthcare-critical":d.status==="high"?"bg-healthcare-warning":"bg-healthcare-success"}`,style:{width:`${d.percentage}%`}})})]}),e.jsx("div",{className:"flex gap-2",role:"group","aria-label":`${s.label} quick actions`,children:s.quickActions.map((h,g)=>e.jsx(_,{content:y.actions[Object.keys(y.actions)[g]],position:"bottom",children:e.jsx("button",{onClick:()=>o(h),"data-action":!0,"data-action-index":g,"data-resource-key":s.key,className:"flex-1 px-3 py-2 text-sm font-medium rounded-md bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark text-healthcare-text-primary dark:text-healthcare-text-primary-dark healthcare-transition focus:outline-none focus:ring-2 focus:ring-healthcare-primary focus:ring-offset-2 dark:focus:ring-offset-healthcare-background-dark",children:h.label})},g))})]},s.key)})})]})},E=({title:a,icon:t,height:r="64",children:o,className:k="",yAxisLabel:m,yAxisDomain:x,xAxisDataKey:n,xAxisInterval:i,xAxisAngle:l,xAxisHeight:c,tooltipContent:s,legendContent:d})=>e.jsxs("div",{className:`healthcare-card ${k}`,children:[(a||t)&&e.jsxs("h3",{className:"font-bold mb-6 flex items-center gap-2 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:[t&&e.jsx(t,{className:"h-5 w-5"}),a]}),e.jsx("div",{className:`h-${r} bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-lg p-4`,children:e.jsx(we,{width:"100%",height:"100%",children:Y.cloneElement(Y.Children.only(o),{},[e.jsx(Ce,{strokeDasharray:"3 3"},"grid"),e.jsx(Se,{dataKey:n,interval:i,angle:l,height:c},"xAxis"),e.jsx(Me,{domain:x,label:m?{value:m,angle:-90,position:"insideLeft"}:void 0},"yAxis"),e.jsx($e,{content:s},"tooltip"),d&&e.jsx(Ae,{content:d},"legend"),...Y.Children.toArray(o.props.children)])})})]}),ya=({resourceData:a,predictions:t})=>{const r=()=>["Morning","Afternoon","Night"].map(l=>{var c,s,d,b;return{shift:l,nurses:Math.round((((c=t.resourceUtilization.nextShift.nurses)==null?void 0:c.assigned)||0)/(((s=t.resourceUtilization.nextShift.nurses)==null?void 0:s.required)||1)*100),physicians:Math.round((((d=t.resourceUtilization.nextShift.physicians)==null?void 0:d.assigned)||0)/(((b=t.resourceUtilization.nextShift.physicians)==null?void 0:b.required)||1)*100),coverage:Math.random()*30+70}}),o=()=>[{skill:"Critical Care",level:85,demand:90},{skill:"Emergency",level:75,demand:80},{skill:"General Care",level:95,demand:85},{skill:"Specialized",level:70,demand:75}],k=()=>[{role:"Senior Nurse",current:85,optimal:75},{role:"Staff Nurse",current:90,optimal:80},{role:"Resident",current:70,optimal:75},{role:"Attending",current:80,optimal:75}],m=r(),x=o(),n=k();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"rounded-full bg-healthcare-primary/10 p-3",children:e.jsx(P,{className:"h-6 w-6 text-healthcare-primary"})}),e.jsx("h3",{className:"text-lg font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Shift Coverage Analysis"})]}),e.jsx("div",{className:"h-64",children:e.jsx(E,{height:"64",yAxisLabel:"Coverage %",xAxisDataKey:"shift",children:e.jsxs(X,{data:m,children:[e.jsx(I,{dataKey:"nurses",name:"Nurses",fill:"var(--healthcare-primary)",radius:[4,4,0,0]}),e.jsx(I,{dataKey:"physicians",name:"Physicians",fill:"var(--healthcare-success)",radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"rounded-full bg-healthcare-success/10 p-3",children:e.jsx(q,{className:"h-6 w-6 text-healthcare-success"})}),e.jsx("h3",{className:"text-lg font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Skill Distribution"})]}),e.jsx("div",{className:"space-y-4",children:x.map((i,l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:i.skill}),e.jsxs("span",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[i.level,"% vs ",i.demand,"% needed"]})]}),e.jsxs("div",{className:"relative h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:[e.jsx("div",{className:"absolute h-full bg-healthcare-success rounded-full",style:{width:`${i.level}%`}}),e.jsx("div",{className:"absolute h-full border-r-2 border-healthcare-warning",style:{left:`${i.demand}%`}})]})]},l))})]}),e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"rounded-full bg-healthcare-warning/10 p-3",children:e.jsx(xe,{className:"h-6 w-6 text-healthcare-warning"})}),e.jsx("h3",{className:"text-lg font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Workload Balance"})]}),e.jsx("div",{className:"space-y-4",children:n.map((i,l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:i.role}),e.jsxs("span",{className:`font-medium ${i.current>i.optimal+10?"text-healthcare-critical":i.current>i.optimal+5?"text-healthcare-warning":"text-healthcare-success"}`,children:[i.current,"% Load"]})]}),e.jsxs("div",{className:"relative h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:[e.jsx("div",{className:`h-full rounded-full ${i.current>i.optimal+10?"bg-healthcare-critical":i.current>i.optimal+5?"bg-healthcare-warning":"bg-healthcare-success"}`,style:{width:`${i.current}%`}}),e.jsx("div",{className:"absolute h-full border-r-2 border-healthcare-primary",style:{left:`${i.optimal}%`}})]})]},l))})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Adjust Shift Schedule",icon:P},{label:"Request Skill Coverage",icon:q},{label:"Balance Workload",icon:xe}].map((i,l)=>e.jsxs("button",{className:"healthcare-card p-4 flex items-center gap-3 hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark cursor-pointer healthcare-transition",children:[e.jsx("div",{className:"rounded-full bg-healthcare-primary/10 p-2",children:e.jsx(i.icon,{className:"h-5 w-5 text-healthcare-primary"})}),e.jsx("span",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:i.label})]},l))})]})},ga=({resourceData:a,predictions:t})=>{const r=()=>Array.from({length:24},(c,s)=>String(s).padStart(2,"0")+":00").map(c=>{const s=t.patternAnalysis.peakHours.find(d=>d.start<=c&&d.end>=c);return{hour:c,occupancy:Math.round(((s==null?void 0:s.severity)||.5)*100),turnover:Math.round(Math.random()*5)}}),o=()=>{const l=a.space.current.rooms.capacity,c=["Occupied","Turnover","Available","Maintenance"],s=Array.from({length:l},(d,b)=>({id:`R${String(b+1).padStart(3,"0")}`,status:c[Math.floor(Math.random()*c.length)],duration:Math.round(Math.random()*120),nextAction:Math.round(Math.random()*30)}));return{rooms:s,summary:{occupied:s.filter(d=>d.status==="Occupied").length,turnover:s.filter(d=>d.status==="Turnover").length,available:s.filter(d=>d.status==="Available").length,maintenance:s.filter(d=>d.status==="Maintenance").length}}},k=()=>[{time:"08:00",duration:35},{time:"09:00",duration:42},{time:"10:00",duration:28},{time:"11:00",duration:45},{time:"12:00",duration:38},{time:"13:00",duration:32},{time:"14:00",duration:40}],m=r(),x=o(),n=k(),i=l=>{switch(l){case"Occupied":return"bg-healthcare-warning text-healthcare-warning";case"Turnover":return"bg-healthcare-primary text-healthcare-primary";case"Available":return"bg-healthcare-success text-healthcare-success";case"Maintenance":return"bg-healthcare-critical text-healthcare-critical";default:return"bg-healthcare-border text-healthcare-text-secondary"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-healthcare-primary/10 p-3",children:e.jsx(P,{className:"h-6 w-6 text-healthcare-primary"})}),e.jsx("h3",{className:"text-lg font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Daily Occupancy Pattern"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-healthcare-critical/50"}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Peak Hours"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-healthcare-success/50"}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Low Utilization"})]})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(E,{height:"64",yAxisLabel:"Occupancy %",xAxisDataKey:"hour",children:e.jsxs(pe,{data:m,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"occupancyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--healthcare-critical)",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"var(--healthcare-success)",stopOpacity:.2})]})}),e.jsx(fe,{type:"monotone",dataKey:"occupancy",stroke:"var(--healthcare-primary)",fill:"url(#occupancyGradient)"})]})})})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(x.summary).map(([l,c])=>e.jsxs("div",{className:"healthcare-card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark capitalize",children:l}),e.jsx("span",{className:`text-lg font-bold ${i(l)}`,children:c})]}),e.jsx("div",{className:"h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${i(l).split(" ")[0]}`,style:{width:`${c/x.rooms.length*100}%`}})})]},l))}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"rounded-full bg-healthcare-warning/10 p-3",children:e.jsx(K,{className:"h-6 w-6 text-healthcare-warning"})}),e.jsx("h3",{className:"text-lg font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Room Status"})]}),e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:x.rooms.map(l=>e.jsxs("div",{className:"healthcare-panel flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i(l.status).split(" ")[0]}`}),e.jsx("span",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:l.id})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:l.status}),e.jsxs("div",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[l.duration," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-healthcare-warning",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:[l.nextAction,"m"]})]})]})]},l.id))})]}),e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"rounded-full bg-healthcare-success/10 p-3",children:e.jsx(oe,{className:"h-6 w-6 text-healthcare-success"})}),e.jsx("h3",{className:"text-lg font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Turnover Performance"})]}),e.jsx("div",{className:"h-64",children:e.jsx(E,{height:"64",yAxisLabel:"Minutes",xAxisDataKey:"time",children:e.jsx(te,{data:n,children:e.jsx(B,{type:"monotone",dataKey:"duration",stroke:"var(--healthcare-success)",strokeWidth:2})})})})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Expedite Turnover",icon:ia},{label:"View Maintenance Schedule",icon:oe},{label:"Optimize Room Assignments",icon:K}].map((l,c)=>e.jsxs("button",{className:"healthcare-card p-4 flex items-center gap-3 hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark cursor-pointer healthcare-transition",children:[e.jsx("div",{className:"rounded-full bg-healthcare-primary/10 p-2",children:e.jsx(l.icon,{className:"h-5 w-5 text-healthcare-primary"})}),e.jsx("span",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:l.label})]},c))})]})},be=({size:a="md"})=>{const t={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:`${t[a]} border-2 border-healthcare-border dark:border-healthcare-border-dark border-t-healthcare-primary dark:border-t-healthcare-primary-dark rounded-full animate-spin`,role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})})},ka=({metrics:a})=>{var b,j,y,h,g,S,u,v,f,N,C,$;const[t,r]=p.useState("overview"),[o,k]=p.useState(!0),[m,x]=p.useState([]),n=p.useRef(null),i=p.useRef(t);p.useEffect(()=>{k(!0);const w=setTimeout(()=>k(!1),1e3);return()=>clearTimeout(w)},[t]),p.useEffect(()=>{var M;const w=A=>{var R,U,H;if(!n.current)return;const L=Array.from(n.current.querySelectorAll('button[role="tab"]')),D=L.findIndex(V=>V===document.activeElement);switch(A.key){case"ArrowRight":A.preventDefault(),(R=L[(D+1)%L.length])==null||R.focus();break;case"ArrowLeft":A.preventDefault(),(U=L[D-1>=0?D-1:L.length-1])==null||U.focus();break;case"Enter":case" ":A.preventDefault(),((H=document.activeElement)==null?void 0:H.getAttribute("role"))==="tab"&&r(document.activeElement.id.replace("-tab",""));break}};return(M=n.current)==null||M.addEventListener("keydown",w),()=>{var A;return(A=n.current)==null?void 0:A.removeEventListener("keydown",w)}},[]),p.useEffect(()=>{var w;if(i.current!==t){const M=`${(w=s.find(A=>A.id===t))==null?void 0:w.label} tab activated`;d(M),i.current=t}},[t]),p.useEffect(()=>{(()=>{const M=[];Object.entries(l.staffing.current).forEach(([A,L])=>{const D=L.assigned/L.required;D>=l.staffing.thresholds.critical&&M.push({type:"staffing",message:`Critical ${A} shortage`,severity:"high",value:`${Math.round(D*100)}%`})}),Object.entries(l.space.current).forEach(([A,L])=>{const D=L.occupied/L.capacity;D>=l.space.thresholds.critical&&M.push({type:"space",message:`Critical ${A} capacity`,severity:"high",value:`${Math.round(D*100)}%`})}),x(M)})()},[a]);const l={staffing:{current:{nurses:{assigned:((j=(b=a==null?void 0:a.staffing)==null?void 0:b.nurses)==null?void 0:j.assigned)||0,required:((h=(y=a==null?void 0:a.staffing)==null?void 0:y.nurses)==null?void 0:h.required)||0},physicians:{assigned:((S=(g=a==null?void 0:a.staffing)==null?void 0:g.physicians)==null?void 0:S.assigned)||0,required:((v=(u=a==null?void 0:a.staffing)==null?void 0:u.physicians)==null?void 0:v.required)||0}},weight:.4,thresholds:{critical:.9,high:.8,medium:.7}},space:{current:{rooms:{occupied:((N=(f=a==null?void 0:a.space)==null?void 0:f.rooms)==null?void 0:N.occupied)||0,capacity:(($=(C=a==null?void 0:a.space)==null?void 0:C.rooms)==null?void 0:$.capacity)||0}},weight:.3,thresholds:{critical:.95,high:.85,medium:.75}}},c=(a==null?void 0:a.predictions)||{resourceUtilization:{nextHour:{},nextShift:{},nextDay:{}},patternAnalysis:{peakHours:[],weeklyPatterns:{}}},s=[{id:"overview",label:"Overview",icon:q},{id:"staff",label:"Staff Management",icon:F},{id:"space",label:"Space Utilization",icon:K}],d=w=>{const M=document.createElement("div");M.setAttribute("aria-live","polite"),M.setAttribute("class","sr-only"),M.textContent=w,document.body.appendChild(M),setTimeout(()=>document.body.removeChild(M),1e3)};return e.jsxs("div",{className:"space-y-6",children:[m.length>0&&e.jsxs("div",{className:"bg-healthcare-critical/10 border border-healthcare-critical/20 rounded-lg p-4 mb-6",role:"alert",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Z,{className:"h-5 w-5 text-healthcare-critical"}),e.jsx("h2",{className:"font-bold text-healthcare-critical",children:"Critical Resource Alerts"})]}),e.jsx("div",{className:"space-y-2",children:m.map((w,M)=>e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-healthcare-background-dark p-3 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w.type==="staffing"?e.jsx(F,{className:"h-5 w-5 text-healthcare-critical"}):e.jsx(K,{className:"h-5 w-5 text-healthcare-critical"}),e.jsx("span",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:w.message})]}),e.jsx("span",{className:"font-bold text-healthcare-critical",children:w.value})]},M))})]}),e.jsx("div",{ref:n,role:"tablist","aria-label":"Resource analysis sections",className:"flex gap-2 p-1 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-lg",children:s.map(w=>{const M=w.icon,A=t===w.id;return e.jsxs("button",{id:`${w.id}-tab`,role:"tab","aria-selected":A,"aria-controls":`${w.id}-panel`,onClick:()=>r(w.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium transition-all focus:outline-none focus:ring-2 focus:ring-healthcare-primary focus:ring-offset-2 dark:focus:ring-offset-healthcare-background-dark ${A?"bg-white dark:bg-healthcare-background-dark text-healthcare-primary dark:text-healthcare-primary-dark shadow-sm":"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark hover:text-healthcare-text-primary dark:hover:text-healthcare-text-primary-dark"}`,children:[e.jsx(M,{className:"h-5 w-5","aria-hidden":"true"}),e.jsx("span",{children:w.label})]},w.id)})}),e.jsx("div",{className:"relative min-h-[400px]",children:o?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-healthcare-background-dark bg-opacity-75 dark:bg-opacity-75 backdrop-blur-sm",children:e.jsx(be,{size:"lg"})}):e.jsx("div",{className:"animate-fadeIn",children:s.map(w=>e.jsx("div",{id:`${w.id}-panel`,role:"tabpanel","aria-labelledby":`${w.id}-tab`,hidden:t!==w.id,className:"focus:outline-none",tabIndex:t===w.id?0:-1,children:t===w.id&&e.jsxs(e.Fragment,{children:[w.id==="overview"&&e.jsx(fa,{resourceData:l,predictions:c}),w.id==="staff"&&e.jsx(ya,{resourceData:l,predictions:c}),w.id==="space"&&e.jsx(ga,{resourceData:l,predictions:c})]})},w.id))})})]})},se=({title:a,score:t,maxScore:r,icon:o,details:k=[],className:m="",colorScheme:x="primary"})=>{const n={primary:"bg-healthcare-surface dark:bg-healthcare-surface-dark text-healthcare-primary dark:text-healthcare-primary-dark",success:"bg-healthcare-surface dark:bg-healthcare-surface-dark text-healthcare-success dark:text-healthcare-success-dark",warning:"bg-healthcare-surface dark:bg-healthcare-surface-dark text-healthcare-warning dark:text-healthcare-warning-dark",critical:"bg-healthcare-surface dark:bg-healthcare-surface-dark text-healthcare-critical dark:text-healthcare-critical-dark"};return e.jsxs("div",{className:`healthcare-card ${n[x]} ${m}`,children:[e.jsxs("h3",{className:"font-bold flex items-center gap-2 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:[o&&e.jsx(o,{className:"h-5 w-5"}),a,t!==void 0&&r!==void 0&&e.jsxs("span",{className:`ml-auto font-semibold ${n[x]}`,children:[t,"/",r," points"]})]}),k.length>0&&e.jsx("div",{className:"mt-4 space-y-3",children:k.map((i,l)=>e.jsx("div",{className:"text-sm",children:typeof i=="string"?e.jsx("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:i}):e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:[i.label,":"]}),e.jsx("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:i.value})]})},l))})]})},ce=({title:a="Critical Alerts",alerts:t=[],type:r="critical",icon:o,className:k=""})=>{const x={critical:{wrapper:"bg-healthcare-surface dark:bg-healthcare-surface-dark",title:"text-healthcare-critical dark:text-healthcare-critical-dark",alert:"text-healthcare-critical dark:text-healthcare-critical-dark",icon:z},warning:{wrapper:"bg-healthcare-surface dark:bg-healthcare-surface-dark",title:"text-healthcare-warning dark:text-healthcare-warning-dark",alert:"text-healthcare-warning dark:text-healthcare-warning-dark",icon:z},info:{wrapper:"bg-healthcare-surface dark:bg-healthcare-surface-dark",title:"text-healthcare-info dark:text-healthcare-info-dark",alert:"text-healthcare-info dark:text-healthcare-info-dark",icon:z}}[r],n=o||x.icon;return e.jsxs("div",{className:`healthcare-card ${x.wrapper} ${k}`,children:[e.jsxs("h3",{className:`font-bold ${x.title} flex items-center gap-2`,children:[e.jsx(n,{className:"h-5 w-5"}),a]}),e.jsx("div",{className:"mt-4 space-y-3",children:t.length>0?t.map((i,l)=>e.jsx("div",{className:"text-sm healthcare-panel",children:typeof i=="string"?e.jsx("p",{className:x.alert,children:i}):e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:[i.title,":"]}),e.jsxs("p",{className:x.alert,children:[i.message,i.value&&e.jsxs("span",{className:"font-semibold ml-1 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:["(",i.value,")"]})]})]})},l)):e.jsx("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"No alerts to display"})})]})},ba=({cascadeData:a,timeframe:t="hour",onScenarioChange:r})=>{const[o,k]=p.useState(null),m=p.useCallback(()=>{const c=t==="hour"?12:t==="shift"?8:24,s=a.affectedProcesses.map(d=>({id:d.id,name:d.name,severity:d.severity,timeImpact:d.timeImpact}));return Array.from({length:c},(d,b)=>{const j=t==="hour"?`${b*5}m`:t==="shift"?`${b+1}h`:`${b+1}h`,y=s.map(h=>{const g=Math.sin(b/c*Math.PI),S=h.severity*.2*g;return{...h,predictedSeverity:Math.max(0,Math.min(1,h.severity+S)),confidence:Math.max(.5,1-b/c*.5)}});return{timePoint:j,predictions:y,totalImpact:y.reduce((h,g)=>h+g.predictedSeverity,0)/y.length}})},[a,t]),x=p.useCallback(()=>[{id:"baseline",label:"Baseline",description:"Current trajectory without intervention",impact:1},{id:"mitigation",label:"With Mitigation",description:"Impact with proposed mitigation steps",impact:.7},{id:"optimized",label:"Optimized Response",description:"Impact with optimized resource allocation",impact:.5}],[]),n=m(),i=x(),l=c=>{k(c),r==null||r(c)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(c=>e.jsxs("button",{onClick:()=>l(c),className:`healthcare-card p-4 text-left transition-all ${(o==null?void 0:o.id)===c.id?"ring-2 ring-healthcare-primary dark:ring-healthcare-primary-dark":"hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`rounded-full p-2 ${c.id==="baseline"?"bg-healthcare-warning/10 text-healthcare-warning":c.id==="mitigation"?"bg-healthcare-info/10 text-healthcare-info":"bg-healthcare-success/10 text-healthcare-success"}`,children:c.id==="baseline"?e.jsx(G,{className:"h-5 w-5"}):c.id==="mitigation"?e.jsx(O,{className:"h-5 w-5"}):e.jsx(P,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:c.label}),e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Impact Factor: ",c.impact*100,"%"]})]})]}),e.jsx("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:c.description})]},c.id))}),e.jsxs("div",{className:"healthcare-card",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Predicted Impact Timeline"}),e.jsx("div",{className:"h-64",children:e.jsx(E,{height:"64",yAxisLabel:"Impact Severity %",xAxisDataKey:"timePoint",children:e.jsxs(pe,{data:n,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"impactGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--healthcare-warning)",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"var(--healthcare-warning)",stopOpacity:.2})]})}),e.jsx(fe,{type:"monotone",dataKey:"totalImpact",stroke:"var(--healthcare-warning)",fill:"url(#impactGradient)",name:"Impact Severity"})]})})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:a.affectedProcesses.map((c,s)=>e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:c.name}),e.jsxs("div",{className:`px-2 py-1 rounded text-sm ${c.severity>.8?"bg-healthcare-critical/10 text-healthcare-critical":c.severity>.6?"bg-healthcare-warning/10 text-healthcare-warning":"bg-healthcare-info/10 text-healthcare-info"}`,children:[Math.round(c.severity*100),"% Impact"]})]}),e.jsx("div",{className:"h-32",children:e.jsx(E,{height:"32",yAxisLabel:"Severity %",xAxisDataKey:"timePoint",children:e.jsx(te,{data:n,children:e.jsx(B,{type:"monotone",dataKey:`predictions[${s}].predictedSeverity`,stroke:"var(--healthcare-primary)",strokeWidth:2,dot:!1})})})})]},c.id))}),o&&e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(z,{className:"h-5 w-5 text-healthcare-warning"}),e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Prediction Confidence"})]}),e.jsx("div",{className:"space-y-4",children:n[0].predictions.map((c,s)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-32 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:c.name}),e.jsx("div",{className:"flex-1 h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-healthcare-info rounded-full transition-all",style:{width:`${c.confidence*100}%`}})}),e.jsxs("div",{className:"w-16 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark text-right",children:[Math.round(c.confidence*100),"%"]})]},s))})]})]})},va=({cascadeData:a,onPhaseClick:t,className:r=""})=>{const[o,k]=p.useState(null),m=p.useCallback((l,c)=>{const s=c.severity||0,d=c.timeImpact||0;return l.status==="complete"?"complete":l.status==="blocked"?"blocked":s>.8?"critical":s>.6?"warning":d>60?"delayed":"active"},[]),x=p.useCallback(l=>{switch(l){case"complete":return"bg-healthcare-success text-healthcare-success";case"blocked":return"bg-healthcare-critical text-healthcare-critical";case"critical":return"bg-healthcare-critical text-healthcare-critical";case"warning":return"bg-healthcare-warning text-healthcare-warning";case"delayed":return"bg-healthcare-info text-healthcare-info";default:return"bg-healthcare-primary text-healthcare-primary"}},[]),n=p.useCallback(l=>{switch(l){case"complete":return ue;case"blocked":case"critical":return z;default:return P}},[]),i=p.useCallback((l,c)=>{var s;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:l.name}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Process: ",c.name]}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Status: ",l.status]}),((s=l.dependencies)==null?void 0:s.length)>0&&e.jsxs("div",{className:"pt-2 border-t border-healthcare-border dark:border-healthcare-border-dark",children:[e.jsx("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Dependencies:"}),e.jsx("ul",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:l.dependencies.map((d,b)=>e.jsxs("li",{children:[" ",d]},b))})]})]})},[]);return e.jsx("div",{className:`space-y-6 ${r}`,children:a.affectedProcesses.map(l=>{const c=o===l.id,s=[{name:"Impact Start",status:"complete",time:"Now"},{name:"Resource Allocation",status:"active",time:"+15m",dependencies:["Staff Availability"]},{name:"Process Adjustment",status:l.severity>.8?"blocked":"active",time:"+30m",dependencies:["Resource Allocation"]},{name:"Stabilization",status:"pending",time:"+1h",dependencies:["Process Adjustment"]},{name:"Recovery",status:"pending",time:"+2h",dependencies:["Stabilization"]}];return e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("button",{onClick:()=>k(c?null:l.id),className:"w-full flex items-center justify-between p-4 hover:bg-healthcare-surface dark:hover:bg-healthcare-surface-dark rounded-t-lg healthcare-transition",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`rounded-full p-2 ${l.severity>.8?"bg-healthcare-critical/10 text-healthcare-critical":l.severity>.6?"bg-healthcare-warning/10 text-healthcare-warning":"bg-healthcare-info/10 text-healthcare-info"}`,children:e.jsx(P,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:l.name}),e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Impact Duration: ",l.timeImpact," minutes"]})]})]}),e.jsx(re,{className:`h-5 w-5 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark transition-transform ${c?"rotate-90":""}`})]}),c&&e.jsx("div",{className:"p-4 pt-2",children:e.jsx("div",{className:"relative",children:s.map((d,b)=>{var g;const j=m(d,l),y=n(j),h=b===s.length-1;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(_,{content:i(d,l),children:e.jsx("div",{className:`relative z-10 rounded-full p-2 ${x(j)}/10`,children:e.jsx(y,{className:`h-5 w-5 ${x(j)}`})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h5",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:d.name}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:d.time})]}),((g=d.dependencies)==null?void 0:g.length)>0&&e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mt-1",children:["Depends on: ",d.dependencies.join(", ")]})]})]}),!h&&e.jsx("div",{className:"absolute left-[23px] top-[36px] bottom-0 w-px bg-healthcare-border dark:bg-healthcare-border-dark"})]},b)})})})]},l.id)})})},ja=({metrics:a})=>{const[t,r]=p.useState("timeline"),[o,k]=p.useState(null),m=(a==null?void 0:a.cascade)||{primaryProcess:"",affectedProcesses:[]},n=p.useCallback(()=>{const s=m.affectedProcesses;if(s.length===0)return{score:0,impacts:{}};const d={critical:s.filter(j=>j.severity>.8).length,high:s.filter(j=>j.severity>.6&&j.severity<=.8).length,medium:s.filter(j=>j.severity>.4&&j.severity<=.6).length,low:s.filter(j=>j.severity<=.4).length},b=Math.round(20-(d.critical*5+d.high*3+d.medium*2+d.low*1));return{score:Math.max(0,b),impacts:d}},[m])(),i=m.affectedProcesses.filter(s=>s.severity>.7),l=[{id:"timeline",label:"Timeline"},{id:"prediction",label:"Impact Prediction"}],c=p.useCallback(s=>{k(s)},[]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(se,{title:"Cascade Impact Score",score:n.score,maxScore:20,icon:ke,colorScheme:"warning",details:[{label:"Critical Impacts",value:`${n.impacts.critical} processes`},{label:"High Impacts",value:`${n.impacts.high} processes`},{label:"Medium Impacts",value:`${n.impacts.medium} processes`},{label:"Low Impacts",value:`${n.impacts.low} processes`}]}),e.jsx(ce,{title:"Critical Process Impacts",icon:z,type:"warning",alerts:i.map(s=>({title:s.name,message:`${Math.round(s.severity*100)}% severity impact`,value:`${s.timeImpact}min delay`}))})]}),e.jsx("div",{className:"border-b border-healthcare-border dark:border-healthcare-border-dark",children:e.jsx("div",{className:"flex gap-6",children:l.map(s=>e.jsx("button",{onClick:()=>r(s.id),className:`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${t===s.id?"border-healthcare-primary text-healthcare-primary dark:border-healthcare-primary-dark dark:text-healthcare-primary-dark":"border-transparent text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark hover:text-healthcare-text-primary dark:hover:text-healthcare-text-primary-dark"}`,children:s.label},s.id))})}),e.jsxs("div",{className:"animate-fadeIn",children:[t==="timeline"&&e.jsx(va,{cascadeData:m}),t==="prediction"&&e.jsx(ba,{cascadeData:m,onScenarioChange:c})]})]})},Na=({onZoomChange:a,onRangeChange:t,onDrillDown:r,minDate:o,maxDate:k,currentRange:m={start:new Date,end:new Date}})=>{const[x,n]=p.useState(1),[i,l]=p.useState(m),c=p.useCallback(()=>{const j=Math.min(x+.25,2);n(j),a==null||a(j)},[x,a]),s=p.useCallback(()=>{const j=Math.max(x-.25,.5);n(j),a==null||a(j)},[x,a]),d=p.useCallback(()=>{const j=me(i.start),y=me(i.end);j>=o&&(l({start:j,end:y}),t==null||t({start:j,end:y}))},[i,o,t]),b=p.useCallback(()=>{const j=W(i.start,1),y=W(i.end,1);y<=k&&(l({start:j,end:y}),t==null||t({start:j,end:y}))},[i,k,t]);return p.useCallback(j=>{const y={start:j,end:W(j,1)};l(y),t==null||t(y)},[t]),e.jsxs("div",{className:"flex items-center justify-between p-4 healthcare-card",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:s,disabled:x<=.5,className:"p-2 rounded-full bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark text-healthcare-text-primary dark:text-healthcare-text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed healthcare-transition","aria-label":"Zoom out",children:e.jsx(da,{className:"h-5 w-5"})}),e.jsx("button",{onClick:c,disabled:x>=2,className:"p-2 rounded-full bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark text-healthcare-text-primary dark:text-healthcare-text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed healthcare-transition","aria-label":"Zoom in",children:e.jsx(na,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:d,disabled:i.start<=o,className:"p-2 rounded-full bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark text-healthcare-text-primary dark:text-healthcare-text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed healthcare-transition","aria-label":"Previous day",children:e.jsx(He,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:()=>r==null?void 0:r(i),className:"flex items-center gap-2 px-4 py-2 rounded-md bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark text-healthcare-text-primary dark:text-healthcare-text-primary-dark healthcare-transition",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:J(i.start,"MMM d, yyyy")})]}),e.jsx("button",{onClick:b,disabled:i.end>=k,className:"p-2 rounded-full bg-healthcare-surface hover:bg-healthcare-surface-hover dark:bg-healthcare-surface-dark dark:hover:bg-healthcare-surface-hover-dark text-healthcare-text-primary dark:text-healthcare-text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed healthcare-transition","aria-label":"Next day",children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-3 py-1 rounded-md bg-healthcare-surface dark:bg-healthcare-surface-dark text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark text-sm",children:[Math.round(x*100),"%"]})]})},wa=({data:a,minValue:t=0,maxValue:r=1,width:o=800,height:k=200,className:m=""})=>{const x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=Array.from({length:24},(c,s)=>s),i=p.useMemo(()=>c=>{const s=(c-t)/(r-t);return s>=.8?"bg-healthcare-critical/20 text-healthcare-critical":s>=.6?"bg-healthcare-warning/20 text-healthcare-warning":s>=.4?"bg-healthcare-info/20 text-healthcare-info":"bg-healthcare-success/20 text-healthcare-success"},[t,r]),l=(c,s,d)=>{const b=J(new Date().setHours(s,0,0,0),"h:mm a");return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:[c," at ",b]}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Load: ",Math.round(d*100),"%"]}),d>=.8&&e.jsx("div",{className:"text-sm text-healthcare-critical dark:text-healthcare-critical-dark font-medium",children:"Peak Volume Period"}),d<=.4&&e.jsx("div",{className:"text-sm text-healthcare-success dark:text-healthcare-success-dark font-medium",children:"Low Volume Period"})]})};return e.jsxs("div",{className:`healthcare-card ${m}`,children:[e.jsxs("div",{className:"flex items-center justify-end gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-healthcare-critical/20"}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Peak"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-healthcare-warning/20"}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"High"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-healthcare-info/20"}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Medium"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-healthcare-success/20"}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Low"})]})]}),e.jsxs("div",{className:"relative",style:{width:o,height:k},children:[e.jsx("div",{className:"absolute -left-12 top-8 bottom-0 flex flex-col justify-between text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:n.map(c=>e.jsx("div",{className:"text-right",children:J(new Date().setHours(c,0,0,0),"h a")},c))}),e.jsx("div",{className:"absolute left-0 -top-6 right-0 flex justify-between text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:x.map(c=>e.jsx("div",{className:"w-24 text-center",children:c.slice(0,3)},c))}),e.jsx("div",{className:"absolute left-0 top-8 right-0 bottom-0 grid grid-cols-7 gap-1",children:x.map(c=>e.jsx("div",{className:"grid grid-rows-24 gap-1",children:n.map(s=>{var b;const d=((b=a[c.toLowerCase()])==null?void 0:b[s])||0;return e.jsx(_,{content:l(c,s,d),position:"right",children:e.jsx("div",{className:`rounded-sm ${i(d)} transition-colors duration-200 hover:opacity-80`,role:"gridcell","aria-label":`${c} ${s}:00 - Load: ${Math.round(d*100)}%`})},s)})},c))})]})]})},Ca=({data:a,thresholds:t,onAlert:r,refreshInterval:o=6e4,className:k=""})=>{const[m,x]=p.useState([]),[n,i]=p.useState({}),[l,c]=p.useState(new Date),s=p.useCallback((y,h)=>{if(!h||!y)return null;const g=(y-h)/h*100;return{direction:g>0?"increasing":"decreasing",percentage:Math.abs(Math.round(g))}},[]),d=p.useCallback(y=>{if(!y)return[];const h=[];return Object.entries(y).forEach(([g,S])=>{if(!S)return;const u=t==null?void 0:t[g];u&&S>u.critical?h.push({step:g,value:S,threshold:u.critical,severity:"critical",message:`${g.replace(/([A-Z])/g," $1").toLowerCase()} wait time exceeds critical threshold`}):u&&S>u.warning&&h.push({step:g,value:S,threshold:u.warning,severity:"warning",message:`${g.replace(/([A-Z])/g," $1").toLowerCase()} wait time approaching critical level`})}),h},[t]);p.useEffect(()=>{if(!(a!=null&&a.current))return;const y=d(a.current);x(y);const h={};Object.entries(a.current).forEach(([g,S])=>{var u;S&&(h[g]=s(S,(u=a.previous)==null?void 0:u[g]))}),i(h),c(new Date),y.length>0&&(r==null||r(y))},[a,d,s,r]);const b=p.useCallback((y,h)=>{if(!y||!h)return"text-healthcare-text-secondary";const g=t==null?void 0:t[h];return g?y>g.critical?"text-healthcare-critical":y>g.warning?"text-healthcare-warning":"text-healthcare-success":"text-healthcare-text-secondary"},[t]),j=(y,h,g)=>!y||!h?null:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark capitalize",children:y.replace(/([A-Z])/g," $1").toLowerCase()}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Current Wait: ",h," minutes"]}),g&&e.jsxs("div",{className:`text-sm font-medium ${g.direction==="increasing"?"text-healthcare-critical":"text-healthcare-success"}`,children:[g.direction==="increasing"?"Up":"Down"," ",g.percentage,"%"]}),(t==null?void 0:t[y])&&e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Critical: ",t[y].critical," min",e.jsx("br",{}),"Warning: ",t[y].warning," min"]})]});return!(a!=null&&a.current)||Object.keys(a.current).length===0?e.jsx("div",{className:`healthcare-card ${k}`,children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Live Wait Times"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsx(P,{className:"h-4 w-4"}),"No data available"]})]})}):e.jsxs("div",{className:`healthcare-card ${k}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Live Wait Times"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsx(P,{className:"h-4 w-4"}),"Last updated: ",l.toLocaleTimeString()]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:Object.entries(a.current).map(([y,h])=>{if(!h)return null;const g=n[y],S=(g==null?void 0:g.direction)==="increasing"?G:ae;return e.jsx(_,{content:j(y,h,g),position:"top",children:e.jsxs("div",{className:"healthcare-panel",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark capitalize",children:y.replace(/([A-Z])/g," $1").toLowerCase()}),g&&e.jsxs("div",{className:`flex items-center gap-1 ${g.direction==="increasing"?"text-healthcare-critical":"text-healthcare-success"}`,children:[e.jsx(S,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-xs font-medium",children:[g.percentage,"%"]})]})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:`text-2xl font-bold ${b(h,y)}`,children:[h,e.jsx("span",{className:"text-sm font-normal ml-1",children:"min"})]}),e.jsx(O,{className:`h-5 w-5 ${b(h,y)}`})]})]})},y)})}),m.length>0&&e.jsx("div",{className:"mt-6 space-y-2",children:m.map((y,h)=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-md ${y.severity==="critical"?"bg-healthcare-critical/10 text-healthcare-critical":"bg-healthcare-warning/10 text-healthcare-warning"}`,children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:y.message})]},h))})]})},Sa=({data:a,thresholds:t,onAction:r,className:o=""})=>{const k=p.useMemo(()=>{var n;if(!(a!=null&&a.current))return[];const x=[];return Object.entries(a.current).forEach(([i,l])=>{if(!l)return;const c=t==null?void 0:t[i];c&&l>c.critical&&x.push({type:"critical",title:`Critical Wait Time in ${i.replace(/([A-Z])/g," $1").toLowerCase()}`,description:`Current wait time (${l}min) exceeds critical threshold (${c.critical}min)`,actions:[{label:"Add Staff",icon:sa,handler:()=>r==null?void 0:r("add_staff",{step:i}),severity:"critical"},{label:"Adjust Schedule",icon:qe,handler:()=>r==null?void 0:r("adjust_schedule",{step:i}),severity:"warning"}]})}),Object.entries(a.trends||{}).forEach(([i,l])=>{(l==null?void 0:l.direction)==="increasing"&&l.percentage>20&&x.push({type:"warning",title:`Rapid Increase in ${i.replace(/([A-Z])/g," $1").toLowerCase()}`,description:`Wait times have increased by ${l.percentage}% in the last hour`,actions:[{label:"View Analysis",icon:ge,handler:()=>r==null?void 0:r("view_analysis",{step:i}),severity:"info"}]})}),((n=a.staffing)==null?void 0:n.utilization)>.9&&x.push({type:"suggestion",title:"High Staff Utilization",description:"Staff utilization is above 90%. Consider adjusting resources.",actions:[{label:"Optimize Resources",icon:F,handler:()=>r==null?void 0:r("optimize_resources"),severity:"warning"}]}),x},[a,t,r]),m=x=>{switch(x){case"critical":return"bg-healthcare-critical text-white hover:bg-healthcare-critical/90";case"warning":return"bg-healthcare-warning text-white hover:bg-healthcare-warning/90";case"info":return"bg-healthcare-info text-white hover:bg-healthcare-info/90";default:return"bg-healthcare-primary text-white hover:bg-healthcare-primary/90"}};return k.length===0?e.jsx("div",{className:`healthcare-card ${o}`,children:e.jsxs("div",{className:"flex items-center gap-3 text-healthcare-success",children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"All wait times are within normal ranges"})]})}):e.jsxs("div",{className:`healthcare-card space-y-6 ${o}`,children:[e.jsxs("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5 text-healthcare-warning"}),"Insights & Recommendations"]}),e.jsx("div",{className:"space-y-4",children:k.map((x,n)=>e.jsxs("div",{className:`p-4 rounded-lg ${x.type==="critical"?"bg-healthcare-critical/10":x.type==="warning"?"bg-healthcare-warning/10":"bg-healthcare-info/10"}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:`rounded-full p-2 ${x.type==="critical"?"bg-healthcare-critical/20 text-healthcare-critical":x.type==="warning"?"bg-healthcare-warning/20 text-healthcare-warning":"bg-healthcare-info/20 text-healthcare-info"}`,children:x.type==="critical"?e.jsx(z,{className:"h-5 w-5"}):x.type==="warning"?e.jsx(P,{className:"h-5 w-5"}):e.jsx(Q,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-1",children:x.title}),e.jsx("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:x.description})]})]}),e.jsx("div",{className:"flex gap-2 mt-4",children:x.actions.map((i,l)=>{const c=i.icon;return e.jsx(_,{content:e.jsxs("div",{className:"text-sm",children:["Click to ",i.label.toLowerCase()]}),position:"top",children:e.jsxs("button",{onClick:i.handler,className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m(i.severity)}`,children:[e.jsx(c,{className:"h-4 w-4"}),i.label]})},l)})})]},n))}),k.length>0&&e.jsx("div",{className:"pt-4 border-t border-healthcare-border dark:border-healthcare-border-dark",children:e.jsxs("button",{onClick:()=>r==null?void 0:r("view_all_insights"),className:"flex items-center gap-2 text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark hover:text-healthcare-text-primary dark:hover:text-healthcare-text-primary-dark transition-colors",children:["View All Insights",e.jsx(re,{className:"h-4 w-4"})]})})]})},Ma=({data:a,benchmarks:t,historicalData:r,targets:o,className:k=""})=>{const[m,x]=p.useState("wait_time"),[n,i]=p.useState("week"),l=[{id:"wait_time",label:"Wait Time"},{id:"throughput",label:"Throughput"},{id:"utilization",label:"Utilization"}],c=[{id:"day",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"quarter",label:"This Quarter"}],s=p.useCallback(()=>a!=null&&a.current?Object.entries(a.current).map(([h,g])=>({step:h.replace(/([A-Z])/g," $1").toLowerCase(),current:g||0,benchmark:(t==null?void 0:t[h])||0,target:(o==null?void 0:o[h])||0,variance:t!=null&&t[h]?Math.round(((g||0)-t[h])/t[h]*100):0})):[],[a,t,o]),d=p.useCallback(()=>(r||[]).map(h=>{var g;return{...h,step:(g=h.step)==null?void 0:g.replace(/([A-Z])/g," $1").toLowerCase(),benchmark:(t==null?void 0:t[h.step])||0,target:(o==null?void 0:o[h.step])||0}}),[r,t,o]),b=s(),j=d(),y=h=>h>20?"text-healthcare-critical":h>10?"text-healthcare-warning":h<-10?"text-healthcare-success":"text-healthcare-text-secondary";return!(a!=null&&a.current)||Object.keys(a.current).length===0?e.jsxs("div",{className:`healthcare-card ${k}`,children:[e.jsxs("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4 flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-healthcare-primary"}),"Performance vs Benchmarks"]}),e.jsx("div",{className:"text-healthcare-text-secondary",children:"No comparison data available"})]}):e.jsxs("div",{className:`space-y-6 ${k}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:l.map(h=>e.jsx("button",{onClick:()=>x(h.id),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${m===h.id?"bg-healthcare-primary text-white":"text-healthcare-text-secondary hover:text-healthcare-text-primary"}`,children:h.label},h.id))}),e.jsx("div",{className:"flex items-center gap-2",children:c.map(h=>e.jsx("button",{onClick:()=>i(h.id),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n===h.id?"bg-healthcare-surface-hover dark:bg-healthcare-surface-hover-dark text-healthcare-text-primary":"text-healthcare-text-secondary hover:text-healthcare-text-primary"}`,children:h.label},h.id))})]}),e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4 flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-healthcare-primary"}),"Performance vs Benchmarks"]}),e.jsx("div",{className:"grid grid-cols-3 gap-6 mb-6",children:b.map(h=>e.jsxs("div",{className:"healthcare-panel",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark capitalize",children:h.step}),e.jsxs("div",{className:`flex items-center gap-1 ${y(h.variance)}`,children:[h.variance>0?e.jsx(ge,{className:"h-4 w-4"}):e.jsx(Re,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(Math.round(h.variance)),"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-healthcare-text-secondary",children:"Current"}),e.jsxs("span",{className:"font-medium text-healthcare-text-primary",children:[h.current,"min"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-healthcare-text-secondary",children:"Benchmark"}),e.jsxs("span",{className:"font-medium text-healthcare-info",children:[h.benchmark,"min"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-healthcare-text-secondary",children:"Target"}),e.jsxs("span",{className:"font-medium text-healthcare-success",children:[h.target,"min"]})]})]})]},h.step))}),e.jsx(E,{title:"Performance Trends",height:"64",yAxisLabel:"Minutes",xAxisDataKey:"timestamp",children:e.jsxs(te,{data:j,children:[e.jsx(B,{type:"monotone",dataKey:"value",name:"Current",stroke:"var(--healthcare-primary)",strokeWidth:2}),e.jsx(B,{type:"monotone",dataKey:"benchmark",name:"Benchmark",stroke:"var(--healthcare-info)",strokeWidth:2,strokeDasharray:"5 5"}),e.jsx(B,{type:"monotone",dataKey:"target",name:"Target",stroke:"var(--healthcare-success)",strokeWidth:2,strokeDasharray:"3 3"})]})})]}),e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 text-healthcare-warning"}),"Target Progress"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:b.map(h=>{const g=h.target?Math.min(100,h.target/h.current*100):0;return e.jsxs("div",{className:"healthcare-panel",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark capitalize",children:h.step}),e.jsxs("span",{className:"text-sm font-medium text-healthcare-text-secondary",children:[Math.round(g),"% of target"]})]}),e.jsx("div",{className:"h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all bg-healthcare-warning",style:{width:`${g}%`}})})]},h.step)})}),e.jsx(E,{title:"Target vs Actual",height:"64",yAxisLabel:"Minutes",xAxisDataKey:"step",children:e.jsxs(X,{data:b,children:[e.jsx(I,{dataKey:"current",name:"Current",fill:"var(--healthcare-warning)"}),e.jsx(I,{dataKey:"target",name:"Target",fill:"var(--healthcare-success)"})]})})]})]})]})},$a=({metrics:a})=>{var h,g,S,u,v;const[t,r]=p.useState(new Date),[o,k]=p.useState(1),m={current:((h=a==null?void 0:a.waitTime)==null?void 0:h.current)||{},benchmark:((g=a==null?void 0:a.waitTime)==null?void 0:g.benchmark)||{},peakMultipliers:((S=a==null?void 0:a.waitTime)==null?void 0:S.peakMultipliers)||{},thresholds:{registration:{warning:15,critical:20},triage:{warning:20,critical:30},bedAssignment:{warning:30,critical:45},physicianInitial:{warning:35,critical:45},nurseAssessment:{warning:25,critical:35}},previous:((u=a==null?void 0:a.waitTime)==null?void 0:u.current)||{},trends:{},staffing:(a==null?void 0:a.staffing)||{utilization:0,nurses:{assigned:0,required:0},physicians:{assigned:0,required:0}},historical:[],targets:((v=a==null?void 0:a.waitTime)==null?void 0:v.benchmark)||{}};Object.entries(m.current).forEach(([f,N])=>{const C=m.previous[f]||N,$=(N-C)/C*100;m.trends[f]={direction:$>0?"increasing":$<0?"decreasing":"steady",percentage:Math.abs(Math.round($))}});const x=(a==null?void 0:a.predictions)||{patternAnalysis:{peakHours:[],quietHours:[],weeklyPatterns:{}}},n=p.useCallback(()=>{const f=Object.keys(m.current);if(f.length===0)return{score:0,deviations:{}};const N={};let C=0;f.forEach(M=>{const A=m.current[M],L=m.benchmark[M];if(A&&L){const D=(A-L)/L;N[M]=D,C+=D}});const $=C/Object.keys(N).length,w=Math.round((1-$)*25);return{score:Math.max(0,Math.min(w,25)),deviations:N}},[m]),i=p.useCallback(()=>Object.entries(m.current).map(([f,N])=>({step:f,current:N,benchmark:m.benchmark[f]||0,deviation:m.benchmark[f]?Math.round((N-m.benchmark[f])/m.benchmark[f]*100):0})),[m]),l=p.useCallback(f=>{r(f.start)},[]),c=p.useCallback(f=>{k(f)},[]),s=p.useCallback((f,N)=>{console.log("Action:",f,N)},[]),d=p.useCallback(f=>{console.log("New Alerts:",f)},[]),b=n(),y=i().filter(f=>f.deviation>50);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(se,{title:"Wait Time Score",score:b.score,maxScore:25,icon:P,colorScheme:"info",details:Object.entries(b.deviations).map(([f,N])=>({label:f.replace(/([A-Z])/g," $1").toLowerCase(),value:`${Math.round(N*100)}% deviation`}))}),e.jsx(ce,{title:"Critical Delays",icon:z,type:"warning",alerts:y.map(f=>({title:f.step.replace(/([A-Z])/g," $1").toLowerCase(),message:`${f.current} min vs ${f.benchmark} min benchmark`,value:`+${f.deviation}%`}))})]}),e.jsx(Na,{onZoomChange:c,onRangeChange:l,minDate:new Date(Date.now()-30*24*60*60*1e3),maxDate:new Date,currentRange:{start:t,end:t}}),e.jsx(Ca,{data:{current:m.current,previous:m.previous,trends:m.trends},thresholds:m.thresholds,onAlert:d}),e.jsx(wa,{data:x.patternAnalysis.weeklyPatterns,minValue:0,maxValue:1}),e.jsx(Sa,{data:{current:m.current,trends:m.trends,staffing:m.staffing},thresholds:m.thresholds,onAction:s}),e.jsx(Ma,{data:m,benchmarks:m.benchmark,historicalData:m.historical,targets:m.targets})]})},Aa=({metrics:a})=>{const t=(a==null?void 0:a.acuity)||{patientVolume:{count:0,totalDailyPatients:0,acuityBreakdown:{high:0,medium:0,low:0}},expectedAcuityMix:{high:.25,medium:.5,low:.25}},r={high:1,medium:.6,low:.2},o=()=>{const c=t.patientVolume.count;if(c===0)return{score:0,percentages:{high:0,medium:0,low:0}};const s={high:t.patientVolume.acuityBreakdown.high/c,medium:t.patientVolume.acuityBreakdown.medium/c,low:t.patientVolume.acuityBreakdown.low/c},d=s.high*r.high+s.medium*r.medium+s.low*r.low;return{score:Math.round(d*15),percentages:s}},k=()=>{const{percentages:c}=o();return[{category:"High Acuity",actual:Math.round(c.high*100),expected:Math.round(t.expectedAcuityMix.high*100),weight:r.high},{category:"Medium Acuity",actual:Math.round(c.medium*100),expected:Math.round(t.expectedAcuityMix.medium*100),weight:r.medium},{category:"Low Acuity",actual:Math.round(c.low*100),expected:Math.round(t.expectedAcuityMix.low*100),weight:r.low}]},m=()=>{const{percentages:c}=o(),s=[];return Object.entries(c).forEach(([d,b])=>{const j=t.expectedAcuityMix[d],y=(b-j)*100;Math.abs(y)>10&&s.push({level:d,diff:y})}),s},x=o(),n=k(),i=m(),l=({active:c,payload:s,label:d})=>{if(!c||!s||!s.length)return null;const b=s[0].payload;return e.jsxs("div",{className:"healthcare-panel border border-healthcare-border dark:border-healthcare-border-dark",children:[e.jsx("p",{className:"font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:d}),e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Actual: ",b.actual,"%"]}),e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Expected: ",b.expected,"%"]}),e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Weight: ",b.weight.toFixed(1)]})]})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(se,{title:"Acuity Mix Score",score:x.score,maxScore:15,icon:O,colorScheme:"primary",details:[{label:"Total Patients",value:t.patientVolume.count},{label:"High Acuity",value:`${t.patientVolume.acuityBreakdown.high} patients`},{label:"Medium Acuity",value:`${t.patientVolume.acuityBreakdown.medium} patients`},{label:"Low Acuity",value:`${t.patientVolume.acuityBreakdown.low} patients`}]}),e.jsx(ce,{title:"Distribution Alerts",icon:z,type:"warning",alerts:i.map(({level:c,diff:s})=>({title:`${c} Acuity`,message:s>0?`${Math.abs(s.toFixed(1))}% above expected - higher resource demand`:`${Math.abs(s.toFixed(1))}% below expected - lower resource demand`}))})]}),e.jsx(E,{title:"Acuity Distribution Comparison",height:"64",yAxisLabel:"Percentage of Patients",xAxisDataKey:"category",tooltipContent:l,children:e.jsxs(X,{data:n,children:[e.jsx(I,{dataKey:"actual",name:"Actual %",fill:"var(--healthcare-primary)"}),e.jsx(I,{dataKey:"expected",name:"Expected %",fill:"var(--healthcare-success)"})]})}),e.jsxs("div",{className:"healthcare-card",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Distribution Analysis"}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:n.map(c=>{const s=c.actual-c.expected;return e.jsxs("div",{className:"healthcare-panel",children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-2",children:c.category}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Actual: ",c.actual,"%"]}),e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Expected: ",c.expected,"%"]}),e.jsxs("p",{className:`font-medium ${s>0?"text-healthcare-critical dark:text-healthcare-critical-dark":"text-healthcare-success dark:text-healthcare-success-dark"}`,children:[s>0?"+":"",s,"% deviation"]})]})]},c.category)})})]})]})},Ta=({message:a,onRetry:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[e.jsx("div",{className:"rounded-full bg-healthcare-critical/10 p-4",children:e.jsx(Ye,{className:"h-8 w-8 text-healthcare-critical dark:text-healthcare-critical-dark"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-2",children:"Unable to Load Data"}),e.jsx("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mb-4",children:a||"An error occurred while loading the data. Please try again."}),e.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-healthcare-primary dark:bg-healthcare-primary-dark text-white hover:bg-healthcare-primary-hover dark:hover:bg-healthcare-primary-hover-dark healthcare-transition",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Retry"]})]})]}),La=({action:a})=>{const[t,r]=p.useState({isLoading:!0,error:null,impactData:[],timelineData:[],relatedActions:[]}),o=()=>a.type==="risk"?[{name:"Staff Impact",value:a.severity*.8},{name:"Patient Flow",value:a.severity*.9},{name:"Resource Usage",value:a.severity*.7},{name:"Quality of Care",value:a.severity*.85}]:[{name:"Efficiency Gain",value:a.severity*.9},{name:"Cost Reduction",value:a.severity*.7},{name:"Staff Satisfaction",value:a.severity*.8},{name:"Patient Experience",value:a.severity*.85}],k=()=>[{phase:"Identification",status:"complete",time:"2 hours ago"},{phase:"Analysis",status:"complete",time:"1 hour ago"},{phase:"Planning",status:"active",time:"In Progress"},{phase:"Implementation",status:"pending",time:"Not Started"},{phase:"Review",status:"pending",time:"Not Started"}],m=()=>[{title:"Update Staffing Schedule",impact:65,timeframe:"Next Shift"},{title:"Reallocate Resources",impact:55,timeframe:"Today"},{title:"Adjust Process Flow",impact:45,timeframe:"This Week"}],x=p.useCallback(async()=>{r(n=>({...n,isLoading:!0,error:null}));try{await new Promise((n,i)=>{setTimeout(()=>{Math.random()<.1&&i(new Error("Failed to fetch action details")),n()},1e3)}),r(n=>({...n,isLoading:!1,impactData:o(),timelineData:k(),relatedActions:m()}))}catch(n){r(i=>({...i,isLoading:!1,error:n.message}))}},[a]);return p.useEffect(()=>{x()},[x]),t.isLoading?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(be,{size:"lg"})}):t.error?e.jsx(Ta,{message:t.error,onRetry:x}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`rounded-full p-3 ${a.type==="risk"?"bg-healthcare-critical/10 text-healthcare-critical dark:text-healthcare-critical-dark":"bg-healthcare-warning/10 text-healthcare-warning dark:text-healthcare-warning-dark"}`,children:a.type==="risk"?e.jsx(z,{className:"h-6 w-6"}):e.jsx(O,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:a.title}),e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[a.type==="risk"?"Risk Probability":"Expected Impact",": ",a.severity,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"}),e.jsx("span",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:a.timeframe})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 animate-fadeIn",children:[e.jsxs("div",{className:"healthcare-card animate-slideIn",children:[e.jsx("h4",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Impact Analysis"}),e.jsx("div",{className:"space-y-4",children:t.impactData.map((n,i)=>e.jsxs("div",{className:"healthcare-panel",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:n.name}),e.jsxs("span",{className:`font-medium ${n.value>=80?"text-healthcare-critical dark:text-healthcare-critical-dark":n.value>=60?"text-healthcare-warning dark:text-healthcare-warning-dark":"text-healthcare-success dark:text-healthcare-success-dark"}`,children:[Math.round(n.value),"%"]})]}),e.jsx("div",{className:"h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${n.value>=80?"bg-healthcare-critical dark:bg-healthcare-critical-dark":n.value>=60?"bg-healthcare-warning dark:bg-healthcare-warning-dark":"bg-healthcare-success dark:bg-healthcare-success-dark"}`,style:{width:`${n.value}%`}})})]},i))})]}),e.jsxs("div",{className:"healthcare-card animate-slideIn",style:{animationDelay:"100ms"},children:[e.jsx("h4",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Action Timeline"}),e.jsx("div",{className:"space-y-4",children:t.timelineData.map((n,i)=>e.jsxs("div",{className:"healthcare-panel flex items-center gap-4",children:[e.jsx("div",{className:`rounded-full w-3 h-3 ${n.status==="complete"?"bg-healthcare-success dark:bg-healthcare-success-dark":n.status==="active"?"bg-healthcare-warning dark:bg-healthcare-warning-dark":"bg-healthcare-border dark:bg-healthcare-border-dark"}`}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:n.phase}),e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:n.time})]})})]},i))})]})]}),e.jsxs("div",{className:"healthcare-card",children:[e.jsx("h4",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Related Actions"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.relatedActions.map((n,i)=>e.jsxs("div",{className:"healthcare-panel flex items-center justify-between hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark cursor-pointer healthcare-transition",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:n.title}),e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Impact: ",n.impact,"%"]}),e.jsx("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:n.timeframe})]}),e.jsx(re,{className:"h-5 w-5 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"})]},i))})]})]})},Da=(a,t)=>{p.useEffect(()=>{const r=o=>{!a.current||a.current.contains(o.target)||t(o)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[a,t])},za=(a,t)=>{const[r,o]=p.useState(!1),[k,m]=p.useState(!1);return p.useEffect(()=>{if(a)m(!0),requestAnimationFrame(()=>{o(!0)});else{o(!1);const n=setTimeout(()=>{m(!1)},200);return()=>clearTimeout(n)}},[a]),{isAnimating:r,shouldRender:k,handleClose:()=>{o(!1),setTimeout(t,200)}}},Pa=({isOpen:a,onClose:t,action:r})=>{const o=p.useRef(null),k=p.useRef(null),{isAnimating:m,shouldRender:x,handleClose:n}=za(a,t);Da(o,n);const i=p.useCallback(()=>{k.current&&k.current.focus()},[]);return p.useEffect(()=>{let l=document.activeElement;if(a){i();const c=s=>{if(s.key==="Escape"&&t(),s.key==="Tab"){const d=o.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),b=d[0],j=d[d.length-1];s.shiftKey&&document.activeElement===b?(s.preventDefault(),j.focus()):!s.shiftKey&&document.activeElement===j&&(s.preventDefault(),b.focus())}};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c),l&&l.focus()}}},[a,t]),x?e.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-overlay ${m?"enter":""}`,children:e.jsxs("div",{ref:o,className:`bg-white dark:bg-healthcare-background-dark rounded-lg shadow-xl w-full max-w-5xl mx-4 max-h-[90vh] overflow-hidden flex flex-col modal-content ${m?"enter":""}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-healthcare-border dark:border-healthcare-border-dark bg-healthcare-surface dark:bg-healthcare-surface-dark",children:[e.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Action Details"}),e.jsx("button",{ref:k,onClick:n,className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark hover:text-healthcare-primary dark:hover:text-healthcare-primary-dark p-2 rounded-full hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark healthcare-transition","aria-label":"Close modal",children:e.jsx(ee,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-healthcare-surface dark:bg-healthcare-surface-dark",children:e.jsx(La,{action:r})})]})}):null},Ra=({metrics:a})=>{const t=(a==null?void 0:a.predictions)||{resourceUtilization:{nextHour:{},nextShift:{},nextDay:{}},patternAnalysis:{peakHours:[],quietHours:[],weeklyPatterns:{}},correlations:{resourceImpact:[],bottleneckTriggers:[]},optimizationSuggestions:{staffing:[],resources:[],workflow:[]}},r=()=>{const u={resource:o(),cascade:k(),waitTime:m(),acuity:x()};return{totalScore:Object.values(u).reduce((v,f)=>v+f,0),maxScore:80,componentScores:u}},o=()=>{const u=(a==null?void 0:a.staffing)||{},v=(a==null?void 0:a.space)||{},f=Object.values(u).reduce((C,$)=>C+$.assigned/$.required,0)/Object.keys(u).length,N=Object.values(v).reduce((C,$)=>C+$.occupied/$.capacity,0)/Object.keys(v).length;return Math.round((1-(f+N)/2)*20)},k=()=>{var f;const u=((f=a==null?void 0:a.cascade)==null?void 0:f.affectedProcesses)||[];if(u.length===0)return 0;const v=u.reduce((N,C)=>N+C.severity,0)/u.length;return Math.round((1-v)*20)},m=()=>{const u=(a==null?void 0:a.waitTime)||{current:{},benchmark:{}},v=Object.keys(u.current);if(v.length===0)return 0;const f=v.reduce((N,C)=>{const $=u.current[C],w=u.benchmark[C];return N+($-w)/w},0)/v.length;return Math.round((1-f)*25)},x=()=>{const u=(a==null?void 0:a.acuity)||{patientVolume:{count:0,acuityBreakdown:{}}};if(u.patientVolume.count===0)return 0;const v={high:1,medium:.6,low:.2},f=u.patientVolume.count,N=Object.entries(u.patientVolume.acuityBreakdown).reduce((C,[$,w])=>C+w/f*v[$],0);return Math.round(N*15)},n=()=>{var $,w,M,A,L,D;const{nextHour:u,nextShift:v,nextDay:f}=t.resourceUtilization,N=(a==null?void 0:a.staffing)||{},C=(a==null?void 0:a.space)||{};return[{name:"Current",nurses:{assigned:(($=N.nurses)==null?void 0:$.assigned)||0,required:((w=N.nurses)==null?void 0:w.required)||0},physicians:{assigned:((M=N.physicians)==null?void 0:M.assigned)||0,required:((A=N.physicians)==null?void 0:A.required)||0},rooms:{occupied:((L=C.rooms)==null?void 0:L.occupied)||0,capacity:((D=C.rooms)==null?void 0:D.capacity)||0}},{name:"Next Hour",...u},{name:"Next Shift",...v},{name:"Next Day",...f}].map(R=>{var U,H,V,ie,le,ne;return{period:R.name,nurses:Math.round((((U=R.nurses)==null?void 0:U.assigned)/((H=R.nurses)==null?void 0:H.required)||0)*100),physicians:Math.round((((V=R.physicians)==null?void 0:V.assigned)/((ie=R.physicians)==null?void 0:ie.required)||0)*100),rooms:Math.round((((le=R.rooms)==null?void 0:le.occupied)/((ne=R.rooms)==null?void 0:ne.capacity)||0)*100),threshold:80,critical:90}})},i=()=>{const u=[];return t.correlations.bottleneckTriggers.filter(v=>v.probability>.7).forEach(v=>{u.push({type:"risk",title:v.trigger.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" "),severity:Math.round(v.probability*100),impact:"High",timeframe:"Immediate"})}),t.optimizationSuggestions.staffing.concat(t.optimizationSuggestions.resources).concat(t.optimizationSuggestions.workflow).filter(v=>v.urgency==="high"&&v.impact>.7).forEach(v=>{u.push({type:"action",title:v.action.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" "),severity:Math.round(v.impact*100),impact:"High",timeframe:"Next 24 hours"})}),u.sort((v,f)=>f.severity-v.severity)},l=r(),c=i(),s=n(),b=((u,v)=>u>=v?{icon:G,color:"text-healthcare-success dark:text-healthcare-success-dark",label:"Improving"}:{icon:ae,color:"text-healthcare-critical dark:text-healthcare-critical-dark",label:"Declining"})(l.totalScore,60),[j,y]=p.useState(null),[h,g]=p.useState(!1),S=u=>{y(u),g(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Pa,{isOpen:h,onClose:()=>g(!1),action:j}),e.jsx("div",{className:"healthcare-card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full p-4",children:e.jsx(q,{className:"h-8 w-8 text-healthcare-primary dark:text-healthcare-primary-dark"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Process Health Score"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-4xl font-bold text-healthcare-primary dark:text-healthcare-primary-dark",children:l.totalScore}),e.jsxs("span",{className:"text-xl text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["/ ",l.maxScore]}),e.jsxs("div",{className:`flex items-center gap-1 ml-4 ${b.color}`,children:[e.jsx(b.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:b.label})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:Object.entries(l.componentScores).map(([u,v])=>{const f=u==="waitTime"?25:u==="acuity"?15:20,N=v/f*100;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mb-1",children:u.charAt(0).toUpperCase()+u.slice(1)}),e.jsxs("div",{className:`text-lg font-bold ${N>=70?"text-healthcare-success dark:text-healthcare-success-dark":N>=50?"text-healthcare-warning dark:text-healthcare-warning-dark":"text-healthcare-critical dark:text-healthcare-critical-dark"}`,children:[v,"/",f]})]},u)})})]})}),e.jsxs("div",{className:"healthcare-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark flex items-center gap-2",children:[e.jsx(Z,{className:"h-6 w-6 text-healthcare-critical dark:text-healthcare-critical-dark"}),"Critical Actions Required"]}),e.jsxs("span",{className:"text-sm font-medium text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[c.length," items need attention"]})]}),e.jsx("div",{className:"space-y-4",children:c.map((u,v)=>e.jsxs("div",{className:"healthcare-panel flex items-center justify-between hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark cursor-pointer healthcare-transition",onClick:()=>S(u),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`rounded-full p-2 ${u.type==="risk"?"bg-healthcare-critical/10 text-healthcare-critical dark:text-healthcare-critical-dark":"bg-healthcare-warning/10 text-healthcare-warning dark:text-healthcare-warning-dark"}`,children:u.type==="risk"?e.jsx(z,{className:"h-5 w-5"}):e.jsx(O,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:u.title}),e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[u.type==="risk"?"Risk Probability":"Expected Impact",": ",u.severity,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:u.timeframe}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[u.impact," Impact"]})]}),e.jsx(ye,{className:"h-5 w-5 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"})]})]},v))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(E,{title:"Resource Utilization Forecast",height:"64",yAxisLabel:"Utilization %",xAxisDataKey:"period",tooltipContent:({active:u,payload:v,label:f})=>!u||!v||!v.length?null:e.jsxs("div",{className:"healthcare-panel border border-healthcare-border dark:border-healthcare-border-dark",children:[e.jsx("p",{className:"font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:f}),v.map((N,C)=>e.jsxs("p",{className:`text-sm ${N.value>=N.payload.critical?"text-healthcare-critical dark:text-healthcare-critical-dark":N.value>=N.payload.threshold?"text-healthcare-warning dark:text-healthcare-warning-dark":"text-healthcare-success dark:text-healthcare-success-dark"}`,children:[N.name,": ",N.value,"%"]},C))]}),children:e.jsxs(X,{data:s,children:[e.jsx(I,{dataKey:"nurses",name:"Nurses",fill:u=>u.nurses>=u.critical?"var(--healthcare-critical)":u.nurses>=u.threshold?"var(--healthcare-warning)":"var(--healthcare-primary)"}),e.jsx(I,{dataKey:"physicians",name:"Physicians",fill:u=>u.physicians>=u.critical?"var(--healthcare-critical)":u.physicians>=u.threshold?"var(--healthcare-warning)":"var(--healthcare-success)"}),e.jsx(I,{dataKey:"rooms",name:"Rooms",fill:u=>u.rooms>=u.critical?"var(--healthcare-critical)":(u.rooms>=u.threshold,"var(--healthcare-warning)")})]})}),e.jsxs("div",{className:"healthcare-card",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Resource Impact Analysis"}),e.jsx("div",{className:"space-y-4",children:Object.entries(t.resourceUtilization.nextHour).map(([u,v])=>{const f=Math.round(v.assigned/v.required*100);return e.jsxs("div",{className:"healthcare-panel",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark capitalize",children:u}),e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[v.assigned," / ",v.required," assigned"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${f>=90?"text-healthcare-critical dark:text-healthcare-critical-dark":f>=75?"text-healthcare-warning dark:text-healthcare-warning-dark":"text-healthcare-success dark:text-healthcare-success-dark"}`,children:[f,"%"]}),e.jsx("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Utilization"})]})]}),e.jsx("div",{className:"mt-2 h-2 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${f>=90?"bg-healthcare-critical dark:bg-healthcare-critical-dark":f>=75?"bg-healthcare-warning dark:bg-healthcare-warning-dark":"bg-healthcare-success dark:bg-healthcare-success-dark"}`,style:{width:`${f}%`}})})]},u)})})]})]}),e.jsxs("div",{className:"healthcare-card",children:[e.jsx("h3",{className:"font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-4",children:"Optimization Recommendations"}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:["staffing","resources","workflow"].map(u=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark capitalize",children:[u," Optimizations"]}),e.jsx("div",{className:"space-y-2",children:t.optimizationSuggestions[u].map((v,f)=>e.jsx("div",{className:"healthcare-panel",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:v.action.split("_").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" ")}),e.jsxs("p",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Impact: ",Math.round(v.impact*100),"%"]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${v.urgency==="high"?"bg-healthcare-critical/10 text-healthcare-critical dark:text-healthcare-critical-dark":"bg-healthcare-warning/10 text-healthcare-warning dark:text-healthcare-warning-dark"}`,children:v.urgency.toUpperCase()})]})},f))})]},u))})]})]})},tt=({isOpen:a,onClose:t,metrics:r})=>{const[o,k]=p.useState("summary");if(!a)return null;const m=[{id:"summary",label:"Top Bottlenecks",icon:q},{id:"resource",label:"Resource Stress",icon:O},{id:"cascade",label:"Cascade Impact",icon:ke},{id:"wait",label:"Wait Time",icon:P},{id:"acuity",label:"Acuity Mix",icon:z}],x=()=>{switch(o){case"resource":return e.jsx(ka,{metrics:r});case"cascade":return e.jsx(ja,{metrics:r});case"wait":return e.jsx($a,{metrics:r});case"acuity":return e.jsx(Aa,{metrics:r});case"summary":return e.jsx(Ra,{metrics:r});default:return null}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-healthcare-background-dark rounded-lg shadow-xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-healthcare-border dark:border-healthcare-border-dark bg-healthcare-surface dark:bg-healthcare-surface-dark",children:[e.jsxs("h2",{className:"text-xl font-bold text-healthcare-text-primary dark:text-healthcare-text-primary-dark flex items-center gap-2",children:[e.jsx(q,{className:"h-6 w-6"}),"Process Intelligence"]}),e.jsx("button",{onClick:t,className:"text-healthcare-text-primary dark:text-healthcare-text-primary-dark hover:text-healthcare-primary dark:hover:text-healthcare-primary-dark p-2 rounded-full hover:bg-healthcare-surface-hover dark:hover:bg-healthcare-surface-hover-dark healthcare-transition",children:e.jsx(ee,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"border-b border-healthcare-border dark:border-healthcare-border-dark bg-healthcare-surface dark:bg-healthcare-surface-dark",children:e.jsx("div",{className:"px-6 flex space-x-2",children:m.map(n=>e.jsxs("button",{className:`min-h-[44px] px-4 font-medium flex items-center gap-2 border-b-2 healthcare-transition ${o===n.id?"text-healthcare-primary dark:text-healthcare-primary-dark border-healthcare-primary dark:border-healthcare-primary-dark":"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark border-transparent hover:text-healthcare-primary dark:hover:text-healthcare-primary-dark hover:border-healthcare-primary dark:hover:border-healthcare-primary-dark"}`,onClick:()=>k(n.id),children:[e.jsx(n.icon,{className:"h-4 w-4"}),n.label]},n.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-healthcare-surface dark:bg-healthcare-surface-dark",children:x()})]})})};export{tt as P,ta as S};
