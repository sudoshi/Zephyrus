import{R as d,j as e,S as v}from"./app-DNCPaP7U.js";import{D,a as b,b as g,c as y,d as N,e as C}from"./dialog-BwET-Jtl.js";import{B as x}from"./button-Bt6djNs2.js";import{I as p}from"./input-QCWzT-kU.js";import{T as m}from"./textarea-DEN-g5ox.js";import{L as i}from"./label-BOqwU0X1.js";import"./utils-9LinqH4U.js";import"./clsx-B-dksMZM.js";import"./x-DW-vgWTY.js";import"./createLucideIcon-Ce72M_cX.js";function R({isOpen:u,onClose:l}){const[r,c]=d.useState({title:"",objective:"",dueDate:"",metrics:"",expectedOutcome:""}),[n,o]=d.useState(!1),[t,h]=d.useState({}),j=s=>{s.preventDefault(),o(!0),v.post("/improvement/pdsa",r,{onSuccess:()=>{c({title:"",objective:"",dueDate:"",metrics:"",expectedOutcome:""}),o(!1),l()},onError:a=>{h(a),o(!1)}})};return e.jsx(D,{open:u,onOpenChange:l,children:e.jsxs(b,{className:"sm:max-w-[600px]",children:[e.jsxs(g,{children:[e.jsx(y,{children:"Create New PDSA Cycle"}),e.jsx(N,{children:"Start a new Plan-Do-Study-Act improvement cycle. Fill in the initial details below."})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Title"}),e.jsx(p,{id:"title",value:r.title,onChange:s=>c(a=>({...a,title:s.target.value})),placeholder:"Enter a descriptive title",error:t.title}),t.title&&e.jsx("p",{className:"text-sm text-red-500",children:t.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"objective",children:"Objective"}),e.jsx(m,{id:"objective",value:r.objective,onChange:s=>c(a=>({...a,objective:s.target.value})),placeholder:"What do you want to accomplish?",rows:3,error:t.objective}),t.objective&&e.jsx("p",{className:"text-sm text-red-500",children:t.objective})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"dueDate",children:"Target Completion Date"}),e.jsx(p,{id:"dueDate",type:"date",value:r.dueDate,onChange:s=>c(a=>({...a,dueDate:s.target.value})),error:t.dueDate}),t.dueDate&&e.jsx("p",{className:"text-sm text-red-500",children:t.dueDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"metrics",children:"Key Metrics"}),e.jsx(m,{id:"metrics",value:r.metrics,onChange:s=>c(a=>({...a,metrics:s.target.value})),placeholder:"List the metrics you will track (one per line)",rows:3,error:t.metrics}),t.metrics&&e.jsx("p",{className:"text-sm text-red-500",children:t.metrics})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"expectedOutcome",children:"Expected Outcome"}),e.jsx(m,{id:"expectedOutcome",value:r.expectedOutcome,onChange:s=>c(a=>({...a,expectedOutcome:s.target.value})),placeholder:"What results do you expect to achieve?",rows:3,error:t.expectedOutcome}),t.expectedOutcome&&e.jsx("p",{className:"text-sm text-red-500",children:t.expectedOutcome})]}),e.jsxs(C,{className:"mt-6",children:[e.jsx(x,{type:"button",variant:"outline",onClick:l,disabled:n,children:"Cancel"}),e.jsx(x,{type:"submit",disabled:n,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Create PDSA Cycle"})]})]})]})})}export{R as default};
