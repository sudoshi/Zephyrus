import{r as i,j as e,L as f,$ as v}from"./app-DNCPaP7U.js";import{A as C}from"./AuthenticatedLayout-bVzRFQ8r.js";import{c as D,C as k,a as S,b as P}from"./Card-BZBUa5Cc.js";import{B as o}from"./button-Bt6djNs2.js";import{P as L}from"./progress-D-tDM6_c.js";import{I}from"./input-QCWzT-kU.js";import{I as r}from"./iconify-CuDxMG-b.js";import A from"./CareIssuesModal-xmSysdj6.js";import"./TopNavigation-BPEMQkzy.js";import"./UserAvatar-DdRArJVQ.js";import"./DarkModeToggle-oH18ZJvw.js";import"./useFocusVisible-KZXt4Cm4.js";import"./portal-B_iHtz37.js";import"./transition-l3QoJGEh.js";import"./utils-9LinqH4U.js";import"./clsx-B-dksMZM.js";const l=[{id:1,title:"Sample Cycle",plan:{objective:"This is a sample objective for the cycle."},status:"in_progress",dueDate:new Date().toISOString(),progress:50,priority:"medium",owner:"User A",team:["User B","User C"]}],J=({auth:h})=>{const[n,u]=i.useState(""),[d,g]=i.useState("all"),[m,p]=i.useState("dueDate"),[j,x]=i.useState(!1),y=l.filter(s=>{const t=s.title.toLowerCase().includes(n.toLowerCase())||s.plan.objective.toLowerCase().includes(n.toLowerCase()),a=d==="all"||s.status.toLowerCase()===d.toLowerCase();return t&&a}).sort((s,t)=>{switch(m){case"dueDate":return new Date(s.dueDate)-new Date(t.dueDate);case"progress":return t.progress-s.progress;case"priority":return t.priority.localeCompare(s.priority);default:return 0}}),w=s=>{switch(s.toLowerCase()){case"plan":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900";case"do":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";case"study":return"text-purple-600 bg-purple-100 dark:text-purple-400 dark:bg-purple-900";case"act":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900"}},N=s=>{switch(s.toLowerCase()){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},b=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs(C,{user:h.user,children:[e.jsx(f,{title:"PDSA Management"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(D,{children:[e.jsxs(k,{className:"border-b",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(S,{className:"text-2xl font-semibold",children:"PDSA Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",onClick:()=>x(!0),className:"flex items-center gap-2",children:[e.jsx(r,{icon:"heroicons:exclamation-triangle",className:"w-5 h-5"}),"Care Issues"]}),e.jsxs(o,{className:"bg-healthcare-primary hover:bg-healthcare-primary-dark",children:[e.jsx(r,{icon:"heroicons:plus",className:"w-5 h-5 mr-2"}),"New PDSA Cycle"]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(I,{type:"text",placeholder:"Search cycles...",value:n,onChange:s=>u(s.target.value),className:"w-full"})}),e.jsxs("select",{value:d,onChange:s=>g(s.target.value),className:"px-3 py-2 bg-white dark:bg-gray-800 border rounded-md",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"plan",children:"Plan"}),e.jsx("option",{value:"do",children:"Do"}),e.jsx("option",{value:"study",children:"Study"}),e.jsx("option",{value:"act",children:"Act"})]}),e.jsxs("select",{value:m,onChange:s=>p(s.target.value),className:"px-3 py-2 bg-white dark:bg-gray-800 border rounded-md",children:[e.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),e.jsx("option",{value:"progress",children:"Sort by Progress"}),e.jsx("option",{value:"priority",children:"Sort by Priority"})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Cycles"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:l.length})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:l.filter(s=>s.status!=="completed").length})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Due This Week"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:l.filter(s=>{const t=new Date(s.dueDate),a=new Date,c=new Date;return c.setDate(c.getDate()+7),t>=a&&t<=c}).length})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:l.filter(s=>s.status==="completed").length})]})]}),e.jsx("div",{className:"space-y-4",children:y.map((s,t)=>{var a;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:s.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.plan.objective}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(s.status)}`,children:s.status}),e.jsxs("span",{className:`text-sm ${N(s.priority)}`,children:[s.priority," Priority"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Due: ",b(s.dueDate)]})]})]}),e.jsx(o,{variant:"ghost",className:"text-gray-400 hover:text-gray-500",children:e.jsx(r,{icon:"heroicons:ellipsis-vertical",className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(L,{value:s.progress,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[e.jsx(r,{icon:"heroicons:user",className:"w-4 h-4 inline mr-1"}),s.owner]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[e.jsx(r,{icon:"heroicons:users",className:"w-4 h-4 inline mr-1"}),((a=s.team)==null?void 0:a.length)||0," team members"]})]}),e.jsx(v,{href:`/improvement/pdsa/${s.id}`,children:e.jsxs(o,{variant:"outline",className:"text-sm",children:["View Details",e.jsx(r,{icon:"heroicons:arrow-right",className:"w-4 h-4 ml-2"})]})})]})]},t)})})]})]})})}),e.jsx(A,{open:j,onClose:()=>x(!1)})]})};export{J as default};
