import{j as e,r as k,K as B}from"./app-DNCPaP7U.js";import{I as w}from"./iconify-CuDxMG-b.js";import{H as C}from"./HierarchicalFilters-D21C3-_q.js";import{E as P}from"./ErrorBoundary-ti8iig1M.js";import{H as N,p as z,_ as S}from"./PieChart-DNJdnlhf.js";import{P as l}from"./Panel-DEM8HheS.js";import"./ToggleSwitch-wWvkbsAB.js";import"./AuthenticatedLayout-bVzRFQ8r.js";import"./uniqueId-S-XtUeLk.js";import{A as L}from"./index-BILkJVdl.js";import{m as O}from"./proxy-nweJ2GES.js";const b={sites:{"MARH OR":{metrics:{inBlockUtilization:"67.8%",totalBlockUtilization:"82.3%",nonPrimePercentage:"12.4%",utilizationTrend:"+3.2%"},services:[{service_name:"Orthopedics",in_block_utilization:72.5,total_block_utilization:85.3,non_prime_percentage:14.2},{service_name:"General Surgery",in_block_utilization:65.8,total_block_utilization:78.6,non_prime_percentage:18.9},{service_name:"Neurosurgery",in_block_utilization:71.2,total_block_utilization:83.4,non_prime_percentage:9.7},{service_name:"Cardiology",in_block_utilization:69.4,total_block_utilization:81.2,non_prime_percentage:11.5}]},"VORH JRI OR":{metrics:{inBlockUtilization:"71.2%",totalBlockUtilization:"84.7%",nonPrimePercentage:"10.8%",utilizationTrend:"+1.5%"},services:[{service_name:"Orthopedics",in_block_utilization:75.6,total_block_utilization:88.3,non_prime_percentage:12.7},{service_name:"General Surgery",in_block_utilization:68.4,total_block_utilization:80.1,non_prime_percentage:15.2},{service_name:"Neurosurgery",in_block_utilization:73.9,total_block_utilization:86.4,non_prime_percentage:7.6}]}},overallMetrics:{inBlockUtilization:69.5,totalBlockUtilization:83.5,nonPrimePercentage:11.6},serviceData:[{name:"Orthopedics",metrics:{inBlockUtilization:74.1,totalBlockUtilization:86.8,nonPrimePercentage:13.5},sites:["MARH OR","VORH JRI OR"]},{name:"General Surgery",metrics:{inBlockUtilization:67.1,totalBlockUtilization:79.3,nonPrimePercentage:17.1},sites:["MARH OR","VORH JRI OR","MEMH OR"]},{name:"Neurosurgery",metrics:{inBlockUtilization:72.5,totalBlockUtilization:84.9,nonPrimePercentage:8.6},sites:["MARH OR","OLLH OR"]},{name:"Cardiology",metrics:{inBlockUtilization:69.4,totalBlockUtilization:81.2,nonPrimePercentage:11.5},sites:["VORH JRI OR","OLLH OR"]},{name:"Urology",metrics:{inBlockUtilization:65.2,totalBlockUtilization:77.8,nonPrimePercentage:14.3},sites:["MARH OR","MEMH OR"]}],trendData:{inBlock:[{x:"2025-01-01",y:63.2},{x:"2025-01-15",y:65.8},{x:"2025-02-01",y:68.4},{x:"2025-02-15",y:67.1},{x:"2025-03-01",y:69.5}],total:[{x:"2025-01-01",y:76.4},{x:"2025-01-15",y:78.2},{x:"2025-02-01",y:81.7},{x:"2025-02-15",y:79.3},{x:"2025-03-01",y:83.5}]},dayOfWeekData:[{name:"Monday",utilization:72.3},{name:"Tuesday",utilization:76.5},{name:"Wednesday",utilization:69.8},{name:"Thursday",utilization:74.1},{name:"Friday",utilization:65.7}],nonPrimeTimeTrendData:[{x:"2025-01-01",y:13.5},{x:"2025-01-15",y:12.8},{x:"2025-02-01",y:11.9},{x:"2025-02-15",y:12.5},{x:"2025-03-01",y:11.6}],serviceNonPrime:{Orthopedics:{nonPrime:13.5,prime:86.5,trend:"-1.2%",status:"Improving"},"General Surgery":{nonPrime:17.1,prime:82.9,trend:"+0.8%",status:"Declining"},Neurosurgery:{nonPrime:8.6,prime:91.4,trend:"-0.5%",status:"Improving"},Cardiology:{nonPrime:11.5,prime:88.5,trend:"-1.0%",status:"Improving"},Urology:{nonPrime:14.3,prime:85.7,trend:"+1.5%",status:"Declining"}},blockData:[{name:"Orthopedics Block 1",specialty:"Orthopedics",location:"MARH OR",utilization:74.5,released:!1,sites:["MARH OR"]},{name:"Orthopedics Block 2",specialty:"Orthopedics",location:"VORH JRI OR",utilization:78.2,released:!1,sites:["VORH JRI OR"]},{name:"General Surgery Block 1",specialty:"General Surgery",location:"MARH OR",utilization:67.8,released:!1,sites:["MARH OR"]},{name:"General Surgery Block 2",specialty:"General Surgery",location:"VORH JRI OR",utilization:68.9,released:!1,sites:["VORH JRI OR"]},{name:"Neurosurgery Block 1",specialty:"Neurosurgery",location:"MARH OR",utilization:72.1,released:!0,sites:["MARH OR"]},{name:"Cardiology Block 1",specialty:"Cardiology",location:"VORH JRI OR",utilization:69.7,released:!1,sites:["VORH JRI OR"]},{name:"Urology Block 1",specialty:"Urology",location:"MARH OR",utilization:65.4,released:!0,sites:["MARH OR"]}],locationData:[{name:"MARH OR",hospital:"Memorial Academic Regional Hospital",utilization:67.8,totalBlockUtilization:82.3,nonPrimePercentage:12.4,utilizationTrend:"+3.2%",specialties:["Orthopedics","General Surgery","Neurosurgery","Cardiology"],services:[{service_name:"Orthopedics",in_block_utilization:72.5},{service_name:"General Surgery",in_block_utilization:65.8},{service_name:"Neurosurgery",in_block_utilization:71.2}]},{name:"VORH JRI OR",hospital:"Valley Orthopedic Regional Hospital",utilization:71.2,totalBlockUtilization:84.7,nonPrimePercentage:10.8,utilizationTrend:"+1.5%",specialties:["Orthopedics","General Surgery","Neurosurgery"],services:[{service_name:"Orthopedics",in_block_utilization:75.6},{service_name:"General Surgery",in_block_utilization:68.4},{service_name:"Neurosurgery",in_block_utilization:73.9}]},{name:"MEMH OR",hospital:"Memorial East Medical Hospital",utilization:69.5,totalBlockUtilization:83.1,nonPrimePercentage:11.2,utilizationTrend:"+0.8%",specialties:["General Surgery","Urology"],services:[{service_name:"General Surgery",in_block_utilization:67.1},{service_name:"Urology",in_block_utilization:65.2}]},{name:"OLLH OR",hospital:"Our Lady of Lourdes Hospital",utilization:70.8,totalBlockUtilization:83.9,nonPrimePercentage:9.7,utilizationTrend:"+2.1%",specialties:["Neurosurgery","Cardiology"],services:[{service_name:"Neurosurgery",in_block_utilization:72.5},{service_name:"Cardiology",in_block_utilization:69.4}]}],nonPrimeData:{weekendCases:124,afterHoursCases:87,trend:[{x:"2025-01-01",y:13.5},{x:"2025-01-15",y:12.8},{x:"2025-02-01",y:11.9},{x:"2025-02-15",y:12.5},{x:"2025-03-01",y:11.6}]}},f=({title:h,value:x,trend:u,trendDirection:m,icon:g,iconColor:a,isSubpanel:d=!1})=>e.jsxs("div",{className:`
      bg-white dark:bg-gray-800 rounded-lg 
      ${d?"shadow-sm border border-gray-100 dark:border-gray-700 bg-gradient-to-b from-white to-gray-50 dark:from-gray-800 dark:to-gray-850":"shadow"} 
      p-4
    `,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[g&&e.jsx("div",{className:`rounded-md p-2 mr-3 ${a} ${d?"bg-gray-50 dark:bg-gray-750":"bg-gray-100 dark:bg-gray-700"}`,children:e.jsx(w,{icon:g,className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-300",children:h})]}),u&&e.jsxs("div",{className:`flex items-center ${m==="up"?"text-emerald-500":m==="down"?"text-red-500":"text-gray-500"}`,children:[e.jsx(w,{icon:m==="up"?"heroicons:arrow-trending-up":m==="down"?"heroicons:arrow-trending-down":"heroicons:minus",className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:u})]})]}),e.jsx("div",{className:"text-2xl font-bold dark:text-white",children:x})]}),R=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m}=h,g=k.useMemo(()=>{let r=[...b.serviceData];return x&&(r=r.filter(t=>t.sites.some(i=>i.includes(x)))),u&&(r=r.filter(t=>t.sites.includes(u))),m&&(r=r.filter(t=>t.name===m)),r},[x,u,m]),a=g.map(r=>({name:r.name,inBlockUtilization:r.metrics.inBlockUtilization,totalBlockUtilization:r.metrics.totalBlockUtilization})),d=r=>typeof r=="number"?`${r.toFixed(1)}%`:typeof r=="string"?r:"N/A",n=(()=>{if(g.length===0)return b.overallMetrics;const r=g.reduce((s,c)=>s+parseFloat(c.metrics.inBlockUtilization),0),t=g.reduce((s,c)=>s+parseFloat(c.metrics.totalBlockUtilization),0),i=g.reduce((s,c)=>s+parseFloat(c.metrics.nonPrimePercentage),0);return{inBlockUtilization:r/g.length,totalBlockUtilization:t/g.length,nonPrimePercentage:i/g.length}})();return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(f,{title:"In-Block Utilization",value:d(n.inBlockUtilization),trend:"+2.3%",trendDirection:"up",icon:"chart-bar",iconColor:"text-blue-500",isSubpanel:!0}),e.jsx(f,{title:"Total Block Utilization",value:d(n.totalBlockUtilization),trend:"+1.8%",trendDirection:"up",icon:"chart-pie",iconColor:"text-emerald-500",isSubpanel:!0}),e.jsx(f,{title:"Non-Prime Time",value:d(n.nonPrimePercentage),trend:"-0.7%",trendDirection:"down",icon:"clock",iconColor:"text-purple-500",isSubpanel:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{title:"Service Utilization",dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(N,{data:a,keys:["inBlockUtilization","totalBlockUtilization"],indexBy:"name",margin:{top:10,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#3B82F6","#10B981"],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Service",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],role:"application",ariaLabel:"Service utilization chart",barAriaLabel:r=>r.id+": "+r.formattedValue+" in service: "+r.indexValue})})}),e.jsx(l,{title:"Service Details",dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"In-Block"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Block"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Non-Prime"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map((r,t)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:r.name}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"In-Block Utilization:"}),d(r.metrics.inBlockUtilization)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"Total Block Utilization:"}),d(r.metrics.totalBlockUtilization)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"Non-Prime Time:"}),d(r.metrics.nonPrimePercentage)]})]},t))})]})})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{title:"Service Insights",dropLightIntensity:"medium",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{title:"Top Performing Services",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex justify-between items-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("span",{className:"font-medium dark:text-white",children:"Orthopedics"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"82.3%"})]}),e.jsxs("li",{className:"flex justify-between items-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("span",{className:"font-medium dark:text-white",children:"Neurosurgery"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"78.9%"})]}),e.jsxs("li",{className:"flex justify-between items-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("span",{className:"font-medium dark:text-white",children:"Cardiology"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"76.4%"})]})]})}),e.jsx(l,{title:"Improvement Opportunities",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex justify-between items-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[e.jsx("span",{className:"font-medium dark:text-white",children:"General Surgery"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"62.1%"})]}),e.jsxs("li",{className:"flex justify-between items-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[e.jsx("span",{className:"font-medium dark:text-white",children:"Urology"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"64.5%"})]}),e.jsxs("li",{className:"flex justify-between items-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[e.jsx("span",{className:"font-medium dark:text-white",children:"Gynecology"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"65.8%"})]})]})})]})})})]})},D=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m,dateRange:g}=h,a=k.useMemo(()=>b.trendData,[x,u,m,g]),d=[{id:"In-Block Utilization",color:"#3B82F6",data:a.inBlock},{id:"Total Block Utilization",color:"#10B981",data:a.total}],y=t=>typeof t=="number"?`${t.toFixed(1)}%`:typeof t=="string"?t:"N/A",r=b.overallMetrics;return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(f,{title:"In-Block Utilization",value:y(r.inBlockUtilization),trend:"+2.3%",trendDirection:"up",icon:"chart-bar",iconColor:"text-blue-500",isSubpanel:!0}),e.jsx(f,{title:"Total Block Utilization",value:y(r.totalBlockUtilization),trend:"+1.8%",trendDirection:"up",icon:"chart-pie",iconColor:"text-emerald-500",isSubpanel:!0}),e.jsx(f,{title:"Non-Prime Time",value:y(r.nonPrimePercentage),trend:"-0.7%",trendDirection:"down",icon:"clock",iconColor:"text-purple-500",isSubpanel:!0})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(l,{title:"Utilization Trends",dropLightIntensity:"medium",children:e.jsx("div",{className:"h-96",children:e.jsx(z,{data:d,margin:{top:10,right:110,bottom:50,left:60},xScale:{type:"time",format:"%Y-%m-%d",useUTC:!1,precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.1f",axisTop:null,axisRight:null,axisBottom:{format:"%b %d",tickValues:"every 2 weeks",legend:"Date",legendOffset:36,legendPosition:"middle",tickTextColor:"var(--color-gray-700)",legendColor:"var(--color-gray-700)"},axisLeft:{legend:"Utilization (%)",legendOffset:-40,legendPosition:"middle",tickTextColor:"var(--color-gray-700)",legendColor:"var(--color-gray-700)"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"var(--color-gray-700)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],theme:{axis:{ticks:{text:{fill:"var(--color-gray-600)"},line:{stroke:"var(--color-gray-400)"}},legend:{text:{fill:"var(--color-gray-600)"}}},grid:{line:{stroke:"var(--color-gray-200)"}},legends:{text:{fill:"var(--color-gray-600)"}},tooltip:{container:{background:"var(--color-gray-100)",color:"var(--color-gray-800)"}}}})})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Utilization by Location"}),e.jsx("div",{className:"space-y-4",children:Object.keys(b.sites).map((t,i)=>{const s=b.sites[t];return e.jsxs("div",{className:"border-b pb-3 last:border-0",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("h3",{className:"font-medium",children:t}),e.jsx("span",{className:"text-blue-600",children:s.metrics.inBlockUtilization})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:s.metrics.inBlockUtilization}})})]},i)})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Non-Prime Time Trend"}),e.jsx("div",{className:"h-64",children:e.jsx(z,{data:[{id:"Non-Prime Time",color:"#8B5CF6",data:b.nonPrimeTimeTrendData}],margin:{top:10,right:30,bottom:50,left:60},xScale:{type:"time",format:"%Y-%m-%d",useUTC:!1,precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.1f",axisTop:null,axisRight:null,axisBottom:{format:"%b %d",tickValues:5,legend:"Date",legendOffset:36,legendPosition:"middle"},axisLeft:{legend:"Non-Prime Time (%)",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,curve:"monotoneX",colors:["#8B5CF6"],pointSize:8,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsx(l,{title:"Trend Analysis",children:e.jsx("div",{className:"space-y-4",children:e.jsx(l,{title:"Performance Insights",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Steady Improvement"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"In-block utilization has shown a consistent upward trend over the past 8 weeks, indicating successful optimization efforts."})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-300 mb-1",children:"Peak Performance"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Week 10 showed the highest total block utilization at 72.8%, which coincided with the implementation of new scheduling protocols."})]}),e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-1",children:"Seasonal Patterns"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"A slight dip in weeks 5-6 corresponds with the holiday season, suggesting a need for adjusted block allocation during these periods."})]})]})})})}),e.jsx(l,{title:"Recommendations",children:e.jsx("div",{className:"space-y-4",children:e.jsx(l,{title:"Action Items",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Continue with the current block allocation strategy that has led to the recent improvement trend."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Develop a holiday season block adjustment plan to address the seasonal dip observed in weeks 5-6."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Analyze the factors that contributed to the peak performance in week 10 and document best practices."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Set a target of 75% in-block utilization for the next quarter based on the current improvement trajectory."})]})]})})})})]})]})},T=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m,dateRange:g}=h;k.useMemo(()=>b.dayOfWeekData,[x,u,m,g]);const a=n=>typeof n=="number"?`${n.toFixed(1)}%`:typeof n=="string"?n:"N/A",y=b.overallMetrics;return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(f,{title:"In-Block Utilization",value:a(y.inBlockUtilization),trend:"+2.3%",trendDirection:"up",icon:"chart-bar",iconColor:"text-blue-500",isSubpanel:!0}),e.jsx(f,{title:"Total Block Utilization",value:a(y.totalBlockUtilization),trend:"+1.8%",trendDirection:"up",icon:"chart-pie",iconColor:"text-emerald-500",isSubpanel:!0}),e.jsx(f,{title:"Non-Prime Time",value:a(y.nonPrimePercentage),trend:"-0.7%",trendDirection:"down",icon:"clock",iconColor:"text-purple-500",isSubpanel:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{title:"Day of Week Utilization",children:e.jsx("div",{className:"h-80",children:e.jsx(N,{data:[{day:"Monday",utilization:72.3},{day:"Tuesday",utilization:76.5},{day:"Wednesday",utilization:74.8},{day:"Thursday",utilization:71.2},{day:"Friday",utilization:65.7}],keys:["utilization"],indexBy:"day",margin:{top:10,right:30,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#3B82F6"],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Day of Week",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},role:"application",ariaLabel:"Day of week utilization chart",barAriaLabel:n=>n.id+": "+n.formattedValue+" on "+n.indexValue})})}),e.jsx(l,{title:"Daily Breakdown",children:e.jsx("div",{className:"space-y-4",children:[{name:"Monday",utilization:72.3},{name:"Tuesday",utilization:76.5},{name:"Wednesday",utilization:74.8},{name:"Thursday",utilization:71.2},{name:"Friday",utilization:65.7}].map((n,r)=>e.jsxs("div",{className:"border-b pb-3 last:border-0",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("h3",{className:"font-medium dark:text-white",children:n.name}),e.jsx("span",{className:"text-blue-600 dark:text-blue-300",children:a(n.utilization)})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${n.utilization>75?"bg-emerald-500":n.utilization>70?"bg-blue-600":n.utilization>65?"bg-amber-500":"bg-red-500"}`,style:{width:`${n.utilization}%`}})})]},r))})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{title:"Day of Week Insights",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{title:"Time Distribution",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Morning (8am-12pm)"}),e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"dark:text-white",children:"Utilization"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-300",children:"74.2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"74.2%"}})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Afternoon (12pm-4pm)"}),e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"dark:text-white",children:"Utilization"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-300",children:"76.8%"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"76.8%"}})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Evening (4pm-8pm)"}),e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"dark:text-white",children:"Utilization"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-300",children:"68.5%"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-amber-500 h-2 rounded-full",style:{width:"68.5%"}})})]})]})}),e.jsx(l,{title:"Recommendations",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Optimize Friday Scheduling"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Friday has the lowest utilization. Consider rescheduling high-demand procedures to this day."})]}),e.jsxs("li",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded",children:[e.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-300 mb-1",children:"Leverage Tuesday Efficiency"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Tuesday shows highest utilization. Analyze workflows to replicate this efficiency on other days."})]}),e.jsxs("li",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded",children:[e.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-1",children:"Evening Slot Utilization"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Evening slots are underutilized. Consider incentives for scheduling during these hours."})]})]})})]})})})]})},U=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m,dateRange:g}=h,a=k.useMemo(()=>{let t=[...b.locationData];return x&&(t=t.filter(i=>i.hospital===x)),m&&(t=t.filter(i=>i.specialties&&i.specialties.includes(m))),t},[x,m,g]),d=t=>typeof t=="number"?`${t.toFixed(1)}%`:typeof t=="string"?t:"N/A",n=(()=>{if(!a||a.length===0)return{totalLocations:0,averageUtilization:0,highestLocation:{name:"N/A",utilization:0}};const t=a.length,s=a.reduce((o,p)=>o+(p.utilization||0),0)/t,c=a.reduce((o,p)=>p.utilization>o.utilization?p:o,{name:"N/A",utilization:0});return{totalLocations:t,averageUtilization:s,highestLocation:c}})(),r=a.map(t=>({location:t.name,utilization:t.utilization}));return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(f,{title:"Total Locations",value:n.totalLocations.toString(),icon:"map-marker",iconColor:"text-blue-500",isSubpanel:!0}),e.jsx(f,{title:"Average Utilization",value:d(n.averageUtilization),icon:"chart-pie",iconColor:"text-emerald-500",isSubpanel:!0}),e.jsx(f,{title:"Highest Location",value:`${n.highestLocation.name} (${d(n.highestLocation.utilization)})`,icon:"arrow-up-right",iconColor:"text-purple-500",isSubpanel:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{title:"Location Utilization",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(N,{data:r,keys:["utilization"],indexBy:"location",margin:{top:10,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#3B82F6"],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Location",legendPosition:"middle",legendOffset:32,truncateTickAt:0},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40,truncateTickAt:0},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],role:"application",ariaLabel:"Location utilization chart",barAriaLabel:t=>t.id+": "+t.formattedValue+" in location: "+t.indexValue,tooltip:({id:t,value:i,color:s})=>e.jsxs("div",{style:{padding:12,background:"#fff",color:"#333",border:"1px solid #ccc",borderRadius:4},children:[e.jsxs("strong",{children:[t,":"]})," ",d(i)]})})})}),e.jsx(l,{title:"Location Comparison",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"space-y-4",children:a.sort((t,i)=>i.utilization-t.utilization).map((t,i)=>e.jsxs("div",{className:"border-b pb-3 last:border-0",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("h3",{className:"font-medium dark:text-white",children:t.name}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:d(t.utilization)})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${t.utilization>75?"bg-emerald-500":t.utilization>70?"bg-blue-500":t.utilization>65?"bg-amber-500":"bg-red-500"}`,style:{width:`${t.utilization}%`}})})]},i))})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{title:"Location Insights",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{title:"Service Distribution by Location",isSubpanel:!0,dropLightIntensity:"subtle",children:e.jsx("div",{className:"space-y-4",children:a.map((t,i)=>e.jsxs("div",{className:"border-b pb-3 last:border-0",children:[e.jsx("h3",{className:"font-medium mb-2 dark:text-white",children:t.name}),e.jsx("div",{className:"space-y-2",children:t.services.slice(0,3).map((s,c)=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:s.service_name}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:d(s.in_block_utilization)})]},c))})]},i))})}),e.jsx(l,{title:"Location Recommendations",isSubpanel:!0,dropLightIntensity:"subtle",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Cross-Location Standardization"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Implement standardized scheduling practices across all locations to reduce variability in utilization rates."})]}),e.jsxs("li",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded",children:[e.jsx("h4",{className:"font-medium text-emerald-800 dark:text-emerald-300 mb-1",children:"Resource Allocation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Analyze staffing models at VORH JRI OR to identify best practices that can be applied to other locations."})]}),e.jsxs("li",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded",children:[e.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-1",children:"MARH OR Improvement"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Focus on improving block allocation at MARH OR, which shows the lowest utilization among all locations."})]})]})})]})})}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{title:"Detailed Location Data",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Location"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"In-Block"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Block"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Non-Prime"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Trend"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map((t,i)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:d(t.utilization)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:d(t.totalBlockUtilization)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:d(t.nonPrimePercentage)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.utilizationTrend})]},i))})]})})})})]})},_=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m,dateRange:g}=h,a=k.useMemo(()=>{let i=[...b.blockData];return x&&(i=i.filter(s=>s.sites&&s.sites.some(c=>c.includes(x)))),u&&(i=i.filter(s=>s.sites&&s.sites.some(c=>c.includes(u)))),m&&(i=i.filter(s=>s.specialty===m)),i},[x,u,m,g]),d=i=>typeof i=="number"?`${i.toFixed(1)}%`:typeof i=="string"?i:"N/A",n=(()=>{if(!a||a.length===0)return{totalBlocks:0,averageUtilization:0,releaseRate:0};const i=a.length,c=a.reduce((j,v)=>j+(v.utilization||0),0)/i,p=a.filter(j=>j.released).length/i*100;return{totalBlocks:i,averageUtilization:c,releaseRate:p}})(),t=[...a].sort((i,s)=>s.utilization-i.utilization).slice(0,10).map(i=>({block:i.name,utilization:i.utilization}));return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(f,{title:"Total Blocks",value:n.totalBlocks.toString(),icon:"calendar-check",iconColor:"text-blue-500",isSubpanel:!0}),e.jsx(f,{title:"Average Utilization",value:d(n.averageUtilization),icon:"chart-pie",iconColor:"text-emerald-500",isSubpanel:!0}),e.jsx(f,{title:"Release Rate",value:d(n.releaseRate),icon:"arrow-up-right",iconColor:"text-purple-500",isSubpanel:!0})]}),e.jsx(l,{title:"Block Group Utilization",dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(N,{data:t,keys:["utilization"],indexBy:"block",margin:{top:10,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:["#3B82F6"],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-45,legend:"Block Group",legendPosition:"middle",legendOffset:40,tickColor:"var(--color-gray-400)",legendColor:"var(--color-gray-700)"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization (%)",legendPosition:"middle",legendOffset:-40,tickColor:"var(--color-gray-400)",legendColor:"var(--color-gray-700)"},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,itemTextColor:"var(--color-gray-700)",effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"var(--color-gray-600)"},line:{stroke:"var(--color-gray-400)"}},legend:{text:{fill:"var(--color-gray-600)"}}},grid:{line:{stroke:"var(--color-gray-200)"}},legends:{text:{fill:"var(--color-gray-600)"}}}})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs(l,{title:"Block Analysis",isSubpanel:!1,dropLightIntensity:"medium",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Block groups are analyzed based on their specialty and utilization patterns. The data shows significant variations in utilization across different block groups."}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"font-medium mb-2 dark:text-white",children:"Recommendations:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Review allocation for low-performing blocks (below 70% utilization)"}),e.jsx("li",{children:"Consider redistributing time from underutilized blocks to high-demand services"}),e.jsx("li",{children:"Implement regular block utilization reviews on a quarterly basis"})]})]})]}),e.jsx(l,{title:"Block Utilization Ranking",isSubpanel:!1,dropLightIntensity:"medium",children:e.jsx("div",{className:"space-y-4",children:a.sort((i,s)=>s.utilization-i.utilization).map((i,s)=>e.jsxs("div",{className:"border-b pb-3 last:border-0",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("h3",{className:"font-medium dark:text-white",children:i.name}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:d(i.utilization)})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${i.utilization>75?"bg-emerald-500":i.utilization>70?"bg-blue-600":i.utilization>65?"bg-amber-500":"bg-red-500"}`,style:{width:`${i.utilization}%`}})})]},s))})})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(l,{title:"Nested Panels Example",dropLightIntensity:"medium",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(l,{title:"Subtle Drop Light",isSubpanel:!0,dropLightIntensity:"subtle",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"This panel uses a subtle drop light effect, providing minimal visual distinction."})}),e.jsx(l,{title:"Medium Drop Light",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"This panel uses a medium drop light effect, the default setting for subpanels."})})]}),e.jsx(l,{title:"Strong Drop Light",isSubpanel:!0,dropLightIntensity:"strong",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"This panel uses a strong drop light effect, providing maximum visual distinction from the parent panel."})})]})}),e.jsxs(l,{title:"Detailed Block Analysis",className:"mt-6",dropLightIntensity:"medium",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"The following detailed analysis provides insights into block utilization patterns and opportunities for improvement."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(l,{title:"Detailed Metrics",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Average Block Duration"}),e.jsx("span",{className:"font-medium",children:"4.2 hours"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Blocks per Service"}),e.jsx("span",{className:"font-medium",children:"3.5"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Release Time Compliance"}),e.jsx("span",{className:"font-medium",children:"87.5%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Block Efficiency"}),e.jsx("span",{className:"font-medium",children:"64.2%"})]})]})}),e.jsx(l,{title:"Allocation Distribution",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Morning Blocks"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"45%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Afternoon Blocks"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"35%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evening Blocks"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"20%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Weekend Blocks"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"15%"})]})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"font-medium mb-2 dark:text-white",children:"Key Observations:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Morning blocks show higher utilization rates compared to afternoon blocks"}),e.jsx("li",{children:"Weekend blocks have the lowest utilization but highest revenue per minute"}),e.jsx("li",{children:"Services with dedicated coordinators show 12% higher utilization rates"})]})]})]}),e.jsx(l,{title:"Block Utilization Recommendations",className:"mt-6",dropLightIntensity:"medium",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Redistribute blocks from low-utilization services to high-demand services to improve overall efficiency."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Implement a more flexible block release policy to encourage early release of unused block time."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Consider adjusting block durations to better match actual case lengths and reduce idle time."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Establish a regular review process for block allocation to ensure alignment with changing service needs."})]})]})})]})},I=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m,dateRange:g}=h,[a,d]=k.useState("name"),[y,n]=k.useState("asc"),r=k.useMemo(()=>{let o=[...b.blockData];return x&&(o=o.filter(p=>p.sites&&p.sites.some(j=>j.includes(x)))),u&&(o=o.filter(p=>p.sites&&p.sites.some(j=>j.includes(u)))),m&&(o=o.filter(p=>p.specialty===m)),o},[x,u,m,g]),t=o=>typeof o=="number"?`${o.toFixed(1)}%`:typeof o=="string"?o:"N/A",i=k.useMemo(()=>r?[...r].sort((o,p)=>{let j=o[a],v=p[a];return typeof j=="string"&&typeof v=="string"&&(j=j.toLowerCase(),v=v.toLowerCase()),y==="asc"?j>v?1:-1:j<v?1:-1}):[],[r,a,y]),s=o=>{a===o?n(y==="asc"?"desc":"asc"):(d(o),n("asc"))},c=o=>a!==o?null:e.jsx(w,{icon:y==="asc"?"heroicons:chevron-up":"heroicons:chevron-down",className:"inline-block ml-1"});return e.jsx("div",{className:"animate-fadeIn",children:e.jsx(l,{title:"Block Details",dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>s("name"),children:["Block Name ",c("name")]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>s("specialty"),children:["Specialty ",c("specialty")]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>s("location"),children:["Location ",c("location")]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>s("utilization"),children:["Utilization ",c("utilization")]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>s("released"),children:["Status ",c("released")]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:i.map((o,p)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:o.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:o.specialty}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:o.location}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 mr-2",children:t(o.utilization)}),e.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${o.utilization>75?"bg-emerald-500":o.utilization>70?"bg-blue-600":o.utilization>65?"bg-amber-500":"bg-red-500"}`,style:{width:`${o.utilization}%`}})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${o.released?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:o.released?"Released":"Active"})})]},p))})]})})})})},M=({filters:h})=>{const{selectedHospital:x,selectedLocation:u,selectedSpecialty:m,dateRange:g}=h,a=k.useMemo(()=>b.nonPrimeData,[x,u,m,g]),d=i=>typeof i=="number"?`${i.toFixed(1)}%`:typeof i=="string"?i:"N/A",n=b.overallMetrics,r=[{id:"Prime Time",label:"Prime Time",value:100-n.nonPrimePercentage,color:"#3B82F6"},{id:"Non-Prime Time",label:"Non-Prime Time",value:n.nonPrimePercentage,color:"#8B5CF6"}],t=[{id:"Non-Prime Time Trend",color:"#8B5CF6",data:a.trend}];return e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(f,{title:"Non-Prime Time",value:d(n.nonPrimePercentage),trend:"-0.7%",trendDirection:"down",icon:"clock",iconColor:"text-purple-500",isSubpanel:!0}),e.jsx(f,{title:"Weekend Cases",value:a.weekendCases.toString(),trend:"+2.3%",trendDirection:"up",icon:"calendar",iconColor:"text-blue-500",isSubpanel:!0}),e.jsx(f,{title:"After Hours Cases",value:a.afterHoursCases.toString(),trend:"-1.5%",trendDirection:"down",icon:"moon",iconColor:"text-emerald-500",isSubpanel:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{title:"Non-Prime Time Distribution",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(S,{data:r,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"var(--color-gray-700)",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"var(--color-gray-700)",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"var(--color-gray-900)"}}]}],theme:{text:{fill:"var(--color-gray-700)"},tooltip:{container:{background:"var(--color-gray-100)",color:"var(--color-gray-800)"}}}})})}),e.jsx(l,{title:"Non-Prime Time Trend",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"h-80",children:e.jsx(z,{data:t,margin:{top:10,right:30,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"monotoneX",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:-45,legend:"Time of Day",legendOffset:40,legendPosition:"middle",tickTextColor:"var(--color-gray-700)",legendColor:"var(--color-gray-700)"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Utilization",legendOffset:-40,legendPosition:"middle",tickTextColor:"var(--color-gray-700)",legendColor:"var(--color-gray-700)"},colors:["#6366f1"],pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"top-right",direction:"column",justify:!1,translateX:0,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"var(--color-gray-700)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],theme:{axis:{ticks:{text:{fill:"var(--color-gray-600)"},line:{stroke:"var(--color-gray-400)"}},legend:{text:{fill:"var(--color-gray-600)"}}},grid:{line:{stroke:"var(--color-gray-200)"}},legends:{text:{fill:"var(--color-gray-600)"}}}})})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{title:"Non-Prime Time Analysis",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{title:"Time of Day Distribution",isSubpanel:!0,dropLightIntensity:"subtle",children:e.jsx("div",{className:"h-80",children:e.jsx(S,{data:r,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"var(--color-gray-700)",arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},arcLabelsSkipAngle:10,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"var(--color-gray-700)",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"var(--color-gray-900)"}}]}],theme:{text:{fill:"var(--color-gray-700)"},tooltip:{container:{background:"var(--color-gray-100)",color:"var(--color-gray-800)"}}}})})}),e.jsx(l,{title:"Non-Prime Recommendations",isSubpanel:!0,dropLightIntensity:"subtle",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-purple-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Review Orthopedics case scheduling to identify opportunities for shifting cases to prime time."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-purple-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Implement Neurosurgery's scheduling practices across other services, particularly Cardiology."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-purple-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Conduct a detailed analysis of non-prime time usage patterns by day of week for each service."})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-5 w-5 text-purple-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Set service-specific targets for non-prime time reduction in the next quarter."})]})]})})]})})}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{title:"Service Non-Prime Time Details",isSubpanel:!0,dropLightIntensity:"medium",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Non-Prime %"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Prime %"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Trend"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Object.entries(b.serviceNonPrime).map(([i,s],c)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:i}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[s.nonPrime,"%"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[s.prime,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("span",{className:`inline-flex items-center ${s.trend.includes("+")?"text-red-500":"text-green-500"}`,children:[s.trend.includes("+")?e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),s.trend]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="Improving"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:s.status})})]},c))})]})})})})]})},q=({activeView:h})=>{B();const[x,u]=k.useState(h||"service"),[m,g]=k.useState(!1),[a,d]=k.useState({selectedHospital:"",selectedLocation:"",selectedSpecialty:"",selectedSurgeon:"",dateRange:{startDate:new Date(new Date().setDate(new Date().getDate()-90)),endDate:new Date},comparisonDateRange:{startDate:new Date(new Date().setDate(new Date().getDate()-180)),endDate:new Date(new Date().setDate(new Date().getDate()-91))},showComparison:!1});k.useEffect(()=>{h&&u(h)},[h]);const y=c=>{d(c)},n=()=>{switch(x){case"service":return e.jsx(R,{filters:a});case"trend":return e.jsx(D,{filters:a});case"dayOfWeek":return e.jsx(T,{filters:a});case"location":return e.jsx(U,{filters:a});case"block":return e.jsx(_,{filters:a});case"details":return e.jsx(I,{filters:a});case"nonprime":return e.jsx(M,{filters:a});default:return e.jsx(R,{filters:a})}},r=()=>{g(!m)},t=()=>Object.keys(b.sites).map(c=>({id:c,name:c,hospitalId:c.split(" ")[0]})),i=()=>{const c=new Set;return Object.values(b.sites).forEach(o=>{o.services.forEach(p=>{c.add(p.service_name)})}),Array.from(c)},s=()=>[];return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"mb-4 md:hidden",children:e.jsx("button",{onClick:r,className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?"Hide Filters":"Show Filters"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-80 flex-shrink-0",children:e.jsx(P,{children:e.jsx(C,{locations:t(),services:i(),providers:s(),onFilterChange:y,initialFilters:a,className:"sticky top-4"})})}),e.jsx("div",{className:"flex-grow",children:e.jsx(L,{mode:"wait",children:e.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"w-full",children:n()},x)})})]})]})};export{q as B};
