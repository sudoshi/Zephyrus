import{j as e,r as f}from"./app-DNCPaP7U.js";import{R as Q}from"./RTDCPageLayout-CkY9OsVd.js";import{c as A,C as P,a as T,b as M}from"./Card-BZBUa5Cc.js";import{I as x}from"./iconify-CuDxMG-b.js";import{u as z}from"./useDarkMode-Cjnn_MHf.js";import{L as K}from"./LineChart-D9eEa5p5.js";import{C as d}from"./Card-Bb1H85Wn.js";import"./DashboardLayout-BfUOEmbm.js";import"./TopNavigation-BPEMQkzy.js";import"./UserAvatar-DdRArJVQ.js";import"./DarkModeToggle-oH18ZJvw.js";import"./useFocusVisible-KZXt4Cm4.js";import"./portal-B_iHtz37.js";import"./transition-l3QoJGEh.js";import"./PageContentLayout-DDKRpoW7.js";import"./utils-9LinqH4U.js";import"./clsx-B-dksMZM.js";import"./LineChart-BiJvPHt8.js";import"./_baseAssignValue-CSgy8S_V.js";import"./find-CT4xMDYu.js";import"./Area-Cf-Jitxr.js";const L=["5 East","5 West","6 East","6 West","7 East","7 West","8 East","8 West","9 East","9 West","ICU","CCU"],V=["Cardiology","Nephrology","Neurology","Oncology","Internal Medicine","Orthopedics","Pulmonology","General Surgery"],q=["CHF Team","Stroke Team","Medical Team A","Medical Team B","Medical Team C","Surgical Team A","Surgical Team B","Oncology Team"],Y=["Infectious Disease","Pain Management","Psychiatry","Physical Therapy","Occupational Therapy","Wound Care","Nutrition","Social Work"],$=["Sarah Chen, RN","Michael Rodriguez, RN","Emily Johnson, RN","David Kim, RN","Jessica Taylor, RN","James Wilson, RN","Maria Garcia, RN","Robert Smith, RN","Lisa Brown, RN","John Davis, RN","Amanda White, RN","Kevin Anderson, RN"],Z=["Regular Diet","Cardiac Diet, 2g Na","Renal Diet","Clear Liquids","Full Liquids","Diabetic Diet","Low Fiber Diet","NPO"],X=["Bed Rest","Up with assistance","Up ad lib","Weight bearing as tolerated","Non-weight bearing right leg","Transfer to chair TID","Ambulate TID","Activity as tolerated"],ee=["Lab draw at TIME","Echo scheduled for TIME","PT evaluation","OT evaluation","Social work consult","Nutrition consult","Wound care","Pain management consult","IV antibiotics due at TIME","CT scan at TIME","MRI scheduled for TIME","Discharge planning meeting"],ae=()=>{const a=o=>o[Math.floor(Math.random()*o.length)],i=(o,m)=>Math.floor(Math.random()*(m-o+1))+o,s=()=>`MRN${String(i(1e5,999999)).padStart(6,"0")}`,c=()=>`${i(90,180)}/${i(60,100)}`,t=o=>Array(o).fill(null).map((m,u)=>({id:u+1,text:a(ee).replace("TIME",`${i(0,23).toString().padStart(2,"0")}:${i(0,59).toString().padStart(2,"0")}`),completed:Math.random()>.7})),n=o=>{const m=new Date;m.setDate(m.getDate()-i(0,14));const u=Math.random()>.7?"Critical":Math.random()>.5?"Guarded":"Stable",y=a(L),C=a(V);return{id:o,room:`${y.split(" ")[0]}-${a(["A","B"])}`,name:`Patient ${o}`,mrn:s(),age:i(18,95),admitDate:m.toISOString(),unit:y,service:C,status:u,vitalSigns:{bp:c(),o2sat:`${i(88,100)}% ${Math.random()>.7?"2L NC":"RA"}`},primaryTeam:a(q),consultingServices:Array(i(1,3)).fill(null).map(()=>a(Y)).filter((j,b,w)=>w.indexOf(j)===b),assignedNurse:a($),code:Math.random()>.2?"Full Code":"DNR/DNI",activity:a(X),dietaryRestrictions:a(Z),tasks:t(i(2,5)).map(j=>({...j,category:a(["Clinical","Ancillary","Administrative"]),priority:a(["High","Medium","Low"]),assignedTo:a($),dueDate:(()=>{const b=new Date;return b.setHours(b.getHours()+i(1,24)),b.toISOString()})()})),careJourney:{mobility:a(["Ambulatory","With Assistance","Bed Rest"]),careLevel:a(["Routine","Intermediate","Critical"]),phase:a(["Assessment","Treatment","Recovery"])},clinicalStatus:{vitalTrend:a(["Improving","Stable","Worsening"]),painLevel:i(0,10),lastAssessment:new Date().toISOString(),vitalsHistory:Array(24).fill(null).map((j,b)=>{const w=new Date;return w.setHours(w.getHours()-b),{time:w.toISOString(),bp:c(),hr:i(60,100),rr:i(12,20),o2sat:i(92,100),temp:(36+Math.random()).toFixed(1)}}),isolationStatus:Math.random()>.8?a(["Contact","Droplet","Airborne"]):null,medicationAdministration:Array(5).fill(null).map(()=>({medication:a(["Acetaminophen","Morphine","Ceftriaxone","Ondansetron","Insulin"]),dose:`${i(1,10)}${a(["mg","g","mcg","units"])}`,route:a(["PO","IV","IM","SC"]),time:new Date(Date.now()-i(0,24)*60*60*1e3).toISOString()}))},dischargeRequirements:{clinicalCriteria:{vitalsSatisfied:Math.random()>.5,medicationReconciled:Math.random()>.5,followUpScheduled:Math.random()>.5},transportation:{arranged:Math.random()>.5,type:a(["Family","Medical Transport","Ambulance","Pending"]),notes:""},instructions:{medicationReviewed:Math.random()>.5,dietaryReviewed:Math.random()>.5,followUpReviewed:Math.random()>.5}},carePlan:{goals:Array(3).fill(null).map(()=>({id:Date.now()+i(1,1e3),description:a(["Ambulate 3x daily","Independent ADLs","Pain controlled with oral meds","Wound healing without signs of infection","Blood glucose within target range"]),status:a(["Not Started","In Progress","Achieved","Modified"]),target:new Date(Date.now()+i(1,5)*24*60*60*1e3).toISOString()})),interventions:Array(2).fill(null).map(()=>({type:a(["Procedure","Therapy","Consultation"]),name:a(["Physical Therapy Evaluation","Central Line Placement","Wound Care","Nutrition Consultation","Respiratory Treatment"]),status:a(["Scheduled","Completed","Pending"]),scheduledTime:new Date(Date.now()+i(-12,36)*60*60*1e3).toISOString()})),preferences:{diet:a(["Regular","Cardiac","Diabetic","Renal","NPO"]),mobility:a(["Independent","With Assistance","Bedrest"]),communication:a(["English","Spanish","Requires Interpreter"])}},teamCommunication:Array(3).fill(null).map(()=>({id:Date.now()+i(1,1e3),author:a($),message:a(["Patient reports improved pain control","Family meeting scheduled for tomorrow","New medication started","Physical therapy evaluation completed","Discharge planning in progress"]),timestamp:new Date(Date.now()-i(0,48)*60*60*1e3).toISOString(),category:a(["Clinical","Care Coordination","Family Communication"])})),dischargePlan:{responsiblePerson:a($),targetTime:`${i(8,16).toString().padStart(2,"0")}:00`,predictedBy2PM:Math.random()>.5?"Yes":"No",dischargeBarriers:[],estimatedDischargeDate:(()=>{const j=new Date(m);return j.setDate(j.getDate()+i(3,21)),j.toISOString()})(),journeyMilestones:(()=>{const j=`${i(8,16).toString().padStart(2,"0")}:00`,b=new Date(m);return b.setDate(b.getDate()+i(3,21)),[{id:1,type:"admission",title:"Initial Admission",time:new Date(m).toLocaleTimeString(),date:new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric"}),description:a(["Admitted via ED with SOB","Direct admission from clinic","Transfer from outside facility","Elective admission"]),isAlert:Math.random()>.8},...Array(i(2,4)).fill(null).map((w,I)=>{const v=new Date(m);return v.setDate(v.getDate()+I+1),{id:I+2,type:"milestone",title:a(["Initial Treatment","Care Planning","Physical Therapy","Diagnostic Imaging","Specialist Consult","Family Meeting"]),time:`${i(8,17)}:${i(0,59).toString().padStart(2,"0")}`,date:v.toLocaleDateString("en-US",{month:"short",day:"numeric"}),description:a(["Treatment initiated","Care plan established","Evaluation completed","Results reviewed","Meeting conducted"])}}),{id:99,type:"discharge",title:"Anticipated Discharge",time:j,date:b.toLocaleDateString("en-US",{month:"short",day:"numeric"}),description:a(["Expected discharge to home","Transfer to rehabilitation","Discharge to skilled nursing","Home health arranged"]),isAnticipated:!0}]})(),postDischargeNeeds:{followUp:Array(2).fill(null).map(()=>({specialty:a(V),timeframe:a(["24 hours","3 days","1 week","2 weeks"]),scheduled:Math.random()>.5})),equipment:Array(Math.random()>.7?i(1,3):0).fill(null).map(()=>a(["Wheelchair","Walker","Oxygen","Hospital Bed","CPAP"])),services:Array(Math.random()>.6?i(1,3):0).fill(null).map(()=>a(["Home Health","Physical Therapy","Occupational Therapy","Wound Care"]))},medicationReconciliation:{status:a(["Not Started","In Progress","Completed"]),completedBy:null,completedAt:null},alternativePathways:{hospitalAtHome:{isEligible:Math.random()>.7,hasConsented:Math.random()>.5,eligibilityNotes:"",assessedBy:a($),assessedAt:new Date(Date.now()-i(0,48)*60*60*1e3).toISOString()},cadArena:{isEligible:Math.random()>.6,hasConsented:Math.random()>.5,eligibilityNotes:"",assessedBy:a($),assessedAt:new Date(Date.now()-i(0,48)*60*60*1e3).toISOString(),preferredUnit:Math.random()>.5?a(L):null}},caregiverInfo:Math.random()>.3?{name:`Family Member ${i(1,100)}`,relationship:a(["Spouse","Child","Sibling","Parent"]),phone:`(${i(100,999)}) ${i(100,999)}-${i(1e3,9999)}`,educated:Math.random()>.5}:null},statusUpdates:[]}},r=[];return L.forEach(o=>{const m=i(3,8);for(let u=0;u<m;u++)r.push(n(r.length+1))}),{metrics:{unitMetrics:{occupancy:Math.round(r.length/(L.length*10)*100),availableBeds:L.length*10-r.length,pendingAdmissions:i(3,8),expectedDischarges:i(5,12)},careRequirements:{criticalCare:r.filter(o=>o.status==="Critical").length,telemetry:r.filter(o=>o.status==="Guarded").length,isolation:i(3,8),specialEquipment:i(5,12)},acuityStatus:{critical:r.filter(o=>o.status==="Critical").length,guarded:r.filter(o=>o.status==="Guarded").length,stable:r.filter(o=>o.status==="Stable").length,total:r.length}},patients:r}},p=ae(),se=({vitalsHistory:a})=>{if(!(a!=null&&a.length))return null;const i=a.map(s=>({month:new Date(s.time).toLocaleTimeString(),"Heart Rate":s.hr,"O2 Saturation":s.o2sat,"Respiratory Rate":s.rr}));return e.jsx("div",{className:"h-64",children:e.jsx(K,{data:i,height:256,ariaLabel:"Vital signs trend chart showing heart rate, oxygen saturation, and respiratory rate"})})},te=({patient:a})=>{if(!a)return null;const s=(t=>{const n=new Date(t),l=Math.abs(new Date-n),o=Math.floor(l/(1e3*60*60*24)),m=Math.floor(l%(1e3*60*60*24)/(1e3*60*60));return{days:o,hours:m}})(a.admitDate),c=({icon:t,label:n,value:r})=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-full",children:e.jsx(x,{icon:t,className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:n}),e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r})]})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsx(d.Title,{children:"Quick Stats"})}),e.jsx(d.Content,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{icon:"heroicons:clock",label:"Length of Stay",value:`${s.days}d ${s.hours}h`}),e.jsx(c,{icon:"heroicons:calendar",label:"Admission Date",value:new Date(a.admitDate).toLocaleDateString()}),a.clinicalStatus.isolationStatus&&e.jsx(c,{icon:"heroicons:exclamation-triangle",label:"Isolation Status",value:a.clinicalStatus.isolationStatus}),e.jsx(c,{icon:"heroicons:heart",label:"Care Level",value:a.careJourney.careLevel})]})})]})},re=({teamCommunication:a})=>{if(!(a!=null&&a.length))return null;const i=c=>{switch(c){case"Clinical":return"heroicons:heart";case"Care Coordination":return"heroicons:users";case"Family Communication":return"heroicons:chat-bubble-left-right";default:return"heroicons:document-text"}},s=({activity:c})=>e.jsx("div",{className:"relative pb-8",children:e.jsxs("div",{className:"relative flex items-start space-x-3",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center ring-8 ring-white dark:ring-gray-800",children:e.jsx(x,{icon:i(c.category),className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.author})}),e.jsx("p",{className:"mt-0.5 text-sm text-gray-500 dark:text-gray-400",children:new Date(c.timestamp).toLocaleString()})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:e.jsx("p",{children:c.message})}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",children:c.category})})]})]})});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsx(d.Title,{children:"Care Team Activity"})}),e.jsx(d.Content,{children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:a.sort((c,t)=>new Date(t.timestamp)-new Date(c.timestamp)).map((c,t)=>e.jsx("li",{children:e.jsx(s,{activity:c})},c.id||t))})})})]})},ie=({medications:a})=>{if(!(a!=null&&a.length))return null;const i=t=>{switch(t){case"PO":return"heroicons:pill";case"IV":return"heroicons:beaker";case"IM":return"heroicons:syringe";case"SC":return"heroicons:arrow-down-circle";default:return"heroicons:variable"}},s=t=>{switch(t){case"PO":return"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900";case"IV":return"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900";case"IM":return"text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900";case"SC":return"text-orange-600 dark:text-orange-400 bg-orange-100 dark:bg-orange-900";default:return"text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-900"}},c=({med:t})=>e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 last:border-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-full ${s(t.route)}`,children:e.jsx(x,{icon:i(t.route),className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.medication}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.dose," - ",t.route]})]})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(t.time).toLocaleTimeString()})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Recent Medications"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Last 24 hours"})]})}),e.jsxs(d.Content,{children:[e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.sort((t,n)=>new Date(n.time)-new Date(t.time)).map((t,n)=>e.jsx(c,{med:t},n))}),a.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No medications administered in the last 24 hours"})]})]})},ne=({goals:a})=>{if(!(a!=null&&a.length))return null;const i=t=>{switch(t){case"Achieved":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"In Progress":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"Modified":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200";default:return"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"}},s=t=>{switch(t){case"Achieved":return 100;case"In Progress":return 50;case"Modified":return 75;default:return 0}},c=({goal:t})=>{const n=s(t.status);return e.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.description}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Target: ",new Date(t.target).toLocaleDateString()]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(t.status)}`,children:t.status})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-600 dark:bg-indigo-400 rounded-full h-2 transition-all duration-300",style:{width:`${n}%`}})})}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:[n,"%"]})]})}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:pencil-square",className:"w-4 h-4"}),"Update Progress"]}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:chat-bubble-left-ellipsis",className:"w-4 h-4"}),"Add Note"]})]})]})};return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Care Goals"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Add Goal"]})]})}),e.jsx(d.Content,{children:e.jsx("div",{className:"space-y-4",children:a.map((t,n)=>e.jsx(c,{goal:t},t.id||n))})})]})},le=({interventions:a})=>{if(!(a!=null&&a.length))return null;const i=t=>{switch(t){case"Completed":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"Scheduled":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";default:return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"}},s=t=>{switch(t){case"Procedure":return"heroicons:heart";case"Therapy":return"heroicons:hand-raised";case"Consultation":return"heroicons:user-group";default:return"heroicons:clipboard-document-list"}},c=({intervention:t})=>e.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("div",{className:`p-2 rounded-full ${i(t.status)} bg-opacity-20`,children:e.jsx(x,{icon:s(t.type),className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.type})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(x,{icon:"heroicons:clock",className:"w-4 h-4"}),new Date(t.scheduledTime).toLocaleString()]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:check-circle",className:"w-4 h-4"}),"Mark Complete"]}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:calendar",className:"w-4 h-4"}),"Reschedule"]}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:chat-bubble-left-ellipsis",className:"w-4 h-4"}),"Add Note"]})]})]})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Interventions & Procedures"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Add Intervention"]})]})}),e.jsxs(d.Content,{children:[e.jsx("div",{className:"space-y-4",children:a.map((t,n)=>e.jsx(c,{intervention:t},n))}),a.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No interventions scheduled"})]})]})},ce=({preferences:a})=>{if(!a)return null;const i=({icon:c,label:t,value:n,editable:r=!0})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-full",children:e.jsx(x,{icon:c,className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:n})]})]}),r&&e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:e.jsx(x,{icon:"heroicons:pencil-square",className:"w-5 h-5"})})]}),s=({restriction:c})=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:[e.jsx(x,{icon:"heroicons:exclamation-triangle",className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:c})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Patient Preferences"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Add Preference"]})]})}),e.jsx(d.Content,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{icon:"heroicons:cake",label:"Dietary Preference",value:a.diet}),e.jsx(i,{icon:"heroicons:user-group",label:"Communication",value:a.communication}),e.jsx(i,{icon:"heroicons:arrow-path",label:"Mobility Preference",value:a.mobility})]})})]}),e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Restrictions & Precautions"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Add Restriction"]})]})}),e.jsx(d.Content,{children:e.jsx("div",{className:"space-y-2",children:["NPO after midnight","Fall precautions","No blood products"].map((c,t)=>e.jsx(s,{restriction:c},t))})})]}),e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsx(d.Title,{children:"Special Instructions"})}),e.jsxs(d.Content,{children:[e.jsx("textarea",{rows:"4",className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add any special instructions or notes..."}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]})]})]})},de=({onApplyTemplate:a})=>{const i=[{category:"Clinical",items:[{title:"Vital Signs Q4H",priority:"High",assignee:"Primary Nurse"},{title:"Daily Weight",priority:"Medium",assignee:"Primary Nurse"},{title:"Pain Assessment",priority:"High",assignee:"Primary Nurse"},{title:"Medication Review",priority:"High",assignee:"Clinical Pharmacist"}]},{category:"Therapy",items:[{title:"PT Evaluation",priority:"Medium",assignee:"Physical Therapy"},{title:"OT Evaluation",priority:"Medium",assignee:"Occupational Therapy"},{title:"Speech Therapy Consult",priority:"Medium",assignee:"Speech Therapy"}]},{category:"Care Coordination",items:[{title:"Family Meeting",priority:"Medium",assignee:"Care Coordinator"},{title:"Discharge Planning",priority:"High",assignee:"Care Coordinator"},{title:"Insurance Authorization",priority:"High",assignee:"Case Manager"}]}],s=t=>{switch(t.toLowerCase()){case"high":return"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900";case"medium":return"text-yellow-600 dark:text-yellow-400 bg-yellow-100 dark:bg-yellow-900";default:return"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900"}},c=({template:t})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Assigned to: ",t.assignee]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s(t.priority)}`,children:t.priority}),e.jsx("button",{onClick:()=>a==null?void 0:a(t),className:"p-1 text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300",children:e.jsx(x,{icon:"heroicons:plus-circle",className:"w-5 h-5"})})]})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Task Templates"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Create Template"]})]})}),e.jsx(d.Content,{children:e.jsx("div",{className:"space-y-6",children:i.map((t,n)=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:t.category}),e.jsx("div",{className:"space-y-2",children:t.items.map((r,l)=>e.jsx(c,{template:r},l))})]},n))})})]})},oe=({tasks:a})=>{if(!(a!=null&&a.length))return null;const s=(()=>{const t={urgent_important:[],not_urgent_important:[],urgent_not_important:[],not_urgent_not_important:[]};return a.forEach(n=>{const r=new Date(n.dueDate)-new Date<864e5,l=n.priority==="High";r&&l?t.urgent_important.push(n):!r&&l?t.not_urgent_important.push(n):r&&!l?t.urgent_not_important.push(n):t.not_urgent_not_important.push(n)}),t})(),c=({title:t,tasks:n,bgColor:r,icon:l})=>e.jsxs("div",{className:`${r} p-4 rounded-lg`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(x,{icon:l,className:"w-5 h-5"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:t}),e.jsxs("span",{className:"ml-auto text-sm text-gray-500 dark:text-gray-400",children:[n.length," tasks"]})]}),e.jsx("div",{className:"space-y-2",children:n.map((o,m)=>e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:o.text}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Assigned to: ",o.assignedTo]})]}),e.jsx("input",{type:"checkbox",checked:o.completed,onChange:()=>{},className:"rounded border-gray-300 dark:border-gray-600 text-indigo-600 focus:ring-indigo-500 h-4 w-4"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(x,{icon:"heroicons:clock",className:"w-4 h-4"}),"Due: ",new Date(o.dueDate).toLocaleString()]})]},o.id||m))})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsx(d.Title,{children:"Task Priority Matrix"})}),e.jsx(d.Content,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{title:"Urgent & Important",tasks:s.urgent_important,bgColor:"bg-red-50 dark:bg-red-900/20",icon:"heroicons:exclamation-circle"}),e.jsx(c,{title:"Important, Not Urgent",tasks:s.not_urgent_important,bgColor:"bg-yellow-50 dark:bg-yellow-900/20",icon:"heroicons:clock"}),e.jsx(c,{title:"Urgent, Not Important",tasks:s.urgent_not_important,bgColor:"bg-blue-50 dark:bg-blue-900/20",icon:"heroicons:bell-alert"}),e.jsx(c,{title:"Not Urgent or Important",tasks:s.not_urgent_not_important,bgColor:"bg-green-50 dark:bg-green-900/20",icon:"heroicons:calendar"})]})})]})},he=({tasks:a})=>{if(!(a!=null&&a.length))return null;const i=a.filter(r=>r.completed).sort((r,l)=>new Date(l.completedAt||l.dueDate)-new Date(r.completedAt||r.dueDate)),s=r=>{switch(r==null?void 0:r.toLowerCase()){case"clinical":return"heroicons:heart";case"therapy":return"heroicons:hand-raised";case"administrative":return"heroicons:document-text";case"ancillary":return"heroicons:beaker";default:return"heroicons:clipboard-document-list"}},c=r=>{switch(r==null?void 0:r.toLowerCase()){case"high":return"text-red-600 dark:text-red-400";case"medium":return"text-yellow-600 dark:text-yellow-400";default:return"text-green-600 dark:text-green-400"}},t=({task:r})=>e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-full",children:e.jsx(x,{icon:s(r.category),className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.text}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Completed by: ",r.assignedTo]})]}),e.jsx("span",{className:`text-sm font-medium ${c(r.priority)}`,children:r.priority})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsxs("span",{className:"inline-flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(x,{icon:"heroicons:clock",className:"w-4 h-4 mr-1"}),"Completed: ",new Date(r.completedAt||r.dueDate).toLocaleString()]}),e.jsxs("span",{className:"inline-flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(x,{icon:"heroicons:tag",className:"w-4 h-4 mr-1"}),r.category]})]})]})]}),n=()=>{const r=a.length,l=i.length,o=l/r*100;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Tasks"}),e.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:r})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:l})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completion Rate"}),e.jsxs("div",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:[o.toFixed(1),"%"]})]})]})};return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsx(d.Title,{children:"Task Completion History"})}),e.jsxs(d.Content,{children:[e.jsx(n,{}),e.jsxs("div",{className:"space-y-4",children:[i.map((r,l)=>e.jsx(t,{task:r},r.id||l)),i.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No completed tasks yet"})]})]})]})},xe=({requirements:a})=>{if(!a)return null;const s=(()=>{var u,y;let r=0,l=0;const o=Object.values(a.clinicalCriteria);r+=o.length,l+=o.filter(Boolean).length,r+=1,a.transportation.arranged&&(l+=1);const m=Object.values(a.instructions);return r+=m.length,l+=m.filter(Boolean).length,a.alternativePathways&&((u=a.alternativePathways.hospitalAtHome)!=null&&u.isEligible&&(r+=1,a.alternativePathways.hospitalAtHome.hasConsented&&(l+=1)),(y=a.alternativePathways.cadArena)!=null&&y.isEligible&&(r+=2,a.alternativePathways.cadArena.hasConsented&&(l+=1),a.alternativePathways.cadArena.preferredUnit&&(l+=1))),{score:Math.round(l/r*100),completed:l,total:r}})(),c=r=>r>=80?"text-green-600 dark:text-green-400":r>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",t=({title:r,items:l,icon:o})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{icon:o,className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:r})]}),e.jsx("div",{className:"space-y-2 ml-7",children:Object.entries(l).map(([m,u])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${u?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-600"}`,children:e.jsx(x,{icon:u?"heroicons:check":"heroicons:minus-small",className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.split(/(?=[A-Z])/).join(" ")})]},m))})]}),n=({pathway:r,title:l,icon:o})=>r!=null&&r.isEligible?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${r.hasConsented?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400"}`,children:e.jsx(x,{icon:o,className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:l}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.hasConsented?"Patient has consented":"Awaiting patient consent"})]})]}),r.preferredUnit&&e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Unit: ",r.preferredUnit]})]}):null;return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Discharge Readiness"}),e.jsxs("div",{className:`text-2xl font-bold ${c(s.score)}`,children:[s.score,"%"]})]})}),e.jsxs(d.Content,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${s.score>=80?"bg-green-500":s.score>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.score}%`}})}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 text-center",children:[s.completed," of ",s.total," criteria met"]})]}),e.jsxs("div",{className:"space-y-6",children:[a.alternativePathways&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Alternative Pathways"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{pathway:a.alternativePathways.hospitalAtHome,title:"Hospital at Home",icon:"heroicons:home"}),e.jsx(n,{pathway:a.alternativePathways.cadArena,title:"CAD Arena",icon:"heroicons:building-office-2"})]})]}),e.jsx(t,{title:"Clinical Criteria",items:a.clinicalCriteria,icon:"heroicons:heart"}),e.jsx(t,{title:"Patient Instructions",items:a.instructions,icon:"heroicons:document-text"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{icon:"heroicons:truck",className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Transportation"})]}),e.jsxs("div",{className:"ml-7 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${a.transportation.arranged?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-600"}`,children:e.jsx(x,{icon:a.transportation.arranged?"heroicons:check":"heroicons:minus-small",className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[a.transportation.arranged?"Arranged":"Not Arranged",a.transportation.type&&` (${a.transportation.type})`]})]}),a.transportation.notes&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 ml-7",children:a.transportation.notes})]})]})]})]})]})},me=({milestones:a})=>{if(!(a!=null&&a.length))return null;const i=t=>{switch(t){case"admission":return"heroicons:user-plus";case"discharge":return"heroicons:arrow-right-on-rectangle";default:return"heroicons:flag"}},s=t=>{switch(t){case"admission":return"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400";case"discharge":return"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400";default:return"bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-400"}},c=({milestone:t,isLast:n})=>e.jsxs("div",{className:"relative pb-8",children:[!n&&e.jsx("span",{className:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}),e.jsxs("div",{className:"relative flex items-start space-x-3",children:[e.jsx("div",{className:`relative ${t.isAlert?"animate-pulse":""}`,children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 ${s(t.type)}`,children:e.jsx(x,{icon:i(t.type),className:"h-5 w-5"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title}),t.isAnticipated&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",children:"Anticipated"})]}),e.jsxs("p",{className:"mt-0.5 text-sm text-gray-500 dark:text-gray-400",children:[t.date," at ",t.time]})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:e.jsx("p",{children:t.description})}),t.isAlert&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-600 dark:text-red-400",children:[e.jsx(x,{icon:"heroicons:exclamation-circle",className:"h-4 w-4"}),"Requires attention"]})})]}),e.jsx("div",{className:"flex-shrink-0 self-center",children:e.jsx("button",{className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:e.jsx(x,{icon:"heroicons:pencil-square",className:"h-5 w-5"})})})]})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Discharge Timeline"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Add Milestone"]})]})}),e.jsx(d.Content,{children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:a.map((t,n)=>e.jsx("li",{children:e.jsx(c,{milestone:t,isLast:n===a.length-1})},t.id))})})})]})},ge=({requirements:a})=>{if(!a)return null;const i=({title:s,icon:c,items:t,scheduled:n})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-full",children:e.jsx(x,{icon:c,className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:s})]}),n!==void 0&&e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"}`,children:n?"Scheduled":"Pending"})]}),e.jsxs("div",{className:"ml-9 space-y-2",children:[t.map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:r.specialty||r}),r.timeframe&&e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Within ",r.timeframe]})]}),r.scheduled!==void 0&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${r.scheduled?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:[e.jsx(x,{icon:r.scheduled?"heroicons:check-circle":"heroicons:clock",className:"w-5 h-5"}),r.scheduled?"Confirmed":"Pending"]})]},l)),t.length===0&&e.jsx("div",{className:"text-center py-3 text-gray-500 dark:text-gray-400",children:"No requirements specified"})]})]});return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(d.Title,{children:"Post-Discharge Requirements"}),e.jsxs("button",{className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:plus",className:"w-4 h-4"}),"Add Requirement"]})]})}),e.jsx(d.Content,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(i,{title:"Follow-up Appointments",icon:"heroicons:calendar",items:a.followUp}),e.jsx(i,{title:"Medical Equipment",icon:"heroicons:cube",items:a.equipment}),e.jsx(i,{title:"Home Care Services",icon:"heroicons:home",items:a.services}),a.caregiverInfo&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-full",children:e.jsx(x,{icon:"heroicons:users",className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Caregiver Information"})]}),e.jsx("div",{className:"ml-9 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.caregiverInfo.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Relationship"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.caregiverInfo.relationship})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.caregiverInfo.phone})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Education Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{icon:a.caregiverInfo.educated?"heroicons:check-circle":"heroicons:x-circle",className:`w-5 h-5 ${a.caregiverInfo.educated?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.caregiverInfo.educated?"Completed":"Pending"})]})]})]})})]})]})})]})},G=({title:a,icon:i,description:s,isEligible:c,hasConsented:t,eligibilityNotes:n,assessedBy:r,assessedAt:l,onUpdateEligibility:o,onUpdateConsent:m,onUpdateNotes:u,additionalFields:y=null})=>{const[C]=z();return e.jsxs("div",{className:`p-4 rounded-lg border ${C?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${c?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:e.jsx(x,{icon:i,className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`${a}-eligible`,checked:c,onChange:j=>o(j.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-indigo-600 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:`${a}-eligible`,className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Eligible"})]}),c&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`${a}-consent`,checked:t,onChange:j=>m(j.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-indigo-600 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:`${a}-consent`,className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Patient Consented"})]})]}),y,e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-notes`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assessment Notes"}),e.jsx("textarea",{id:`${a}-notes`,value:n,onChange:j=>u(j.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-100",placeholder:"Enter assessment details..."})]}),(r||l)&&e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last assessed by ",r," at ",new Date(l).toLocaleString()]})]})]})},ue=({alternativePathways:a,onUpdatePathways:i,availableUnits:s=[]})=>{const c=n=>{i({...a,hospitalAtHome:{...a.hospitalAtHome,...n,assessedAt:new Date().toISOString()}})},t=n=>{i({...a,cadArena:{...a.cadArena,...n,assessedAt:new Date().toISOString()}})};return e.jsxs(d,{children:[e.jsx(d.Header,{children:e.jsx(d.Title,{children:"Alternative Care Pathways"})}),e.jsx(d.Content,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(G,{title:"Hospital at Home",icon:"heroicons:home",description:"Eligible patients can receive hospital-level care in their home environment with remote monitoring and regular clinical visits.",isEligible:a.hospitalAtHome.isEligible,hasConsented:a.hospitalAtHome.hasConsented,eligibilityNotes:a.hospitalAtHome.eligibilityNotes,assessedBy:a.hospitalAtHome.assessedBy,assessedAt:a.hospitalAtHome.assessedAt,onUpdateEligibility:n=>c({isEligible:n}),onUpdateConsent:n=>c({hasConsented:n}),onUpdateNotes:n=>c({eligibilityNotes:n})}),e.jsx(G,{title:"Care After Discharge (CAD) Arena",icon:"heroicons:building-office-2",description:"Patients awaiting final discharge arrangements can be transferred to a dedicated CAD unit to optimize bed utilization.",isEligible:a.cadArena.isEligible,hasConsented:a.cadArena.hasConsented,eligibilityNotes:a.cadArena.eligibilityNotes,assessedBy:a.cadArena.assessedBy,assessedAt:a.cadArena.assessedAt,onUpdateEligibility:n=>t({isEligible:n}),onUpdateConsent:n=>t({hasConsented:n}),onUpdateNotes:n=>t({eligibilityNotes:n}),additionalFields:a.cadArena.isEligible&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"preferred-unit",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preferred CAD Unit"}),e.jsxs("select",{id:"preferred-unit",value:a.cadArena.preferredUnit||"",onChange:n=>t({preferredUnit:n.target.value}),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"Select a unit"}),s.map(n=>e.jsx("option",{value:n,children:n},n))]})]})})]})})]})},ye=({isOpen:a,onClose:i,patient:s,onSave:c})=>{var _,F,W,J;const[t]=z(),[n,r]=f.useState("overview"),[l,o]=f.useState([]),[m,u]=f.useState(""),[y,C]=f.useState([]),[j,b]=f.useState(""),[w,I]=f.useState({responsiblePerson:"",targetTime:"",predictedBy2PM:"No",estimatedDischargeDate:""}),[v,h]=f.useState({vitalTrend:"",painLevel:0,lastAssessment:""}),[N,S]=f.useState({clinicalCriteria:{vitalsSatisfied:!1,medicationReconciled:!1,followUpScheduled:!1},transportation:{arranged:!1,type:"",notes:""},instructions:{medicationReviewed:!1,dietaryReviewed:!1,followUpReviewed:!1}});f.useEffect(()=>{s&&(o(s.tasks||[]),C(s.dischargePlan.dischargeBarriers||[]),I(s.dischargePlan),h(s.clinicalStatus),S(s.dischargeRequirements))},[s]);const E=()=>{m.trim()&&(o([...l,{id:Date.now(),text:m.trim(),completed:!1,category:"Clinical",priority:"Medium",assignedTo:s==null?void 0:s.assignedNurse,dueDate:new Date(Date.now()+24*60*60*1e3).toISOString()}]),u(""))},D=()=>{j.trim()&&(C([...y,j.trim()]),b(""))},H=g=>{C(y.filter((k,O)=>O!==g))},B=()=>{c({tasks:l,dischargePlan:{...w,dischargeBarriers:y},clinicalStatus:v,dischargeRequirements:N,timestamp:new Date().toISOString()}),i()},R=({id:g,label:k,icon:O})=>e.jsxs("button",{className:`flex items-center gap-2 px-4 py-2 rounded-t-lg ${n===g?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>r(g),children:[e.jsx(x,{icon:O,className:"w-5 h-5"}),k]}),U=({label:g,status:k,color:O})=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${O}`,children:[g,": ",k]});return a?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 transition-opacity"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:`relative w-full max-w-6xl ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl transform transition-all`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{icon:"heroicons:document-text",className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:["Status Update",s&&e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400 ml-2",children:[s.name," - Room ",s.room]})]})]}),e.jsxs("button",{onClick:i,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(x,{icon:"heroicons:x-mark",className:"w-6 h-6"})]})]}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx(U,{label:"Mobility",status:s==null?void 0:s.careJourney.mobility,color:"bg-healthcare-success/20 text-healthcare-success"}),e.jsx(U,{label:"Care Level",status:s==null?void 0:s.careJourney.phase,color:"bg-healthcare-primary/20 text-healthcare-primary"}),e.jsx(U,{label:"Vital Trend",status:v.vitalTrend,color:"bg-healthcare-warning/20 text-healthcare-warning"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx(R,{id:"overview",label:"Overview",icon:"heroicons:chart-bar"}),e.jsx(R,{id:"carePlan",label:"Care Plan",icon:"heroicons:clipboard-document-check"}),e.jsx(R,{id:"tasks",label:"Tasks & Services",icon:"heroicons:clipboard-document-list"}),e.jsx(R,{id:"discharge",label:"Discharge Planning",icon:"heroicons:arrow-right-on-rectangle"}),e.jsx(R,{id:"barriers",label:"Barriers & Notes",icon:"heroicons:exclamation-triangle"})]}),e.jsxs("div",{className:"space-y-6",children:[n==="discharge"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(ue,{alternativePathways:s==null?void 0:s.dischargePlan.alternativePathways,onUpdatePathways:g=>{I(k=>({...k,alternativePathways:g}))},availableUnits:L}),e.jsx(xe,{requirements:{...s==null?void 0:s.dischargeRequirements,alternativePathways:s==null?void 0:s.dischargePlan.alternativePathways}}),e.jsx(ge,{requirements:s==null?void 0:s.dischargePlan.postDischargeNeeds}),e.jsx(me,{milestones:[...s==null?void 0:s.dischargePlan.journeyMilestones,...(F=(_=s==null?void 0:s.dischargePlan.alternativePathways)==null?void 0:_.hospitalAtHome)!=null&&F.isEligible?[{id:"hah-assessment",type:"milestone",title:"Hospital at Home Assessment",time:new Date(s==null?void 0:s.dischargePlan.alternativePathways.hospitalAtHome.assessedAt).toLocaleTimeString(),date:new Date(s==null?void 0:s.dischargePlan.alternativePathways.hospitalAtHome.assessedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}),description:`Assessed by ${s==null?void 0:s.dischargePlan.alternativePathways.hospitalAtHome.assessedBy}`,isAlert:!(s!=null&&s.dischargePlan.alternativePathways.hospitalAtHome.hasConsented)}]:[],...(J=(W=s==null?void 0:s.dischargePlan.alternativePathways)==null?void 0:W.cadArena)!=null&&J.isEligible?[{id:"cad-assessment",type:"milestone",title:"CAD Arena Assessment",time:new Date(s==null?void 0:s.dischargePlan.alternativePathways.cadArena.assessedAt).toLocaleTimeString(),date:new Date(s==null?void 0:s.dischargePlan.alternativePathways.cadArena.assessedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}),description:`Assessed by ${s==null?void 0:s.dischargePlan.alternativePathways.cadArena.assessedBy}${s!=null&&s.dischargePlan.alternativePathways.cadArena.preferredUnit?` - Preferred Unit: ${s==null?void 0:s.dischargePlan.alternativePathways.cadArena.preferredUnit}`:""}`,isAlert:!(s!=null&&s.dischargePlan.alternativePathways.cadArena.hasConsented)}]:[]].filter(Boolean)})]}),n==="tasks"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(de,{onApplyTemplate:g=>{u(g.title),E()}}),e.jsx(oe,{tasks:l}),e.jsx(he,{tasks:l})]}),n==="carePlan"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(ne,{goals:s==null?void 0:s.carePlan.goals}),e.jsx(le,{interventions:s==null?void 0:s.carePlan.interventions}),e.jsx(ce,{preferences:s==null?void 0:s.carePlan.preferences})]}),n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(se,{vitalsHistory:s==null?void 0:s.clinicalStatus.vitalsHistory}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(te,{patient:s}),e.jsx(ie,{medications:s==null?void 0:s.clinicalStatus.medicationAdministration})]}),e.jsx(re,{teamCommunication:s==null?void 0:s.teamCommunication})]}),n==="barriers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:"Add New Barrier"})}),e.jsx(M,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:j,onChange:g=>b(g.target.value),onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),D())},placeholder:"Describe the barrier...",className:"flex-1 rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsxs("select",{className:"w-40 rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"Clinical",children:"Clinical"}),e.jsx("option",{value:"Social",children:"Social"}),e.jsx("option",{value:"Administrative",children:"Administrative"}),e.jsx("option",{value:"Environmental",children:"Environmental"})]}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Barrier"})]})})]}),e.jsxs(A,{children:[e.jsx(P,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(T,{children:"Active Barriers"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," identified"]})]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[y.map((g,k)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:g}),e.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"Requires Action"}),e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:["Added ",new Date().toLocaleDateString()]})]})]}),e.jsx("button",{onClick:()=>H(k),className:"ml-4 text-gray-400 hover:text-gray-500",children:e.jsx(x,{icon:"heroicons:x-mark",className:"w-5 h-5"})})]},k)),y.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500",children:"No barriers identified"})]})})]}),e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:"Resolution History"})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:[{barrier:"Pending physical therapy evaluation",resolvedBy:"Dr. Smith",resolvedAt:"2024-02-07T14:30:00",resolution:"PT evaluation completed and cleared for discharge"},{barrier:"Insurance authorization pending",resolvedBy:"Jane Wilson",resolvedAt:"2024-02-07T11:15:00",resolution:"Authorization received for skilled nursing facility"}].map((g,k)=>e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900 dark:text-green-100",children:g.barrier}),e.jsx("div",{className:"mt-1 text-sm text-green-800 dark:text-green-200",children:g.resolution})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 rounded-full text-xs",children:"Resolved"})]}),e.jsxs("div",{className:"mt-2 text-xs text-green-700 dark:text-green-300",children:["Resolved by ",g.resolvedBy,"  ",new Date(g.resolvedAt).toLocaleString()]})]},k))})})]}),e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:"Team Communication"})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("textarea",{rows:"4",placeholder:"Add notes about barrier resolution efforts...",className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.teamCommunication.filter(g=>g.category==="Barrier Resolution").map(g=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:g.author}),e.jsx("span",{className:"text-gray-500",children:new Date(g.timestamp).toLocaleString()})]}),e.jsx("div",{className:"mt-2",children:g.message})]},g.id))})]})})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleTimeString()]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{onClick:B,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save Changes"})]})]})]})})]}):null},je=({patient:a,onClick:i})=>{const c=(()=>{const r=new Date,l=new Date(a.admitDate),o=new Date(a.dischargePlan.estimatedDischargeDate),m=Math.ceil((o-l)/(1e3*60*60*24)),y=Math.ceil((r-l)/(1e3*60*60*24))/m*100;return y<25?{phase:"Initial Assessment",icon:"clipboard-document-check",color:"text-healthcare-info"}:y<50?{phase:"Treatment",icon:"heart",color:"text-healthcare-warning"}:y<75?{phase:"Recovery",icon:"arrow-trending-up",color:"text-healthcare-success"}:{phase:"Discharge Planning",icon:"arrow-right-on-rectangle",color:"text-healthcare-success"}})(),t=Math.ceil((new Date(a.dischargePlan.estimatedDischargeDate)-new Date)/(1e3*60*60*24)),n=Math.min((new Date-new Date(a.admitDate))/(1e3*60*60*24)/7*100,100);return e.jsxs("div",{className:"flex flex-col space-y-3",role:"region","aria-label":"Care journey summary",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{icon:`heroicons:${c.icon}`,className:`w-5 h-5 ${c.color} dark:${c.color}-dark`,"aria-hidden":"true"}),e.jsx("span",{className:"font-medium text-sm text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:c.phase})]}),e.jsxs("div",{className:"relative h-12 bg-healthcare-background/50 dark:bg-healthcare-background-dark/50 rounded-full shadow-sm overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-healthcare-info/10 via-healthcare-warning/10 to-healthcare-success/10 dark:from-healthcare-info-dark/10 dark:via-healthcare-warning-dark/10 dark:to-healthcare-success-dark/10"}),e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-healthcare-info via-healthcare-warning to-healthcare-success dark:from-healthcare-info-dark dark:via-healthcare-warning-dark dark:to-healthcare-success-dark opacity-20",style:{width:`${n}%`,transition:"width 0.5s ease-in-out"}}),e.jsx("div",{className:"absolute inset-0 flex justify-between items-center px-4",children:["Initial","Treatment","Recovery","Discharge"].map((r,l)=>e.jsxs("div",{className:`flex flex-col items-center ${n>=l*33.33?"text-healthcare-text-primary dark:text-healthcare-text-primary-dark":"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark"}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),e.jsx("span",{className:"text-xs mt-1",children:r})]},r))})]}),e.jsxs("div",{className:"flex justify-between text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsxs("span",{children:["Admitted ",new Date(a.admitDate).toLocaleDateString()]}),e.jsxs("span",{children:[t," days until discharge"]})]}),e.jsxs("button",{onClick:i,className:"healthcare-button-secondary mt-2 text-sm flex items-center gap-1 justify-center w-full","aria-label":"View detailed care journey",children:[e.jsx(x,{icon:"heroicons:eye",className:"w-4 h-4","aria-hidden":"true"}),"View Journey"]})]})},fe=({patient:a})=>{var n,r;const i=((n=a==null?void 0:a.dischargePlan)==null?void 0:n.journeyMilestones)||[],s={name:(a==null?void 0:a.name)||"John Doe",mrn:(a==null?void 0:a.mrn)||"123456",diagnosis:(a==null?void 0:a.diagnosis)||"Congestive Heart Failure Exacerbation",admitDate:a!=null&&a.admitDate?new Date(a.admitDate).toLocaleDateString():"June 1, 2024",anticipatedDischarge:(r=a==null?void 0:a.dischargePlan)!=null&&r.estimatedDischargeDate?new Date(a.dischargePlan.estimatedDischargeDate).toLocaleDateString():"June 4, 2024"},c=()=>{if(!(a!=null&&a.admitDate))return 0;const l=new Date(a.admitDate),m=Math.abs(new Date-l);return Math.ceil(m/(1e3*60*60*24))},t=(l,o,m)=>{if(o)return"text-healthcare-critical dark:text-healthcare-critical-dark";if(m)return"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark";switch(l){case"admission":return"text-healthcare-info dark:text-healthcare-info-dark";case"milestone":return"text-healthcare-warning dark:text-healthcare-warning-dark";case"discharge":return"text-healthcare-success dark:text-healthcare-success-dark";default:return"text-healthcare-text-primary dark:text-healthcare-text-primary-dark"}};return e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:s.name}),e.jsxs("p",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mt-1",children:["MRN: ",s.mrn," | Primary Diagnosis: ",s.diagnosis]})]}),e.jsxs("div",{className:"flex gap-4 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:calendar",className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["LOS: ",c()," days"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{icon:"heroicons:clock",className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Updated: 2 hrs ago"})]})]})]}),e.jsx("div",{className:"relative bg-healthcare-surface-secondary dark:bg-healthcare-surface-secondary-dark rounded-2xl p-8 mt-4",children:e.jsxs("div",{className:"relative min-h-[160px] bg-healthcare-background/50 dark:bg-healthcare-background-dark/50 rounded-full p-6 shadow-md",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full bg-gradient-to-r from-healthcare-info/20 via-healthcare-warning/20 to-healthcare-success/20 dark:from-healthcare-info-dark/20 dark:via-healthcare-warning-dark/20 dark:to-healthcare-success-dark/20",style:{width:`${Math.min((new Date-new Date(a==null?void 0:a.admitDate))/(1e3*60*60*24)/7*100,100)}%`,transition:"width 0.5s ease-in-out"}}),e.jsx("div",{className:"relative flex justify-between items-center",role:"list","aria-label":"Care journey timeline",children:i.map((l,o)=>e.jsxs("div",{className:"relative flex flex-col items-center min-w-[120px]",role:"listitem","aria-label":`${l.title} - ${l.description}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-healthcare-surface dark:bg-healthcare-surface-dark rounded-full blur-[2px] opacity-50"}),e.jsx("div",{className:"relative z-10 p-2",children:l.isAlert?e.jsx(x,{icon:"heroicons:exclamation-circle",className:`w-8 h-8 ${t(l.type,l.isAlert,l.isAnticipated)}`,"aria-label":"Alert"}):e.jsx(x,{icon:"heroicons:circle",className:`w-8 h-8 ${t(l.type,l.isAlert,l.isAnticipated)}`,style:{fill:l.type==="milestone"?"transparent":"currentColor",stroke:"currentColor",strokeWidth:l.type==="milestone"?2:0},"aria-hidden":"true"})})]}),e.jsx("div",{className:`absolute w-32 ${o%2===0?"-top-20":"top-16"}`,"aria-hidden":!1,children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("span",{className:`font-semibold text-sm ${t(l.type,l.isAlert,l.isAnticipated)}`,children:l.title}),e.jsx("span",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:l.time}),e.jsx("span",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:l.date}),e.jsx("span",{className:"text-xs text-healthcare-text-tertiary dark:text-healthcare-text-tertiary-dark mt-1",children:l.description})]})}),o<i.length-1&&e.jsx("div",{className:"absolute top-1/2 left-[60px] right-0 h-px bg-healthcare-border dark:bg-healthcare-border-dark transform -translate-y-1/2"})]},l.id))})]})})]})},be=({isOpen:a,onClose:i,patient:s})=>{const c=f.useRef(null);if(f.useEffect(()=>{var l;if(!a)return;const r=o=>{o.key==="Escape"&&i()};return(l=c.current)==null||l.focus(),document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[a,i]),!a)return null;const t=()=>{if(!(s!=null&&s.admitDate))return 0;const r=new Date(s.admitDate),o=Math.abs(new Date-r);return Math.ceil(o/(1e3*60*60*24))},n=({label:r,value:l,color:o})=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o}`,children:[r,": ",l]});return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"modal-backdrop"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{ref:c,tabIndex:-1,className:"modal-content bg-healthcare-surface dark:bg-healthcare-surface-dark",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{icon:"heroicons:clock",className:"w-6 h-6 text-healthcare-primary dark:text-healthcare-primary-dark"}),e.jsxs("h2",{className:"text-xl font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:["Care Journey Timeline",s&&e.jsxs("span",{className:"text-sm font-normal text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark ml-2",children:[s.name," - Room ",s.room]})]})]}),e.jsx("button",{onClick:i,className:"healthcare-button-secondary","aria-label":"Close modal",children:e.jsx(x,{icon:"heroicons:x-mark",className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mt-4 flex gap-4",children:[e.jsx(n,{label:"LOS",value:`${t()} days`,color:"bg-healthcare-primary/20 text-healthcare-primary dark:text-healthcare-primary-dark"}),e.jsx(n,{label:"Care Level",value:s==null?void 0:s.careJourney.careLevel,color:"bg-healthcare-success/20 text-healthcare-success dark:text-healthcare-success-dark"}),e.jsx(n,{label:"Phase",value:s==null?void 0:s.careJourney.phase,color:"bg-healthcare-warning/20 text-healthcare-warning dark:text-healthcare-warning-dark"})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(fe,{patient:s})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Last updated: ",new Date().toLocaleTimeString()]}),e.jsx("button",{onClick:i,className:"healthcare-button-primary",children:"Close"})]})]})})]})},_e=()=>{const[a,i]=f.useState(p.patients),[s,c]=f.useState("All"),[t,n]=f.useState("All");f.useState({});const[r,l]=f.useState(!1),[o,m]=f.useState(!1),[u,y]=f.useState(null),C=Array.from(new Set(a.map(h=>h.unit))).sort(),j=Array.from(new Set(a.map(h=>h.service))).sort(),b=(h,N,S)=>{const E=a.map(D=>D.id===h?{...D,[N]:S,lastUpdate:new Date().toISOString()}:D);i(E)},w=h=>{if(u){const N=a.map(S=>S.id===u.id?{...S,tasks:h.tasks,dischargePlan:h.dischargePlan,clinicalStatus:h.clinicalStatus,dischargeRequirements:h.dischargeRequirements,carePlan:h.carePlan,teamCommunication:[...S.teamCommunication||[],...h.teamCommunication||[]],lastUpdate:h.timestamp}:S);i(N)}},I=h=>{switch(h.toLowerCase()){case"stable":return"bg-healthcare-success text-healthcare-success-content";case"guarded":return"bg-healthcare-warning text-healthcare-warning-content";case"critical":return"bg-healthcare-critical text-healthcare-critical-content";default:return"bg-healthcare-neutral text-healthcare-neutral-content"}},v=({value:h,onChange:N,type:S="text"})=>{const[E,D]=f.useState(!1),[H,B]=f.useState(h),R=()=>{D(!1),H!==h&&N(H)};return E?e.jsx("input",{type:S,className:"w-full p-1 border rounded focus:ring-2 focus:ring-healthcare-primary",value:H,onChange:U=>B(U.target.value),onBlur:R,autoFocus:!0}):e.jsx("div",{className:"cursor-pointer hover:bg-healthcare-background-hover dark:hover:bg-healthcare-background-hover-dark p-1 rounded",onClick:()=>D(!0),children:h})};return e.jsxs(Q,{title:"Service Huddle",subtitle:"Unit and departments patient management",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{icon:"heroicons:users",className:"w-5 h-5"}),e.jsx("span",{children:"Unit and Departments Dashboard"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{className:"w-48 border rounded-md px-3 py-2 focus:ring-2 focus:ring-healthcare-primary",value:s,onChange:h=>c(h.target.value),children:[e.jsx("option",{value:"All",children:"All Units"}),C.map(h=>e.jsx("option",{value:h,children:h},h))]}),e.jsxs("select",{className:"w-48 border rounded-md px-3 py-2 focus:ring-2 focus:ring-healthcare-primary",value:t,onChange:h=>n(h.target.value),children:[e.jsx("option",{value:"All",children:"All Services"}),j.map(h=>e.jsx("option",{value:h,children:h},h))]})]})]})})}),e.jsx(M,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"px-4 py-2 text-left bg-healthcare-background dark:bg-healthcare-background-dark",children:"Room"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Patient Info"}),e.jsx("th",{className:"px-4 py-2 text-left bg-healthcare-background dark:bg-healthcare-background-dark",children:"Care Journey"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Clinical Status"}),e.jsx("th",{className:"px-4 py-2 text-left bg-healthcare-background dark:bg-healthcare-background-dark",children:"Care Team"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:a.filter(h=>(s==="All"||h.unit===s)&&(t==="All"||h.service===t)).map(h=>e.jsxs("tr",{className:"border-b hover:bg-healthcare-background-hover dark:hover:bg-healthcare-background-hover-dark",children:[e.jsx("td",{className:"px-4 py-2 bg-healthcare-background dark:bg-healthcare-background-dark",children:e.jsx(v,{value:h.room,onChange:N=>b(h.id,"room",N)})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(v,{value:h.name,onChange:N=>b(h.id,"name",N)}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["MRN: ",h.mrn,e.jsx("br",{}),"Age: ",h.age,e.jsx("br",{}),"Admit:"," ",new Date(h.admitDate).toLocaleDateString()]})]})}),e.jsx("td",{className:"px-4 py-4 bg-healthcare-background dark:bg-healthcare-background-dark min-w-[250px]",children:e.jsx(je,{patient:h,onClick:()=>{y(h),m(!0)}})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${I(h.status)}`,children:h.status}),e.jsxs("div",{className:"text-sm",children:[e.jsx(v,{value:h.vitalSigns.bp,onChange:N=>b(h.id,"vitalSigns",{...h.vitalSigns,bp:N})}),e.jsx(v,{value:h.vitalSigns.o2sat,onChange:N=>b(h.id,"vitalSigns",{...h.vitalSigns,o2sat:N})})]})]})}),e.jsx("td",{className:"px-4 py-2 bg-healthcare-background dark:bg-healthcare-background-dark",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["Primary:"," ",h.primaryTeam]}),e.jsxs("div",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:["Consults:"," ",h.consultingServices.join(", ")]}),e.jsxs("div",{className:"text-sm",children:["Nurse:"," ",h.assignedNurse]})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("button",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-healthcare-primary text-healthcare-primary-content border border-healthcare-primary/20 rounded-md shadow-md hover:shadow-lg hover:scale-105 hover:bg-healthcare-primary-hover active:scale-95 focus:outline-none focus:ring-4 focus:ring-healthcare-primary/30 transition-all duration-200 group",onClick:()=>{y(h),l(!0)},children:[e.jsx(x,{icon:"heroicons:document-text",className:"w-6 h-6 group-hover:rotate-6 transition-transform duration-200"}),e.jsx("span",{children:"Status Update"})]})})]},h.id))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{icon:"heroicons:chart-bar",className:"w-5 h-5"}),e.jsx("span",{children:"Unit Metrics"})]})})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Occupancy"}),e.jsxs("span",{className:"font-semibold",children:[p.metrics.unitMetrics.occupancy,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Available Beds"}),e.jsx("span",{className:"font-semibold",children:p.metrics.unitMetrics.availableBeds})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Pending Admissions"}),e.jsx("span",{className:"font-semibold",children:p.metrics.unitMetrics.pendingAdmissions})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Expected Discharges"}),e.jsx("span",{className:"font-semibold",children:p.metrics.unitMetrics.expectedDischarges})]})]})})]}),e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{icon:"heroicons:clipboard-document-list",className:"w-5 h-5"}),e.jsx("span",{children:"Care Requirements"})]})})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Critical Care"}),e.jsx("span",{className:"font-semibold",children:p.metrics.careRequirements.criticalCare})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Telemetry"}),e.jsx("span",{className:"font-semibold",children:p.metrics.careRequirements.telemetry})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Isolation"}),e.jsx("span",{className:"font-semibold",children:p.metrics.careRequirements.isolation})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Special Equipment"}),e.jsx("span",{className:"font-semibold",children:p.metrics.careRequirements.specialEquipment})]})]})})]}),e.jsxs(A,{children:[e.jsx(P,{children:e.jsx(T,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{icon:"heroicons:heart",className:"w-5 h-5"}),e.jsx("span",{children:"Acuity Status"})]})})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Critical"}),e.jsx("span",{className:"font-semibold text-healthcare-critical",children:p.metrics.acuityStatus.critical})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Guarded"}),e.jsx("span",{className:"font-semibold text-healthcare-warning",children:p.metrics.acuityStatus.guarded})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Stable"}),e.jsx("span",{className:"font-semibold text-healthcare-success",children:p.metrics.acuityStatus.stable})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark",children:"Total Patients"}),e.jsx("span",{className:"font-semibold",children:p.metrics.acuityStatus.total})]})]})})]})]})]}),e.jsx(ye,{isOpen:r,onClose:()=>{l(!1),y(null)},patient:u,onSave:w}),e.jsx(be,{isOpen:o,onClose:()=>{m(!1),y(null)},patient:u})]})};export{_e as default};
