import{r as t,j as e,P as s}from"./app-DNCPaP7U.js";import{D}from"./ToggleSwitch-wWvkbsAB.js";import"./uniqueId-S-XtUeLk.js";import{f as N}from"./format-D9ti-yNI.js";import{F as W}from"./filter-CKwhiPJ7.js";import{c as Z}from"./createLucideIcon-Ce72M_cX.js";import{C as ee}from"./chevron-down-h_OS1dfS.js";import{C as S}from"./calendar-CYnYG7qc.js";import{X as ae}from"./x-DW-vgWTY.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],re=Z("ChevronUp",te),se=({locations:f=[],services:L=[],providers:k=[],onFilterChange:_,initialFilters:h={},className:q=""})=>{const C=[{id:"marh",name:"Virtua Marlton Hospital"},{id:"memh",name:"Virtua Mount Holly Hospital"},{id:"ollh",name:"Virtua Our Lady of Lourdes Hospital"},{id:"vorh",name:"Virtua Voorhees Hospital"}],[l,w]=t.useState(h.selectedHospital||""),[c,y]=t.useState(h.selectedLocation||""),[d,g]=t.useState(h.selectedSpecialty||""),[n,v]=t.useState(h.selectedSurgeon||""),[m,M]=t.useState(h.startDate||new Date(2024,9,1)),[x,E]=t.useState(h.endDate||new Date(2024,11,31)),[i,O]=t.useState(h.showComparison||!1),[p,I]=t.useState(h.compStartDate||new Date(2024,0,1)),[u,P]=t.useState(h.compEndDate||new Date(2024,5,30)),[z,F]=t.useState(!1),[V,T]=t.useState(!1),[Y,A]=t.useState(!1),[U,$]=t.useState(!1),[R,X]=t.useState(!0),B=t.useMemo(()=>l?f.filter(a=>a.hospitalId===l||a.name&&a.name.includes(l.toUpperCase())):[],[l,f]),G=t.useMemo(()=>c?L:[],[c,L]),J=t.useMemo(()=>d?k.filter(a=>a.specialty&&a.specialty.includes(d)):[],[d,k]),j={start:N(m,"MMM d, yyyy"),end:N(x,"MMM d, yyyy"),compStart:N(p,"MMM d, yyyy"),compEnd:N(u,"MMM d, yyyy")};t.useEffect(()=>{_({selectedHospital:l,selectedLocation:c,selectedSpecialty:d,selectedSurgeon:n,dateRange:{startDate:m,endDate:x},comparisonDateRange:{startDate:p,endDate:u},showComparison:i})},[l,c,d,n,m,x,p,u,i]),t.useEffect(()=>{l===""&&y("")},[l]),t.useEffect(()=>{c===""&&g("")},[c]),t.useEffect(()=>{d===""&&v("")},[d]);const H=a=>{const r=new Date;let o,b;switch(a){case"last30":b=r,o=new Date(r),o.setDate(r.getDate()-30);break;case"last90":b=r,o=new Date(r),o.setDate(r.getDate()-90);break;case"lastQuarter":b=new Date(r.getFullYear(),Math.floor(r.getMonth()/3)*3-1,0),o=new Date(r.getFullYear(),Math.floor(r.getMonth()/3)*3-3,1);break;case"ytd":b=r,o=new Date(r.getFullYear(),0,1);break;default:return}M(o),E(b)},K=()=>{w(""),y(""),g(""),v(""),M(new Date(2024,9,1)),E(new Date(2024,11,31)),O(!1),I(new Date(2024,0,1)),P(new Date(2024,5,30))},Q=t.useMemo(()=>{const a=[];if(l){const r=C.find(o=>o.id===l);a.push({type:"hospital",id:l,label:r?r.name:l,onRemove:()=>w("")})}if(c){const r=f.find(o=>o.id===c);a.push({type:"location",id:c,label:r?r.name:c,onRemove:()=>y("")})}if(d&&a.push({type:"specialty",id:d,label:d,onRemove:()=>g("")}),n){const r=k.find(o=>o.id===n);a.push({type:"surgeon",id:n,label:r?r.name:n,onRemove:()=>v("")})}return i&&a.push({type:"comparison",id:"comparison",label:"Comparison Period",onRemove:()=>O(!1)}),a},[l,c,d,n,i,C,f,k]);return e.jsxs("div",{className:`healthcare-card ${q}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-healthcare-text-primary dark:text-healthcare-text-primary-dark flex items-center",children:[e.jsx(W,{className:"mr-2 h-5 w-5"}),"Filters"]}),e.jsx("button",{className:"text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark hover:text-healthcare-text-primary dark:hover:text-healthcare-text-primary-dark",onClick:()=>X(!R),children:R?e.jsx(re,{className:"h-4 w-4"}):e.jsx(ee,{className:"h-4 w-4"})})]}),R&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-1",children:"Hospital"}),e.jsxs("select",{className:"bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md w-full p-2 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",value:l,onChange:a=>w(a.target.value),children:[e.jsx("option",{value:"",children:"Select Hospital"}),C.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-1",children:"OR Location"}),e.jsxs("select",{className:"bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md w-full p-2 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",value:c,onChange:a=>y(a.target.value),disabled:!l,children:[e.jsx("option",{value:"",children:"Select OR Location"}),B.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),!l&&e.jsx("p",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mt-1",children:"Please select a hospital first"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-1",children:"Specialty"}),e.jsxs("select",{className:"bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md w-full p-2 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",value:d,onChange:a=>g(a.target.value),disabled:!c,children:[e.jsx("option",{value:"",children:"Select Specialty"}),G.map(a=>e.jsx("option",{value:typeof a=="string"?a:a.id,children:typeof a=="string"?a:a.name},typeof a=="string"?a:a.id))]}),!c&&e.jsx("p",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mt-1",children:"Please select an OR location first"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark mb-1",children:"Surgeon"}),e.jsxs("select",{className:"bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md w-full p-2 text-healthcare-text-primary dark:text-healthcare-text-primary-dark",value:n,onChange:a=>v(a.target.value),disabled:!d,children:[e.jsx("option",{value:"",children:"Select Surgeon"}),J.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),!d&&e.jsx("p",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark mt-1",children:"Please select a specialty first"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"px-2 py-1 text-xs bg-healthcare-surface-hover dark:bg-healthcare-surface-hover-dark rounded-md hover:bg-healthcare-hover dark:hover:bg-healthcare-hover-dark",onClick:()=>H("last30"),children:"30d"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-healthcare-surface-hover dark:bg-healthcare-surface-hover-dark rounded-md hover:bg-healthcare-hover dark:hover:bg-healthcare-hover-dark",onClick:()=>H("last90"),children:"90d"}),e.jsx("button",{className:"px-2 py-1 text-xs bg-healthcare-surface-hover dark:bg-healthcare-surface-hover-dark rounded-md hover:bg-healthcare-hover dark:hover:bg-healthcare-hover-dark",onClick:()=>H("ytd"),children:"YTD"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(D,{value:m,onChange:a=>M(a),inline:z,onClose:()=>F(!1),maxDate:x,theme:{root:{base:"relative"},popup:{root:{base:"absolute top-10 z-55 block pt-2"}}},title:"Start Date",trigger:e.jsxs("button",{className:"w-full flex items-center justify-start px-3 py-2 bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md text-healthcare-text-primary dark:text-healthcare-text-primary-dark",onClick:()=>F(!z),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),j.start]})})}),e.jsx("div",{children:e.jsx(D,{value:x,onChange:a=>E(a),inline:V,onClose:()=>T(!1),minDate:m,theme:{root:{base:"relative"},popup:{root:{base:"absolute top-10 z-55 block pt-2"}}},title:"End Date",trigger:e.jsxs("button",{className:"w-full flex items-center justify-start px-3 py-2 bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md text-healthcare-text-primary dark:text-healthcare-text-primary-dark",onClick:()=>T(!V),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),j.end]})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Comparative Period"}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:i,onChange:()=>O(!i)}),e.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-healthcare-primary dark:peer-checked:bg-healthcare-primary-dark"})]})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(D,{value:p,onChange:a=>I(a),inline:Y,onClose:()=>A(!1),maxDate:u,theme:{root:{base:"relative"},popup:{root:{base:"absolute top-10 z-55 block pt-2"}}},title:"Comparative Start Date",trigger:e.jsxs("button",{className:"w-full flex items-center justify-start px-3 py-2 bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md text-healthcare-text-primary dark:text-healthcare-text-primary-dark",onClick:()=>A(!Y),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),j.compStart]})})}),e.jsx("div",{children:e.jsx(D,{value:u,onChange:a=>P(a),inline:U,onClose:()=>$(!1),minDate:p,theme:{root:{base:"relative"},popup:{root:{base:"absolute top-10 z-55 block pt-2"}}},title:"Comparative End Date",trigger:e.jsxs("button",{className:"w-full flex items-center justify-start px-3 py-2 bg-healthcare-surface dark:bg-healthcare-surface-dark border border-healthcare-border dark:border-healthcare-border-dark rounded-md text-healthcare-text-primary dark:text-healthcare-text-primary-dark",onClick:()=>$(!U),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),j.compEnd]})})})]})]}),Q.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-healthcare-border dark:border-healthcare-border-dark",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-healthcare-text-primary dark:text-healthcare-text-primary-dark",children:"Active Filters"}),e.jsx("button",{className:"text-xs text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark hover:text-healthcare-text-primary dark:hover:text-healthcare-text-primary-dark",onClick:K,children:"Clear All"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(a=>e.jsxs("div",{className:"bg-healthcare-surface-hover dark:bg-healthcare-surface-hover-dark px-2 py-1 rounded-md text-xs flex items-center",children:[e.jsxs("span",{className:"mr-1",children:[a.type,":"]}),e.jsx("span",{className:"font-medium",children:a.label}),e.jsx("button",{className:"ml-1 text-healthcare-text-secondary dark:text-healthcare-text-secondary-dark hover:text-healthcare-text-primary dark:hover:text-healthcare-text-primary-dark",onClick:a.onRemove,children:e.jsx(ae,{className:"h-3 w-3"})})]},`${a.type}-${a.id}`))})]})]})]})};se.propTypes={locations:s.arrayOf(s.shape({id:s.string,name:s.string,hospitalId:s.string})),services:s.arrayOf(s.oneOfType([s.string,s.shape({id:s.string,name:s.string})])),providers:s.arrayOf(s.shape({id:s.string,name:s.string,specialty:s.string})),onFilterChange:s.func.isRequired,initialFilters:s.object,className:s.string};export{re as C,se as H};
