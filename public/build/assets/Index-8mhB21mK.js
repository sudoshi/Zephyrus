import{r as i,j as e,L as p,$ as o}from"./app-DNCPaP7U.js";import{A as j}from"./AuthenticatedLayout-bVzRFQ8r.js";import{P as g}from"./progress-D-tDM6_c.js";import{a as f}from"./index-HK1FPFVx.js";import{P as v}from"./plus-DF7GOBCn.js";import{S as b}from"./search-BlSEZWgT.js";import{A as N}from"./arrow-right-xdyR-px0.js";import"./TopNavigation-BPEMQkzy.js";import"./iconify-CuDxMG-b.js";import"./UserAvatar-DdRArJVQ.js";import"./DarkModeToggle-oH18ZJvw.js";import"./useFocusVisible-KZXt4Cm4.js";import"./portal-B_iHtz37.js";import"./transition-l3QoJGEh.js";import"./createLucideIcon-Ce72M_cX.js";const y=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),c=a=>{switch(a.toLowerCase()){case"plan":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900";case"do":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";case"study":return"text-purple-600 bg-purple-100 dark:text-purple-400 dark:bg-purple-900";case"act":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900";case"in progress":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900"}},U=({auth:a})=>{const[r,d]=i.useState(""),[l,m]=i.useState("all"),[n,x]=i.useState("dueDate"),u=f.filter(s=>{const t=s.title.toLowerCase().includes(r.toLowerCase())||s.plan.objective.toLowerCase().includes(r.toLowerCase()),h=l==="all"||s.status.toLowerCase()===l.toLowerCase();return t&&h}).sort((s,t)=>{switch(n){case"dueDate":return new Date(s.dueDate)-new Date(t.dueDate);case"progress":return t.progress-s.progress;default:return 0}});return e.jsxs(j,{user:a.user,children:[e.jsx(p,{title:"PDSA Cycles"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"healthcare-card",children:[e.jsxs("div",{className:"border-b p-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"PDSA Cycles"}),e.jsx(o,{href:"/improvement/pdsa/create",children:e.jsxs("button",{className:"healthcare-button-primary flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"New PDSA Cycle"]})})]}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search cycles...",value:r,onChange:s=>d(s.target.value),className:"healthcare-input pl-9 w-full"})]}),e.jsxs("select",{value:l,onChange:s=>m(s.target.value),className:"healthcare-input",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"plan",children:"Plan"}),e.jsx("option",{value:"do",children:"Do"}),e.jsx("option",{value:"study",children:"Study"}),e.jsx("option",{value:"act",children:"Act"})]}),e.jsxs("select",{value:n,onChange:s=>x(s.target.value),className:"healthcare-input",children:[e.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),e.jsx("option",{value:"progress",children:"Sort by Progress"})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:u.map(s=>e.jsxs("div",{className:"healthcare-card hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:s.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.plan.objective}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(s.status)}`,children:s.status}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Due: ",y(s.dueDate)]})]})]}),e.jsx(o,{href:`/improvement/pdsa/${s.id}`,children:e.jsxs("button",{className:"healthcare-button-secondary text-sm flex items-center gap-2",children:["View Details",e.jsx(N,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(g,{value:s.progress,className:"mt-2"})]}),s.barriers&&s.barriers.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Active Barriers"}),e.jsx("div",{className:"space-y-2",children:s.barriers.map(t=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:t.description}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(t.status)}`,children:t.priority})]},t.id))})]})]},s.id))})})]})})})]})};export{U as default};
